{"version":3,"sources":["../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/data-grid-types.js","../../src/utils/interleave.js","../../src/utils/isPlainObject.js","../../src/utils/empties.js","../../src/utils/isFunction.js","../../src/utils/getComponentName.js","../../src/utils/isStyledComponent.js","../../src/constants.js","../../src/utils/error.js","../../src/sheet/GroupedTag.js","../../src/sheet/GroupIDAllocator.js","../../src/sheet/Rehydration.js","../../src/utils/nonce.js","../../src/sheet/dom.js","../../src/sheet/Tag.js","../../src/sheet/Sheet.js","../../src/utils/generateAlphabeticName.js","../../src/utils/hash.js","../../src/utils/isStaticRules.js","../../src/models/ComponentStyle.js","../../src/utils/stylis.js","../../src/utils/stylisPluginInsertRule.js","../../src/models/StyleSheetManager.js","../../src/models/Keyframes.js","../../src/utils/hyphenateStyleName.js","../../src/utils/flatten.js","../../src/utils/isStatelessFunction.js","../../src/utils/addUnitIfNeeded.js","../../src/constructors/css.js","../../src/utils/checkDynamicCreation.js","../../src/utils/determineTheme.js","../../src/utils/escape.js","../../src/utils/generateComponentId.js","../../src/utils/isTag.js","../../src/utils/mixinDeep.js","../../src/models/ThemeProvider.js","../../src/models/StyledComponent.js","../../src/utils/generateDisplayName.js","../../src/utils/joinStrings.js","../../src/utils/domElements.js","../../src/constructors/styled.js","../../src/constructors/constructWithOptions.js","../../src/models/GlobalStyle.js","../../src/models/ServerStyleSheet.js","../../src/constructors/keyframes.js","../../src/hooks/useTheme.js","../../src/base.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/common/styles.js","../../../node_modules/lodash/range.js","../../../node_modules/lodash/toNumber.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/common/support.js","../../../node_modules/lodash/_createRange.js","../../../node_modules/lodash/_baseRange.js","../../../node_modules/lodash/toFinite.js","../../../node_modules/lodash/_baseTrim.js","../../../node_modules/lodash/_trimmedEndIndex.js","../../../node_modules/lodash/clamp.js","../../../node_modules/lodash/_arrayIncludes.js","../../../node_modules/lodash/_baseIndexOf.js","../../../node_modules/lodash/_baseFindIndex.js","../../../node_modules/lodash/_baseIsNaN.js","../../../node_modules/lodash/_strictIndexOf.js","../../../node_modules/lodash/_arrayIncludesWith.js","../../../node_modules/lodash/debounce.js","../../../node_modules/react-responsive-carousel/lib/js/CSSTranslate.js","../../../node_modules/react-virtualized-auto-sizer/dist/index.esm.js","../../../node_modules/react-easy-swipe/lib/index.js","../../../node_modules/react-responsive-carousel/lib/js/cssClasses.js","../../../node_modules/react-responsive-carousel/lib/js/components/Thumbs.js","../../../node_modules/react-responsive-carousel/lib/js/shims/window.js","../../../node_modules/react-responsive-carousel/lib/js/components/Carousel/utils.js","../../../node_modules/lodash/has.js","../../../node_modules/lodash/_baseHas.js","../../../node_modules/shallowequal/index.js","../../../node_modules/@emotion/stylis/dist/stylis.browser.esm.js","../../../node_modules/lodash/_baseClamp.js","../../../node_modules/lodash/uniq.js","../../../node_modules/lodash/_baseUniq.js","../../../node_modules/lodash/_createSet.js","../../../node_modules/lodash/noop.js","../../../node_modules/lodash/flatten.js","../../../node_modules/lodash/_baseFlatten.js","../../../node_modules/lodash/_isFlattenable.js","../../../node_modules/lodash/now.js","../../../node_modules/react-responsive-carousel/lib/js/index.js","../../../node_modules/react-responsive-carousel/lib/js/components/Carousel/index.js","../../../node_modules/react-easy-swipe/lib/react-swipe.js","../../../node_modules/react-easy-swipe/node_modules/prop-types/index.js","../../../node_modules/react-easy-swipe/node_modules/prop-types/factoryWithThrowingShims.js","../../../node_modules/react-easy-swipe/node_modules/prop-types/lib/ReactPropTypesSecret.js","../../../node_modules/react-responsive-carousel/lib/js/dimensions.js","../../../node_modules/react-responsive-carousel/lib/js/shims/document.js","../../../node_modules/react-responsive-carousel/lib/js/components/Carousel/animations.js","../../../node_modules/marked/lib/marked.umd.js","../../../node_modules/lodash/throttle.js","../../../node_modules/lodash/groupBy.js","../../../node_modules/lodash/_createAggregator.js","../../../node_modules/lodash/_arrayAggregator.js","../../../node_modules/lodash/_baseAggregator.js","../../../node_modules/@glideapps/glide-data-grid-source/dist/js/use-column-sort.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/click-outside-container/click-outside-container.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/common/utils.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/data-grid-lib.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/cells/boolean-cell.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid-overlay-editor/private/bubbles-overlay-editor-style.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid-overlay-editor/private/bubbles-overlay-editor.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/cells/bubble-cell.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid-overlay-editor/private/drilldown-overlay-editor.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/cells/drilldown-cell.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid-overlay-editor/private/image-overlay-editor-style.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid-overlay-editor/private/image-overlay-editor.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/cells/image-cell.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/cells/loading-cell.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/markdown-div/private/markdown-container.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/markdown-div/markdown-div.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/growing-entry/growing-entry-style.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/growing-entry/growing-entry.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid-overlay-editor/private/markdown-overlay-editor-style.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid-overlay-editor/private/markdown-overlay-editor.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/cells/markdown-cell.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/cells/marker-cell.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/cells/new-row-cell.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/cells/number-cell.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/cells/protected-cell.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/cells/row-id-cell.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/cells/text-cell.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid-overlay-editor/private/uri-overlay-editor-style.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid-overlay-editor/private/uri-overlay-editor.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/cells/uri-cell.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/cells/index.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid-overlay-editor/data-grid-overlay-editor-style.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid-overlay-editor/use-stay-on-screen.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid-overlay-editor/data-grid-overlay-editor.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/common/image-window-loader.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/sprites.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/data-grid-sprites.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/color-parser.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/data-grid-render.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/animation-manager.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/common/browser-detect.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/data-grid.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/use-animation-queue.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid-dnd/data-grid-dnd.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/scrolling-data-grid/infinite-scroller.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/scrolling-data-grid/scrolling-data-grid.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid-search/data-grid-search-style.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid-search/data-grid-search.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-editor/group-rename.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-editor/use-column-sizer.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/common/is-hotkey.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-editor/data-editor-fns.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-editor-container/data-grid-container.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-editor/data-editor.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-editor/use-cells-for-selection.js","../../../node_modules/@glideapps/glide-data-grid/dist/js/data-grid/use-selection-behavior.js"],"names":["_Symbol$iterator","GridCellKind","GridColumnIcon","InnerGridCellKind","emptyCompactSelection","BooleanEmpty","BooleanIndeterminate","undefined","isSizedGridColumn","c","resolveCellsThunk","thunk","a","isEditableGridCell","cell","kind","Loading","Bubble","RowID","Protected","Drilldown","proveType","isInnerOnlyCell","Marker","NewRow","isReadWriteCell","Image","Text","Number","Markdown","Uri","Custom","Boolean","readonly","assertNever","isObjectEditorCallbackResult","obj","has","booleanCellIsEditable","allowEdit","Symbol","iterator","CompactSelection","items","this","offset","amount","map","x","add","selection","slice","input","length","ranges","stack","sort","b","push","forEach","range","top","mergeRanges","remove","selMin","selMax","entries","i","start","end","toAdd","splice","first","last","hasIndex","index","hasAll","some","predicate","equals","other","left","right","len","empty","_emptyCompactSelectio","fromSingleSelection","strings","interpolations","result","toString","Object","prototype","call","typeOf","EMPTY_ARRAY","freeze","EMPTY_OBJECT","isFunction","test","getComponentName","target","displayName","name","isStyledComponent","styledComponentId","SC_ATTR","process","REACT_APP_SC_ATTR","IS_BROWSER","window","DISABLE_SPEEDY","SC_DISABLE_SPEEDY","REACT_APP_SC_DISABLE_SPEEDY","throwStyledComponentsError","code","Error","join","DefaultGroupedTag","tag","groupSizes","Uint32Array","indexOfGroup","group","insertRules","rules","oldBuffer","oldSize","newSize","throwStyledError","set","ruleIndex","l","insertRule","clearGroup","startIndex","endIndex","deleteRule","getGroup","css","getRule","groupIDRegister","Map","reverseRegister","nextFreeGroup","getGroupForId","id","get","getIdForGroup","setGroupForId","SELECTOR","MARKER_RE","RegExp","rehydrateNamesFromContent","sheet","content","names","split","registerName","rehydrateSheetFromTag","style","parts","textContent","part","trim","marker","match","parseInt","getTag","getNonce","__webpack_nonce__","makeStyleTag","head","document","parent","createElement","prevStyle","childNodes","child","nodeType","hasAttribute","nextSibling","setAttribute","__VERSION__","nonce","insertBefore","CSSOMTag","element","appendChild","createTextNode","styleSheets","ownerNode","rule","_error","cssRules","cssText","TextTag","nodes","node","refNode","removeChild","VirtualTag","_target","t","SHOULD_REHYDRATE","defaultOptions","isServer","useCSSOMInjection","StyleSheet","options","globalStyles","gs","server","querySelectorAll","getAttribute","parentNode","registerId","reconstructWithOptions","withNames","allocateGSInstance","hasNameForId","groupNames","Set","clearNames","clear","clearRules","clearTag","size","selector","AD_REPLACER_R","getAlphabeticChar","String","fromCharCode","generateAlphabeticName","Math","abs","replace","phash","h","charCodeAt","hash","isStaticRules","SEED","ComponentStyle","componentId","baseStyle","staticRulesId","isStatic","NODE_ENV","baseHash","generateAndInjectStyles","executionContext","styleSheet","stylis","cssStatic","flatten","generateName","cssStaticFormatted","dynamicHash","partRule","partChunk","partString","Array","isArray","cssFormatted","COMMENT_REGEX","COMPLEX_SELECTOR_PREFIX","createStylisInstance","_componentId","_selector","_selectorRegexp","_consecutiveSelfRefRegExp","plugins","Stylis","parsingRules","parseRulesPlugin","toSheet","block","e","context","selectors","parents","line","column","ns","depth","at","delimiter","selfReferenceReplacer","string","indexOf","stringifyRules","prefix","flatCSS","cssStr","use","_","lastIndexOf","parsedRules","reduce","acc","plugin","StyleSheetContext","React","createContext","StylisContext","Consumer","masterSheet","masterStylis","useStyleSheet","useContext","useStylis","StyleSheetManager","props","useState","stylisPlugins","setPlugins","contextStyleSheet","useMemo","disableCSSOMInjection","disableVendorPrefixes","useEffect","shallowequal","Provider","value","children","Keyframes","inject","stylisInstance","resolvedName","_this","getName","uppercaseCheck","uppercasePattern","msPattern","prefixAndLowerCase","char","toLowerCase","hyphenateStyleName","isFalsish","chunk","ruleSet","isReactComponent","isPlainObject","objToCssArray","prevKey","key","hasOwnProperty","isCss","hyphenate","unitless","addTag","arg","styles","interleave","originalConsoleError","providedTheme","defaultProps","theme","escapeRegex","dashesAtEnds","escape","str","isTag","isObject","val","isValidKey","mixin","mixinDeep","rest","ThemeContext","ThemeProvider","outerTheme","themeContext","identifiers","createStyledComponent","isTargetStyledComp","isCompositeComponent","attrs","parentComponentId","generateComponentId","finalAttrs","concat","filter","shouldForwardProp","prop","filterFn","elementToBeCreated","WrappedStyledComponent","componentStyle","forwardRef","ref","forwardedComponent","forwardedRef","componentAttrs","foldedComponentIds","resolvedAttrs","resolvedAttrDef","attrDef","determineTheme","generatedClassName","warnTooManyClasses","refToForward","$as","as","isTargetTag","computedProps","propsForElement","validAttr","className","withComponent","previousComponentId","optionsToCopy","newComponentId","defineProperty","_foldedDefaultProps","merge","hoist","styled","constructWithOptions","componentConstructor","isValidElementType","templateFunction","withConfig","config","StyledComponent","domElement","GlobalStyle","createStyles","instance","removeStyles","renderStyles","ServerStyleSheet","_emitSheetCSS","SC_ATTR_VERSION","getStyleTags","sealed","getStyleElement","dangerouslySetInnerHTML","__html","seal","collectStyles","interleaveWithNodeStream","useTheme","dataEditorBaseTheme","accentColor","accentFg","accentLight","textDark","textMedium","textLight","textBubble","bgIconHeader","fgIconHeader","textHeader","textGroupHeader","textHeaderSelected","bgCell","bgCellMedium","bgHeader","bgHeaderHasFocus","bgHeaderHovered","bgBubble","bgBubbleSelected","bgSearchResult","borderColor","drilldownBorder","linkColor","cellHorizontalPadding","cellVerticalPadding","headerFontStyle","baseFontStyle","fontFamily","editorFontSize","baseStyled","getDataEditorTheme","require","createRange","module","exports","baseTrim","isSymbol","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","valueOf","isBinary","_val","panic","message","arguments","assert","fact","_never","maybe","fn","defaultValue","baseRange","isIterateeCall","toFinite","fromRight","step","nativeCeil","ceil","nativeMax","max","toNumber","INFINITY","trimmedEndIndex","reTrimStart","reWhitespace","charAt","baseClamp","number","lower","upper","baseIndexOf","array","baseFindIndex","baseIsNaN","strictIndexOf","fromIndex","comparator","now","nativeMin","min","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","clearTimeout","cancel","flush","default","position","metric","axis","positionPercent","createDetectElementResize","_window","self","global","attachEvent","requestFrame","raf","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","resetTriggers","triggers","__resizeTriggers__","expand","firstElementChild","contract","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollTop","scrollHeight","width","offsetWidth","height","offsetHeight","scrollListener","__resizeRAF__","__resizeLast__","checkTriggers","__resizeListeners__","animation","keyframeprefix","animationstartevent","domPrefixes","startEvents","elm","animationName","animationKeyframes","animationStyle","addResizeListener","doc","ownerDocument","elementStyle","getComputedStyle","getElementById","getElementsByTagName","type","expandTrigger","contractTrigger","addEventListener","__animationListener__","removeResizeListener","detachEvent","removeEventListener","classCallCheck","Constructor","createClass","defineProperties","descriptor","enumerable","configurable","writable","protoProps","staticProps","_extends","assign","source","possibleConstructorReturn","ReferenceError","AutoSizer","_React$PureComponent","_ref","_temp","_len","_key","__proto__","getPrototypeOf","state","defaultHeight","defaultWidth","_onResize","_this$props","disableHeight","disableWidth","onResize","_parentNode","_height","_width","_style","paddingLeft","paddingRight","paddingTop","paddingBottom","newHeight","newWidth","setState","_setRef","autoSizer","_autoSizer","subClass","superClass","create","constructor","setPrototypeOf","inherits","defaultView","HTMLElement","_detectElementResize","_props","_state","outerStyle","overflow","childParams","bailoutOnChildren","PureComponent","define","_reactSwipe","_reactSwipe2","_interopRequireDefault","__esModule","_classnames","_default","ROOT","customClassName","_defineProperty","CAROUSEL","isSlider","carousel","WRAPPER","SLIDER","isSwiping","thumbs","slider","animated","ITEM","selected","previous","thumb","slide","ARROW_PREV","disabled","ARROW_NEXT","DOT","dot","_react","_typeof","cache","_getRequireWildcardCache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","_interopRequireWildcard","_cssClasses","_dimensions","_CSSTranslate","_reactEasySwipe","WeakMap","_defineProperties","_setPrototypeOf","o","p","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","_assertThisInitialized","Thumbs","_Component","_inherits","_super","_classCallCheck","itemsWrapperRef","itemsListRef","thumbsRef","total","Children","count","wrapperSize","clientWidth","itemSize","thumbWidth","outerWidth","visibleItems","floor","showArrows","lastPosition","firstItem","getFirstItem","selectedItem","item","isKeyboardEvent","handler","onSelectItem","swiping","delta","deltaX","childrenLength","currentPosition","positions","moveTo","setupThumbs","prevProps","updateSizes","destroyThumbs","_this2","img","itemClass","thumbProps","setThumbsRef","onClick","handleClickItem","bind","onKeyDown","labels","role","tabIndex","_this3","itemListStyles","isSwipeable","hasPrev","hasNext","transformProp","transitionTime","WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform","WebkitTransitionDuration","MozTransitionDuration","MsTransitionDuration","OTransitionDuration","transitionDuration","msTransitionDuration","setItemsWrapperRef","slideRight","leftArrow","tagName","onSwipeLeft","slideLeft","onSwipeRight","onSwipeMove","onSwipeStart","onSwipeEnd","innerRef","setItemsListRef","allowMouseEvents","emulateTouch","renderItems","rightArrow","Component","setPosition","getPosition","defaultStatusFormatter","noop","current","infiniteLoop","centerMode","centerSlidePercentage","baseHas","hasPath","object","path","objA","objB","compare","compareContext","ret","keysA","keys","keysB","bHasOwnProperty","idx","valueA","valueB","stylis_min","W","M","d","q","g","k","y","C","m","v","n","K","u","r","I","B","J","f","F","G","N","substring","ca","O","A","H","X","D","z","da","ea","fa","w","L","P","Y","E","ha","Q","ia","Z","ja","ka","aa","ba","la","ma","R","na","oa","S","U","T","baseUniq","SetCache","arrayIncludes","arrayIncludesWith","cacheHas","createSet","setToArray","iteratee","includes","isCommon","seen","outer","computed","seenIndex","values","baseFlatten","arrayPush","isFlattenable","isStrict","isArguments","spreadableSymbol","isConcatSpreadable","root","_Carousel","_types","CarouselProps","_Thumbs","_document","_utils","_animations","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread","getOwnPropertyDescriptors","Carousel","_React$Component","carouselWrapperRef","listRef","itemsRef","clearAutoPlay","autoPlay","timer","increment","interval","isMouseEntered","activeElement","contains","isFocusWithinTheCarousel","isHorizontal","keyCode","decrement","initialized","clientHeight","hasMount","cancelClick","onClickItem","onChange","onClickThumb","event","swipeMovementStarted","animationHandlerResponse","swipeAnimationHandler","selectItem","resetAutoPlay","newIndex","previousItem","animationHandler","handleOnChange","toArray","slideImages","image","complete","onImageLoad","forceUpdate","initState","itemListStyle","slideStyle","selectedStyle","fadeAnimationHandler","slideAnimationHandler","setupCarousel","prevState","autoFocus","forceFocus","stopSwipingHandler","setupAutoPlay","destroyAutoPlay","destroyCarousel","bindEvents","initialImage","getInitialImage","setMountState","unbindEvents","carouselWrapper","stopOnHover","startOnLeave","useKeyboardArrows","navigateWithKeyboard","_this$carouselWrapper","focus","isClone","isSelected","isPrevious","minWidth","pointerEvents","slideProps","setItemsRef","renderItem","_this4","showIndicators","renderIndicator","changeItem","showStatus","statusFormatter","showThumbs","handleClickThumb","renderThumbs","_this5","swipeable","canShowArrows","itemsClone","firstClone","shift","lastClone","pop","swiperProps","tolerance","swipeScrollTolerance","containerStyles","onSwipeForward","onSwipeBackwards","dynamicHeight","itemHeight","getVariableItemHeight","onSwipeUp","verticalSwipe","onSwipeDown","ariaLabel","setCarouselWrapperRef","renderControls","renderArrowPrev","onClickPrev","setListRef","renderArrowNext","onClickNext","renderStatus","preventMovementUntilSwipeScrollTolerance","onClickHandler","label","images","find","console","warn","slideSwipeAnimationHandler","slideStopSwipingHandler","_propTypes","setHasSupportToCaptureOption","_react2","_propTypes2","_objectWithoutProperties","_createClass","supportsCaptureOption","hasSupport","getSafeEventHandlerOpts","capture","_event$touches$","touches","pageX","pageY","screenX","screenY","ReactSwipe","_handleSwipeStart","_handleSwipeMove","_handleSwipeEnd","_onMouseDown","_onMouseMove","_onMouseUp","_setSwiperRef","swiper","passive","mouseDown","_getPosition","moveStart","_getPosition2","deltaY","moving","cancelable","preventDefault","movePosition","onMouseDown","onTouchStart","onTouchEnd","propTypes","bool","isRequired","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","err","getShim","ReactPropTypes","bigint","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","el","marginLeft","marginRight","returnStyles","finalBoundry","axisDelta","handledDelta","hasMoved","transitionTimingFunction","display","zIndex","minHeight","opacity","bottom","msTransitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","OTransitionTimingFunction","_unsupportedIterableToArray","minLen","_arrayLikeToArray","from","arr","arr2","_createForOfIteratorHelperLoose","allowArrayLike","it","next","done","getDefaults","baseUrl","breaks","extensions","gfm","headerIds","headerPrefix","highlight","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartLists","smartypants","tokenizer","walkTokens","xhtml","changeDefaults","newDefaults","defaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","ch","html","encode","unescapeTest","unescape","caret","edit","regex","opt","getRegex","nonWordAndColonTest","originIndependentUrl","cleanUrl","base","href","prot","decodeURIComponent","resolveUrl","encodeURI","baseUrls","justDomain","protocol","domain","rtrim","relativeBase","noopTest","exec","splitCells","tableRow","cells","escaped","curr","invert","suffLen","currChar","findClosingBracket","level","checkSanitizeDeprecation","repeatString","pattern","outputLink","cap","link","raw","lexer","title","text","inLink","token","tokens","inlineTokens","indentCodeCompensation","matchIndentToCode","indentToCode","matchIndentInNode","Tokenizer","_proto","space","src","newline","codeBlockStyle","fences","lang","heading","trimmed","inline","hr","blockquote","blockTokens","list","istask","ischecked","indent","blankLine","endsWithBlankLine","nextLine","rawLine","itemContents","endEarly","bull","isordered","ordered","loose","itemRegex","trimLeft","search","nextBulletRegex","hrRegex","task","checked","trimRight","spacers","hasMultipleLineBreaks","every","_step","lineBreaks","_iterator","pre","def","table","header","align","rows","j","row","lheading","paragraph","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","linkLen","_escapes","reflink","links","nolink","emStrong","maskedSrc","prevChar","lDelim","nextChar","punctuation","rDelim","rLength","lLength","delimTotal","midDelimTotal","endReg","rDelimAst","rDelimUnd","lastIndex","_text","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","br","del","autolink","url","prevCapZero","_backpedal","inlineText","_paragraph","_label","_title","bullet","listItemStart","_tag","_comment","normal","reflinkSearch","out","random","_punctuation","blockSkip","escapedEmSt","_scheme","_email","_attribute","_href","strong","middle","endAst","endUnd","em","_extended_email","Lexer","inlineQueue","lex","lexInline","lastToken","cutSrc","lastParagraphClipped","tabs","repeat","extTokenizer","startBlock","Infinity","tempSrc","tempStart","getStartIndex","errMsg","error","keepPrevChar","startInline","Renderer","_code","infostring","quote","_html","slugger","slug","body","listitem","checkbox","tablerow","tablecell","flags","TextRenderer","Slugger","serialize","getNextSafeSlug","originalSlug","isDryRun","occurenceAccumulator","dryrun","Parser","textRenderer","parse","parseInline","l2","l3","itemBody","renderers","parser","unshift","marked","callback","pending","_tokens","setOptions","hasExtensions","opts","childTokens","pack","ext","prevRenderer","_len2","_key2","_loop","_len3","_key3","_loop2","prevTokenizer","_len4","_key4","_walkTokens","_loop3","_step2","_iterator2","_step3","_iterator3","_step4","_iterator4","_cell","factory","debounce","baseAssignValue","createAggregator","groupBy","arrayAggregator","baseAggregator","baseIteratee","setter","initializer","collection","accumulator","baseEach","cellToSortData","_c$data$toString","_c$data","_c$data$toString2","_c$data2","_c$data3","data","copyData","tryParse","parseFloat","isNaN","useColumnSort","_sort$direction","getCellContentIn","getCellContent","sortCol","columns","findIndex","dir","direction","sortMap","vals","mode","compareRaw","localeCompare","compareSmart","reverse","getOriginalIndex","col","ClickOutsideContainer","wrapperRef","clickOutside","classList","parentElement","onClickOutside","useEventListener","eventName","_capture","savedHandler","eventListener","_savedHandler$current","PI","degreesToRadians","degrees","disabledProps","EditPencil","_props$fgColor","fg","fgColor","viewBox","fill","xmlns","stroke","strokeWidth","strokeLinecap","strokeLinejoin","vectorEffect","Checkmark","_props$fgColor2","ltrRange","rtl","ltr","scrollbarWidthCache","isGroupEqual","cellIsInRect","rect","startX","endX","startY","endY","cellCol","cellRow","span","spanStart","spanEnd","remapForDnDState","dndState","mappedCols","temp","dest","sticky","getStickyWidth","remapped","getEffectiveColumns","cellXOffset","tx","curX","metricsSize","metricsCache","_document$fonts","fonts","ready","measureTextCached","s","ctx","font","baseline","makeCacheKey","metrics","measureText","getMiddleCenterBias","biasCache","alphabeticMetrics","loadMetric","bias","actualBoundingBoxDescent","actualBoundingBoxAscent","getMiddleCenterBiasInner","save","textBaseline","restore","clearCacheOnLoad","prepTextCell","lastPrep","overrideColor","newFill","fillStyle","drawTextCell","contentAlign","changed","textAlign","fillText","drawCheckbox","highlighted","hoverX","hoverY","centerX","centerY","hovered","beginPath","roundedRect","lineTo","strokeStyle","lineJoin","lineCap","lineWidth","radius","tl","tr","bl","arcTo","drilldownCache","drawDrilldownCell","imageLoader","renderX","tileMap","border","dpr","devicePixelRatio","innerHeight","innerWidth","sideWidth","middleWidth","canvas","getContext","scale","targetHeight","shadowColor","shadowBlur","shadowOffsetY","getAndCacheDrilldownBorder","renderBoxes","textWidth","imgWidth","loadOrGetImage","bubbleHeight","renderWidth","bubblePad","rectInfo","rx","rw","imageSmoothingEnabled","maxSideWidth","drawImage","drawX","imgSize","srcX","srcY","srcWidth","srcHeight","clip","computeBounds","groupHeaderHeight","totalHeaderHeight","cellYOffset","translateX","translateY","freezeColumns","lastRowSticky","mappedColumns","rowHeight","headerHeight","freezeWidth","stickyHeight","toggleBoolean","booleanCellRenderer","getAccessibilityString","needsHover","useLabel","needsHoverPosition","measure","render","canEdit","hoverAmount","alpha","globalAlpha","drawBoolean","onDelete","bounds","BubblesOverlayEditorStyle","div","BubblesOverlayEditor","bubbles","bubbleCellRenderer","drawBubbles","getEditor","DrilldownOverlayEditorStyle","DrilldownOverlayEditor","drilldowns","drilldownCellRenderer","ImageOverlayEditorStyle","ImageOverlayEditor","urls","canWrite","onEditClick","renderImage","filtered","allowMove","_renderImage","innerContent","draggable","imageCellRenderer","_a$cell$displayData","imgHeight","displayData","_ctx","onFinishedEditing","imageEditorOverride","ImageEditor","allowAdd","onCancel","newImage","loadingCellRenderer","MarkdownContainer","MarkdownDiv","targetElement","containerRefHook","renderMarkdownIntoDiv","contents","createNode","innerHTML","childRange","selectNodeContents","deleteContents","newChild","childDoc","tags","rel","inputProps","InputBox","textarea","ShadowBox","GrowingEntryStyle","GrowingEntry","_rest$className","placeholder","altNewline","inputRef","useText","ta","setSelectionRange","onKeyDownInner","shiftKey","MarkdownOverlayEditorStyle","targetRect","MarkdownOverlayEditor","markdown","forceEditMode","onFinish","editMode","setEditMode","addLeftPad","markdownCellRenderer","renderPrep","markdownDivCreateNode","markerCellRenderer","newFont","renderDeprep","markerKind","checkedboxAlpha","drawMarkerRowCell","newRowCellRenderer","icon","spriteManager","alwaysShowIcon","px","padding","py","drawSprite","lineSize","xTranslate","padPlus","drawNewRowCell","hint","NumberOverlayEditor","numberCellRenderer","isHighlighted","fallback","floatValue","protectedCellRenderer","xStart","center","cos","sin","rowIDCellRenderer","textCellRenderer","UriOverlayEditorStyle","UriOverlayEditor","uri","uriCellRenderer","CellRenderers","DataGridOverlayEditorStyle","pad","useStayOnScreen","refState","useRefState","setRef","xOffset","setXOffset","isIntersecting","setIsIntersecting","observer","IntersectionObserver","ents","threshold","observe","disconnect","rafHandle","refRight","getBoundingClientRect","cv","DataGridOverlayEditor","editor","styleOverride","onFinishEditing","initialValue","provideEditor","tempValue","setTempValue","finished","customMotion","onCustomFinishedEditing","newValue","_customMotion$current","onKeyDownCustom","stopPropagation","Promise","ctrlKey","targetValue","customEditor","_renderer$getEditor","CellEditor","stayOnScreenStyle","disablePadding","disableStyling","isObjectEditor","CustomEditor","portalElement","createPortal","rowShift","imgPool","packColRowToNumber","unpackCol","packed","unpackRow","unpackNumberToColRow","ImageWindowLoader","imageLoaded","loadedLocations","visibleWindow","freezeCols","isInWindow","sendLoaded","throttle","clearOutOfWindow","keep","newWindow","_imgPool$pop","loaded","canceled","loadPromise","onload","decode","toWrite","iconHead","headerUri","bg","bgColor","sprites","headerRowID","headerNumber","headerCode","headerString","headerBoolean","headerAudioUri","headerVideoUri","headerEmoji","headerImage","headerPhone","headerMarkdown","headerDate","headerTime","headerEmail","headerReference","headerIfThenElse","headerSingleValue","headerLookup","headerTextTemplate","headerMath","headerRollup","headerJoinStrings","headerSplitString","headerGeoDistance","headerArray","rowOwnerOverlay","protectedColumnOverlay","renameIcon","variantList","renderSize","makeExtraMapIndex","getColorsForIndex","getColors","variant","SpriteManager","headerIcons","colorMap","spriteCanvas","spriteList","sprite","spriteIndex","variantIndex","yOffset","cols","_c$themeOverride","themeOverride","_c$themeOverride2","finalTheme","newMap","hasDiff","ex","imgSource","encodeURIComponent","parseToRgba","color","normalizedColor","createDiv","control","computedColor","withAlpha","blend","background","bb","ao","go","bo","loadingCell","allowOverlay","drawCell","drawCustomCell","hoverInfo","frameTime","enqueue","forceAnim","lastUpdate","draw","progress","MAX_SAFE_INTEGER","fade","fillRect","drawWithLastUpdate","lastUpdated","_lastPrep","_r$renderPrep","_lastPrep2","_lastPrep2$deprep","deprep","partialPrepResult","drawGridLines","effectiveCols","drawRegions","spans","getRowHeight","getRowThemeOverride","verticalBorder","_theme$horizontalBord","verticalOnly","hColor","horizontalBorderColor","vColor","minX","maxX","minY","maxY","MIN_SAFE_INTEGER","toDraw","x1","y1","x2","y2","stickyRowY","isHeader","ty","_rowTheme$horizontalB","rowTheme","groups","getActionBoundsForGroup","box","actions","pointInRect","getHeaderMenuBounds","menuButtonSize","drawHeader","isHovered","hasSelectedCell","drawHeaderCallback","touchMode","menuBounds","shouldDrawMenu","hasMenu","overlayIcon","fadeStartPercent","fadeEndPercent","fadeWidth","grad","createLinearGradient","trans","addColorStop","triangleX","triangleY","points","radiusAll","asVec","pp","vx","vy","vlen","sqrt","vnx","vny","nx","ny","ang","atan2","p1","p2","p3","v1","v2","sinA","sinA90","angle","asin","radDirection","drawDirection","halfAngle","lenOut","cRadius","arc","closePath","roundedPoly","drawGridHeaders","enableGroups","selectedColumns","dragAndDropState","isResizing","selectedCell","hoverValues","getGroupDetails","damage","_hovered$3","hCol","hRow","walkColumns","_y","clipX","_c$group","_hoverValues$find$hov","_hoverValues$find","sourceIndex","diff","groupTheme","overrideTheme","noHover","hoveredBoolean","hover","bgFillStyle","_hoverValues","_hovered$","finalX","walkGroups","groupName","_groupTheme$textGroup","fillColor","_hovered$2","actionBoxes","fadeStartX","mouseX","mouseY","action","actionHovered","drawGroups","intersectRect","w1","h1","w2","h2","clipDamage","effectiveColumns","includeCells","stickyRowHeight","_group","colDrawY","startRow","finalWidth","walkRowsInCol","drawY","rh","isSticky","isDamaged","getSpanBounds","cellX","cellY","cellW","cellH","allColumns","_allColumns$find$sour","_allColumns$find","frozenRect","contentRect","startCol","endCol","firstNonSticky","renderFromCol","tempX","tempW","renderToCol","drawCells","selectedRows","disabledRows","isFocused","prelightCells","highlightRegions","_damage$length","performance","handledSpans","colDrawStartY","_c$group2","colDrawX","colWidth","colHeight","found","dr","reclip","colSelected","colTheme","colFont","prepResult","_c$trailingRowOptions","_c$trailingRowOptions2","rowSelected","rowDisabled","cellWidth","drawingSpan","skipContents","spanKey","areas","area","trailingTheme","trailingRowOptions","cellIndex","cellIsSelected","accentCount","rangeStack","cellIsInRange","spanIsHighlighted","region","_prepResult","_prepResult$deprep","hoverValue","hv","_hoverValue$hoverAmou","cellFont","drawFocusRing","fillHandle","_cell$span","_selectedCell$current","targetCol","targetRow","targetColSpan","stickRowHeight","drawCb","_col$themeOverride$ac","_col$themeOverride","_col$themeOverride$ac2","_col$themeOverride2","_drawCb","drawGrid","_window$devicePixelRa","buffers","lastBlitData","canBlit","scrolling","overlayCanvas","overlay","targetCtx","overlayCtx","drawHeaderTexture","doHeaders","_selectedCell$current2","_selectedCell$current3","blittedYOnly","stickyWidth","regions","yOnly","blitWidth","blitHeight","sx","sy","sw","sh","dx","dy","dw","dh","setTransform","blitLastFrame","doCell","overdrawStickyBoundaries","focusRedraw","highlightRedraw","drawRects","topLeftBounds","bottomRightBounds","freezeSectionRightBounds","unfreezeSectionleftBounds","setLineDash","strokeRect","clipped","drawHighlightRings","getRowTheme","blankTheme","drawBlanks","lastRowDrawn","_c","__drawX","_clipX","_drawY","_rh","getLastRow","setWindow","cb","doSticky","doingSticky","_startCol$group","boxWidth","localX","easeOutCubic","AnimationManager","currentHoveredItem","leavingItems","lastAnimationTime","areSameItems","addToLeavingItems","removeFromLeavingItems","_leavingItem$hoverAmo","leavingItem","cleanUpLeavingElements","shouldStep","hasLeavingItems","currentHoveredIsAnimating","getAnimatingItems","timestamp","clamp","animating","setHovered","_this$currentHoveredI","userAgent","navigator","Lazy","_this$val","browserIsFirefox","browserIsSafari","browserIsOSX","platform","startsWith","_p$translateX","_p$translateY","_p$experimental","_eventTargetRef$curre","accessibilityHeight","cellXOffsetReal","onHeaderMenuClick","isFilling","onCanvasFocused","onCanvasBlur","onMouseUp","onMouseMoveRaw","onMouseMove","onItemHovered","firstColAccessible","onKeyUp","canvasRef","onDragStart","eventTargetRef","isDragging","isDraggable","allowResize","onCellFocused","damageRegion","setScrolling","hoveredItemInfo","setHoveredItemInfo","hoveredOnEdge","setHoveredOnEdge","overlayRef","lastWasTouch","setLastWasTouch","lastWasTouchRef","scrollingStopRef","disableFirefoxRescaling","experimental","enableFirefoxRescaling","buildSpriteMap","lastDrawRef","useMappedColumns","getBoundsForItem","getMouseArgsForPosition","posX","posY","ev","button","MouseEvent","targetX","getColumnIndexForX","targetY","hasGroups","lastRowHeight","effectiveRows","curY","getRowIndexForY","metaKey","isTouch","horizontal","vertical","isEdge","_mappedColumns$previo","_mappedColumns$col$gr","previousCol","localEventX","localEventY","isFillHandle","hoveredItem","enqueueRef","_item","hoverInfoRef","_canBlit$current","round","prev","damageInternal","locations","queue","seq","drawRef","loop","hasItem","useAnimationQueue","setCallback","overFill","setOverFill","headerHovered","groupHeaderHovered","clickableInnerCellHovered","editableBoolHovered","cursor","contain","groupHeaderActionForEvent","groupDesc","boxes","isOverHeaderMenu","clientX","clientY","headerBounds","downTime","onMouseDownImpl","eventTarget","onMouseUpImpl","isOutside","changedTouches","isLongTouch","onAnimationFrame","animManagerValue","animationManager","am","hoveredRef","newInfo","toCheck","sb","onKeyDownImpl","altKey","onKeyUpImpl","refImpl","dragMime","dragData","dragImage","dragImageX","dragImageY","setData","mime","payload","setDragImage","dataTransfer","effectAllowed","offscreen","boundsForDragTarget","selectionRef","focusRef","focusElement","_canvasRef$current","preventScroll","_canvasRef$current2","getBounds","lastFocusedSubdomNode","accessibilityTree","deps","mountedRef","debouncedSetState","useDebouncedMemo","_effectiveCols$","_selection$current$ce","_selection$current","_selection$current2","colOffset","fCol","fRow","visibleCols","visibleRows","makeRange","onFocus","focused","cellContent","onFocusCapture","_lastFocusedSubdomNod","_lastFocusedSubdomNod2","getRowData","stickyShadow","stickyX","boxShadow","transition","overlayStyle","onBlur","DataGridDnd","resizeColStartX","setResizeColStartX","resizeCol","setResizeCol","dragCol","setDragCol","dropCol","setDropCol","dragColActive","setDragColActive","dragStartX","setDragStartX","dragRow","setDragRow","dropRow","setDropRow","dragRowActive","setDragRowActive","dragStartY","setDragStartY","onColumnMoved","onColumnResized","onColumnResize","onColumnResizeStart","onColumnResizeEnd","gridRef","maxColumnWidth","minColumnWidth","onRowMoved","lockColumns","onItemHoveredImpl","canDragCol","shouldFireEvent","_gridRef$current","onHeaderMenuClickMangled","screenPosition","lastResizeWidthRef","dragOffset","getMangledCellContent","DataGrid","ScrollRegionStyle","InfiniteScroller","update","preventDiagonalScrolling","rightElement","rightElementSticky","scrollRef","scrollToEnd","minimap","padders","offsetY","lastScrollY","scroller","lastScrollPosition","lockDirection","resetHandle","onScroll","_lock$","_lock$2","lastScrollTop","lastScrollLeft","lock","newY","scrollableHeight","maxFakeY","prog","recomputed","_lastScrollPosition$c","lx","ly","onScrollRef","lastProps","nomEvent","setRefs","_lastProps$current","_lastProps$current2","maxHeight","marginBottom","MinimapStyle","GridScroller","_scrollRef$current","_scroller$scrollLeft","_scroller$scrollTop","onVisibleRegionChanged","overscrollX","overscrollY","showMinimap","dataGridProps","smoothScrollX","smoothScrollY","setClientWidth","setClientHeight","lastX","lastY","processArgs","cellRight","stickyColWidth","cx","cellBottom","cy","oldRect","onScrollUpdate","aspect","maxSize","hRatio","vRatio","vWidth","vHeight","handleMouse","currentTarget","newScrollLeft","newScrollTop","scrollTo","behavior","buttons","borderRadius","SearchWrapper","showSearch","upArrow","downArrow","closeX","DataGridSearch","getCellsForSelection","onSearchResultsChanged","onSearchClose","searchID","searchString","setSearchString","searchStatus","setSearchStatus","searchStatusRef","abortControllerRef","AbortController","searchHandle","searchResults","setSearchResults","cancelSearch","abort","cellYOffsetRef","beginSearch","searchStride","rowsSearched","runningResult","tick","tStart","rowsLeft","signal","added","testString","tEnd","selectedIndex","_searchStatusRef$curr","_searchStatusRef$curr2","results","tElapsed","rounded","scalar","onClose","onSearchChange","onNext","_ev$stopPropagation","onPrev","_ev$stopPropagation2","onSearchKeyDown","searchbox","_searchStatus$rowsSea","_searchStatus$results","_searchStatus$results2","resultString","cancelEvent","rowsSearchedProgress","progressStyle","onKeyDownCapture","htmlFor","ScrollingDataGrid","GroupRename","canvasBounds","setValue","_StyledClickOutsideContainer","_StyledInput","$_css","_styled","defaultSize","useColumnSizer","abortController","rowsRef","getCellsForSelectionRef","themeRef","memoMap","lastColumns","selectedData","setSelectionData","getCells","computeRows","tailRows","computeArea","tailComputeArea","getResult","tailGetResult","toSet","colIndex","sizes","_r$measure","measureCell","average","biggest","final","isHotkey","hotkey","wantCtrl","wantShift","wantAlt","wantMeta","unquote","descape","endsWith","State","None","inString","inStringPostQuote","decodeHTML","tableEl","walkEl","HTMLTableElement","nodeName","HTMLTableRowElement","HTMLTableCellElement","_current","_el$innerText","innerText","copyToClipboard","columnIndexes","formatCell","_cell$data$toString","_cell$data","pv","formatBoolean","clipboard","write","rootEl","rowEl","cellEl","ClipboardItem","Blob","outerHTML","clipboardData","writeText","toCss","Wrapper","DataEditorContainer","idCounter","shiftSelection","keybindingDefaults","selectAll","selectRow","selectColumn","downFill","rightFill","pageUp","pageDown","copy","paste","emptyGridSelection","DataEditor","_p$experimental2","_gridSelection$curren6","_p$experimental4","_p$experimental5","gridSelectionInner","setGridSelectionInner","setOverlay","mouseState","setMouseState","scrollTimer","lastSent","rowMarkers","rowMarkerWidthRaw","rowMarkerWidth","columnsIn","onCellClicked","onCellActivated","coercePasteValue","onHeaderClicked","spanRangeBehavior","onGroupHeaderClicked","onCellContextMenu","onHeaderContextMenu","getCellsForSelectionIn","onGroupHeaderContextMenu","onGroupHeaderRenamed","onCellEdited","onCellsEdited","keybindingsIn","keybindings","onRowAppended","highlightRegionsIn","rangeSelect","columnSelect","rowSelect","rangeSelectionBlending","columnSelectionBlending","rowSelectionBlending","onDeleteIn","onPaste","rowSelectionMode","rowMarkerStartIndex","onSearchCloseIn","onSelectionCleared","showSearchIn","gridSelectionOuter","gridSelection","onGridSelectionChange","minColumnWidthIn","maxColumnWidthIn","hasRowMarkers","rowMarkerOffset","showTrailingBlankRow","showSearchInner","setShowSearchInner","gridSelectionOuterMangled","getCellsForSelectionDirectWhenValid","_getCellsForSelection","getCellsForSelectionDirect","getCellsForSelectionMangled","newRect","useCellsForSelection","getCellsForSeletionDirect","setGridSelection","newVal","origVal","isFilled","_newVal","_newVal$current","leftCells","rightCells","rCells","_newVal$current$cell","expandSelection","sel","rangeBehavior","columnBehavior","rowBehavior","useCallback","append","trigger","_gridSelection$curren","_gridSelection$curren2","addLastRange","allowColumnCoSelect","allowRowCoSelect","newRows","allowMixed","_newRows","columnMixed","newCols","_newCols","rowMixed","useSelectionBehavior","setCurrent","setSelectedRows","setSelectedColumns","mergedTheme","visibleRegion","setVisibleRegion","immediate","_gridRef$current2","mangledRows","mangledOnCellEdited","mangledOnCellsEdited","mangledItems","mangledCols","maxWidth","visibleRegionRef","isTrailing","_trailingRowOptions$h","maybeFirstColumnHint","_c$trailingRowOptions3","_c$trailingRowOptions4","_c$trailingRowOptions5","addIcon","outerCol","strict","_vr$extras","_vr$extras$selected","_vr$extras2","_vr$extras3","vr","isOutsideMainArea","extras","isOutsideFreezeArea","freezeRegion","mangledGetGroupDetails","_getGroupDetails","_result$actions","setRenameGroup","setOverlaySimple","reselect","fromKeyboard","_gridRef$current3","focusOnRowFromTrailingBlankRow","_gridRef$current4","paddingX","paddingY","grid","rawBounds","scrollBounds","scrollX","scrollY","frozenWidth","sLeft","sRight","sTop","trailingRowHeight","sBottom","focusCallback","getCellContentRef","appendRow","_c$trailingRowOptions6","appendResult","backoff","doFocus","getCustomNewRowTargetColumn","_columns$col$trailing","_columns$col","_columns$col$trailing2","customTargetColumn","targetColumn","maybeIndex","lastSelectedRowRef","lastSelectedColRef","handleSelect","isMultiKey","isMultiRow","isMultiCol","lastMouseDownCellLocation","lastHighlighted","newSlice","_gridSelection$curren3","isLastStickyRow","startedFromLastSticky","lastCol","touchDownArgs","isPrevented","previousSelection","renameGroup","handleGroupHeaderSelection","needle","fillDown","_gridRef$current5","fillCol","fillVal","onContextMenu","_lastMouseDownCellLoc","mouse","clearInterval","lastMouseDownCol","lastMouseDownRow","handleMaybeClick","_mouse$previousSelect","_mouse$previousSelect2","selectedCol","selectedRow","prevCol","prevRow","_gridRef$current6","touchVr","_gridSelection$curren4","_gridSelection$curren5","clickLocation","onHeaderMenuClickInner","currentCell","onVisibleRegionChangedImpl","newRegion","onColumnMovedImpl","onDragStartImpl","onMouseMoveImpl","newRange","setInterval","scrollBy","adjustSelection","old","disallowed","uniq","_c$span$","_c$span","_c$span$2","_c$span2","getSpanStops","updateSelectedCell","fromEditingTrailingRow","freeMove","rowMax","newStack","movement","_gridRef$current7","movX","movY","isEditingTrailingRow","overlayID","deleteRange","_gridRef$current8","damaged","cellValue","_editor$deletedValue","deletedValue","_toDelete$onDelete","toDelete","overlayOpen","isOSX","isPrimaryKey","isDeleteKey","getSelection","removeAllRanges","addRange","_gridSelection$curren7","_gridSelection$curren8","callbackResult","_onDelete","fillRow","_gridRef$current9","asPrimary","onPasteInternal","pasteToCell","inner","toPaste","coerced","newNumber","_scrollRef$current2","_gridSelection$curren9","_selectedColumns$firs","_selectedRows$first","read","clipboardContent","types","getType","htmlBlob","fragment","querySelector","readText","getData","gridCol","gridRow","cellData","_ref2","_data","dataRow","dataItem","_gridRef$current10","onCopy","_scrollRef$current3","toCopy","rowIndex","then","all","navIndex","tint","mangledVerticalBorder","_verticalBorder","drawCustomCellMangled","renameGroupNode","mangledFreezeColumns","updateCells","damageList","_gridRef$current11","_gridRef$current12","_gridRef$current13","emit","selCol","selRow","setIsFocused","setIsFocusedDebounced","onFocusOut","_p$experimental$scrol","_p$experimental3","scrollbarWidth","scrollbarWidthOverride","visibility","getScrollBarWidth","rowsCountWithTrailingRow","avg","toAverage","idealWidth","idealHeight","isSubGrid"],"mappings":"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B+S,EAAmB,kBAAaF,EAAqB7S,EAAK0F,EAAStE,oCAGzE2R,EAAiBC,WAAa,mBAC5BJ,EAAqBC,EAAsB7S,OAAU0F,KAAYuN,KAGnEF,EAAiB5C,MAAQ,mBACvByC,EAAqBC,EAAsB7S,OACtC0F,GACHyK,MAAOpH,MAAM1K,UAAUkS,OAAO7K,EAAQyK,MAAOA,GAAOK,OAAO/V,aAGxDsY,EDzBO/S,CAAqCkT,GAAiBlT,IDJvD,CACb,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,WACA,SCnIU5D,SAAQ,YAClBuW,GAAOQ,GAAcR,GAAOQ,OELTC,sBAOP9S,EAAgBuH,QACrBvH,MAAQA,OACRuH,YAAcA,OACdG,SAAWN,EAAcpH,GAI9BmF,EAAWQ,WAAW5K,KAAKwM,YAAc,uBAG3CwL,sBACEC,EACAlL,EACAC,EACAC,OAGMlH,EAAMkH,EADIE,GAAQnN,KAAKiF,MAAO8H,EAAkBC,EAAYC,GACvCxI,KAAK,IAAK,IAC/B6B,EAAKtG,KAAKwM,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","file":"static/js/8.ee7d7197.chunk.js","sourcesContent":["let _Symbol$iterator;\n\nimport { assertNever, proveType } from \"../common/support.js\";\nimport has from \"lodash/has.js\";\nexport const BooleanEmpty = null;\nexport const BooleanIndeterminate = undefined;\nexport let GridCellKind;\n\n(function (GridCellKind) {\n  GridCellKind[\"Uri\"] = \"uri\";\n  GridCellKind[\"Text\"] = \"text\";\n  GridCellKind[\"Image\"] = \"image\";\n  GridCellKind[\"RowID\"] = \"row-id\";\n  GridCellKind[\"Number\"] = \"number\";\n  GridCellKind[\"Bubble\"] = \"bubble\";\n  GridCellKind[\"Boolean\"] = \"boolean\";\n  GridCellKind[\"Loading\"] = \"loading\";\n  GridCellKind[\"Markdown\"] = \"markdown\";\n  GridCellKind[\"Drilldown\"] = \"drilldown\";\n  GridCellKind[\"Protected\"] = \"protected\";\n  GridCellKind[\"Custom\"] = \"custom\";\n})(GridCellKind || (GridCellKind = {}));\n\nexport let GridColumnIcon;\n\n(function (GridColumnIcon) {\n  GridColumnIcon[\"HeaderRowID\"] = \"headerRowID\";\n  GridColumnIcon[\"HeaderCode\"] = \"headerCode\";\n  GridColumnIcon[\"HeaderNumber\"] = \"headerNumber\";\n  GridColumnIcon[\"HeaderString\"] = \"headerString\";\n  GridColumnIcon[\"HeaderBoolean\"] = \"headerBoolean\";\n  GridColumnIcon[\"HeaderAudioUri\"] = \"headerAudioUri\";\n  GridColumnIcon[\"HeaderVideoUri\"] = \"headerVideoUri\";\n  GridColumnIcon[\"HeaderEmoji\"] = \"headerEmoji\";\n  GridColumnIcon[\"HeaderImage\"] = \"headerImage\";\n  GridColumnIcon[\"HeaderUri\"] = \"headerUri\";\n  GridColumnIcon[\"HeaderPhone\"] = \"headerPhone\";\n  GridColumnIcon[\"HeaderMarkdown\"] = \"headerMarkdown\";\n  GridColumnIcon[\"HeaderDate\"] = \"headerDate\";\n  GridColumnIcon[\"HeaderTime\"] = \"headerTime\";\n  GridColumnIcon[\"HeaderEmail\"] = \"headerEmail\";\n  GridColumnIcon[\"HeaderReference\"] = \"headerReference\";\n  GridColumnIcon[\"HeaderIfThenElse\"] = \"headerIfThenElse\";\n  GridColumnIcon[\"HeaderSingleValue\"] = \"headerSingleValue\";\n  GridColumnIcon[\"HeaderLookup\"] = \"headerLookup\";\n  GridColumnIcon[\"HeaderTextTemplate\"] = \"headerTextTemplate\";\n  GridColumnIcon[\"HeaderMath\"] = \"headerMath\";\n  GridColumnIcon[\"HeaderRollup\"] = \"headerRollup\";\n  GridColumnIcon[\"HeaderJoinStrings\"] = \"headerJoinStrings\";\n  GridColumnIcon[\"HeaderSplitString\"] = \"headerSplitString\";\n  GridColumnIcon[\"HeaderGeoDistance\"] = \"headerGeoDistance\";\n  GridColumnIcon[\"HeaderArray\"] = \"headerArray\";\n  GridColumnIcon[\"RowOwnerOverlay\"] = \"rowOwnerOverlay\";\n  GridColumnIcon[\"ProtectedColumnOverlay\"] = \"protectedColumnOverlay\";\n})(GridColumnIcon || (GridColumnIcon = {}));\n\nexport function isSizedGridColumn(c) {\n  return \"width\" in c;\n}\nexport async function resolveCellsThunk(thunk) {\n  if (typeof thunk === \"object\") return thunk;\n  return await thunk();\n}\nexport function isEditableGridCell(cell) {\n  if (cell.kind === GridCellKind.Loading || cell.kind === GridCellKind.Bubble || cell.kind === GridCellKind.RowID || cell.kind === GridCellKind.Protected || cell.kind === GridCellKind.Drilldown) {\n    return false;\n  }\n\n  proveType(cell);\n  return true;\n}\nexport function isTextEditableGridCell(cell) {\n  if (cell.kind === GridCellKind.Loading || cell.kind === GridCellKind.Bubble || cell.kind === GridCellKind.RowID || cell.kind === GridCellKind.Protected || cell.kind === GridCellKind.Drilldown || cell.kind === GridCellKind.Boolean || cell.kind === GridCellKind.Image || cell.kind === GridCellKind.Custom) {\n    return false;\n  }\n\n  proveType(cell);\n  return true;\n}\nexport function isInnerOnlyCell(cell) {\n  return cell.kind === InnerGridCellKind.Marker || cell.kind === InnerGridCellKind.NewRow;\n}\nexport function isReadWriteCell(cell) {\n  if (!isEditableGridCell(cell) || cell.kind === GridCellKind.Image) return false;\n\n  if (cell.kind === GridCellKind.Text || cell.kind === GridCellKind.Number || cell.kind === GridCellKind.Markdown || cell.kind === GridCellKind.Uri || cell.kind === GridCellKind.Custom || cell.kind === GridCellKind.Boolean) {\n    return cell.readonly !== true;\n  }\n\n  assertNever(cell);\n}\nexport function isObjectEditorCallbackResult(obj) {\n  if (has(obj, \"editor\")) {\n    return true;\n  }\n\n  return false;\n}\nexport function booleanCellIsEditable(cell) {\n  if (cell.readonly === true) return false;\n  if (cell.readonly === false) return true;\n  if (cell.allowEdit === true) return true;\n  if (cell.allowEdit === false) return false;\n  return true;\n}\nexport let InnerGridCellKind;\n\n(function (InnerGridCellKind) {\n  InnerGridCellKind[\"NewRow\"] = \"new-row\";\n  InnerGridCellKind[\"Marker\"] = \"marker\";\n})(InnerGridCellKind || (InnerGridCellKind = {}));\n\nfunction mergeRanges(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  const ranges = [...input];\n  const stack = [];\n  ranges.sort(function (a, b) {\n    return a[0] - b[0];\n  });\n  stack.push([...ranges[0]]);\n  ranges.slice(1).forEach(range => {\n    const top = stack[stack.length - 1];\n\n    if (top[1] < range[0]) {\n      stack.push([...range]);\n    } else if (top[1] < range[1]) {\n      top[1] = range[1];\n    }\n  });\n  return stack;\n}\n\nlet emptyCompactSelection;\n_Symbol$iterator = Symbol.iterator;\nexport class CompactSelection {\n  constructor(items) {\n    this.items = items;\n\n    this.offset = amount => {\n      if (amount === 0) return this;\n      const newItems = this.items.map(x => [x[0] + amount, x[1] + amount]);\n      return new CompactSelection(newItems);\n    };\n\n    this.add = selection => {\n      const slice = typeof selection === \"number\" ? [selection, selection + 1] : selection;\n      const newItems = mergeRanges([...this.items, slice]);\n      return new CompactSelection(newItems);\n    };\n\n    this.remove = selection => {\n      const items = [...this.items];\n      const selMin = typeof selection === \"number\" ? selection : selection[0];\n      const selMax = typeof selection === \"number\" ? selection + 1 : selection[1];\n\n      for (const [i, slice] of items.entries()) {\n        const [start, end] = slice;\n\n        if (start <= selMax && selMin <= end) {\n          const toAdd = [];\n\n          if (start < selMin) {\n            toAdd.push([start, selMin]);\n          }\n\n          if (selMax < end) {\n            toAdd.push([selMax, end]);\n          }\n\n          items.splice(i, 1, ...toAdd);\n        }\n      }\n\n      return new CompactSelection(items);\n    };\n\n    this.first = () => {\n      if (this.items.length === 0) return undefined;\n      return this.items[0][0];\n    };\n\n    this.last = () => {\n      if (this.items.length === 0) return undefined;\n      return this.items.slice(-1)[0][1] - 1;\n    };\n\n    this.hasIndex = index => {\n      for (let i = 0; i < this.items.length; i++) {\n        const [start, end] = this.items[i];\n        if (index >= start && index < end) return true;\n      }\n\n      return false;\n    };\n\n    this.hasAll = index => {\n      for (let x = index[0]; x < index[1]; x++) {\n        if (!this.hasIndex(x)) return false;\n      }\n\n      return true;\n    };\n\n    this.some = predicate => {\n      for (const i of this) {\n        if (predicate(i)) return true;\n      }\n\n      return false;\n    };\n\n    this.equals = other => {\n      if (other === this) return true;\n      if (other.items.length !== this.items.length) return false;\n\n      for (let i = 0; i < this.items.length; i++) {\n        const left = other.items[i];\n        const right = this.items[i];\n        if (left[0] !== right[0] || left[1] !== right[1]) return false;\n      }\n\n      return true;\n    };\n  }\n\n  get length() {\n    let len = 0;\n\n    for (const [start, end] of this.items) {\n      len += end - start;\n    }\n\n    return len;\n  }\n\n  *[_Symbol$iterator]() {\n    for (const [start, end] of this.items) {\n      for (let x = start; x < end; x++) {\n        yield x;\n      }\n    }\n  }\n\n}\n\nCompactSelection.empty = () => {\n  var _emptyCompactSelectio;\n\n  return (_emptyCompactSelectio = emptyCompactSelection) !== null && _emptyCompactSelectio !== void 0 ? _emptyCompactSelectio : emptyCompactSelection = new CompactSelection([]);\n};\n\nCompactSelection.fromSingleSelection = selection => {\n  return CompactSelection.empty().add(selection);\n};","// @flow\nimport type { Interpolation } from '../types';\n\nexport default (\n  strings: Array<string>,\n  interpolations: Array<Interpolation>\n): Array<Interpolation> => {\n  const result = [strings[0]];\n\n  for (let i = 0, len = interpolations.length; i < len; i += 1) {\n    result.push(interpolations[i], strings[i + 1]);\n  }\n\n  return result;\n};\n","// @flow\nimport { typeOf } from 'react-is';\n\nexport default (x: any): boolean =>\n  x !== null &&\n  typeof x === 'object' &&\n  (x.toString ? x.toString() : Object.prototype.toString.call(x)) === '[object Object]' &&\n  !typeOf(x);\n","// @flow\nexport const EMPTY_ARRAY = Object.freeze([]);\nexport const EMPTY_OBJECT = Object.freeze({});\n","// @flow\nexport default function isFunction(test: any): boolean %checks {\n  return typeof test === 'function';\n}\n","// @flow\nimport type { IStyledComponent } from '../types';\n\nexport default function getComponentName(\n  target: $PropertyType<IStyledComponent, 'target'>\n): string {\n  return (\n    (process.env.NODE_ENV !== 'production' ? typeof target === 'string' && target : false) ||\n    // $FlowFixMe\n    target.displayName ||\n    // $FlowFixMe\n    target.name ||\n    'Component'\n  );\n}\n","// @flow\nexport default function isStyledComponent(target: any): boolean %checks {\n  return target && typeof target.styledComponentId === 'string';\n}\n","// @flow\n\ndeclare var SC_DISABLE_SPEEDY: ?boolean;\ndeclare var __VERSION__: string;\n\nexport const SC_ATTR: string =\n  (typeof process !== 'undefined' && (process.env.REACT_APP_SC_ATTR || process.env.SC_ATTR)) ||\n  'data-styled';\n\nexport const SC_ATTR_ACTIVE = 'active';\nexport const SC_ATTR_VERSION = 'data-styled-version';\nexport const SC_VERSION = __VERSION__;\nexport const SPLITTER = '/*!sc*/\\n';\n\nexport const IS_BROWSER = typeof window !== 'undefined' && 'HTMLElement' in window;\n\nexport const DISABLE_SPEEDY =\n  Boolean(typeof SC_DISABLE_SPEEDY === 'boolean'\n    ? SC_DISABLE_SPEEDY\n    : (typeof process !== 'undefined' && typeof process.env.REACT_APP_SC_DISABLE_SPEEDY !== 'undefined' && process.env.REACT_APP_SC_DISABLE_SPEEDY !== ''\n      ? process.env.REACT_APP_SC_DISABLE_SPEEDY === 'false' ? false : process.env.REACT_APP_SC_DISABLE_SPEEDY\n      : (typeof process !== 'undefined' && typeof process.env.SC_DISABLE_SPEEDY !== 'undefined' && process.env.SC_DISABLE_SPEEDY !== ''\n        ? process.env.SC_DISABLE_SPEEDY === 'false' ? false : process.env.SC_DISABLE_SPEEDY\n        : process.env.NODE_ENV !== 'production'\n      )\n    ));\n\n// Shared empty execution context when generating static styles\nexport const STATIC_EXECUTION_CONTEXT = {};\n","// @flow\nimport errorMap from './errors';\n\nconst ERRORS = process.env.NODE_ENV !== 'production' ? errorMap : {};\n\n/**\n * super basic version of sprintf\n */\nfunction format(...args) {\n  let a = args[0];\n  const b = [];\n\n  for (let c = 1, len = args.length; c < len; c += 1) {\n    b.push(args[c]);\n  }\n\n  b.forEach(d => {\n    a = a.replace(/%[a-z]/, d);\n  });\n\n  return a;\n}\n\n/**\n * Create an error file out of errors.md for development and a simple web link to the full errors\n * in production mode.\n */\nexport default function throwStyledComponentsError(\n  code: string | number,\n  ...interpolations: Array<any>\n) {\n  if (process.env.NODE_ENV === 'production') {\n    throw new Error(\n      `An error occurred. See https://git.io/JUIaE#${code} for more information.${\n        interpolations.length > 0 ? ` Args: ${interpolations.join(', ')}` : ''\n      }`\n    );\n  } else {\n    throw new Error(format(ERRORS[code], ...interpolations).trim());\n  }\n}\n","// @flow\n/* eslint-disable no-use-before-define */\n\nimport type { GroupedTag, Tag } from './types';\nimport { SPLITTER } from '../constants';\nimport throwStyledError from '../utils/error';\n\n/** Create a GroupedTag with an underlying Tag implementation */\nexport const makeGroupedTag = (tag: Tag): GroupedTag => {\n  return new DefaultGroupedTag(tag);\n};\n\nconst BASE_SIZE = 1 << 9;\n\nclass DefaultGroupedTag implements GroupedTag {\n  groupSizes: Uint32Array;\n\n  length: number;\n\n  tag: Tag;\n\n  constructor(tag: Tag) {\n    this.groupSizes = new Uint32Array(BASE_SIZE);\n    this.length = BASE_SIZE;\n    this.tag = tag;\n  }\n\n  indexOfGroup(group: number): number {\n    let index = 0;\n    for (let i = 0; i < group; i++) {\n      index += this.groupSizes[i];\n    }\n\n    return index;\n  }\n\n  insertRules(group: number, rules: string[]): void {\n    if (group >= this.groupSizes.length) {\n      const oldBuffer = this.groupSizes;\n      const oldSize = oldBuffer.length;\n\n      let newSize = oldSize;\n      while (group >= newSize) {\n        newSize <<= 1;\n        if (newSize < 0) {\n          throwStyledError(16, `${group}`);\n        }\n      }\n\n      this.groupSizes = new Uint32Array(newSize);\n      this.groupSizes.set(oldBuffer);\n      this.length = newSize;\n\n      for (let i = oldSize; i < newSize; i++) {\n        this.groupSizes[i] = 0;\n      }\n    }\n\n    let ruleIndex = this.indexOfGroup(group + 1);\n    for (let i = 0, l = rules.length; i < l; i++) {\n      if (this.tag.insertRule(ruleIndex, rules[i])) {\n        this.groupSizes[group]++;\n        ruleIndex++;\n      }\n    }\n  }\n\n  clearGroup(group: number): void {\n    if (group < this.length) {\n      const length = this.groupSizes[group];\n      const startIndex = this.indexOfGroup(group);\n      const endIndex = startIndex + length;\n\n      this.groupSizes[group] = 0;\n\n      for (let i = startIndex; i < endIndex; i++) {\n        this.tag.deleteRule(startIndex);\n      }\n    }\n  }\n\n  getGroup(group: number): string {\n    let css = '';\n    if (group >= this.length || this.groupSizes[group] === 0) {\n      return css;\n    }\n\n    const length = this.groupSizes[group];\n    const startIndex = this.indexOfGroup(group);\n    const endIndex = startIndex + length;\n\n    for (let i = startIndex; i < endIndex; i++) {\n      css += `${this.tag.getRule(i)}${SPLITTER}`;\n    }\n\n    return css;\n  }\n}\n","// @flow\n\nimport throwStyledError from '../utils/error';\n\nconst MAX_SMI = 1 << 31 - 1;\n\nlet groupIDRegister: Map<string, number> = new Map();\nlet reverseRegister: Map<number, string> = new Map();\nlet nextFreeGroup = 1;\n\nexport const resetGroupIds = () => {\n  groupIDRegister = new Map();\n  reverseRegister = new Map();\n  nextFreeGroup = 1;\n};\n\nexport const getGroupForId = (id: string): number => {\n  if (groupIDRegister.has(id)) {\n    return (groupIDRegister.get(id): any);\n  }\n\n  while (reverseRegister.has(nextFreeGroup)) {\n    nextFreeGroup++;\n  }\n\n  const group = nextFreeGroup++;\n\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    ((group | 0) < 0 || group > MAX_SMI)\n  ) {\n    throwStyledError(16, `${group}`);\n  }\n\n  groupIDRegister.set(id, group);\n  reverseRegister.set(group, id);\n  return group;\n};\n\nexport const getIdForGroup = (group: number): void | string => {\n  return reverseRegister.get(group);\n};\n\nexport const setGroupForId = (id: string, group: number) => {\n  if (group >= nextFreeGroup) {\n    nextFreeGroup = group + 1;\n  }\n\n  groupIDRegister.set(id, group);\n  reverseRegister.set(group, id);\n};\n","// @flow\n\nimport { SPLITTER, SC_ATTR, SC_ATTR_ACTIVE, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport { getIdForGroup, setGroupForId } from './GroupIDAllocator';\nimport type { Sheet } from './types';\n\nconst SELECTOR = `style[${SC_ATTR}][${SC_ATTR_VERSION}=\"${SC_VERSION}\"]`;\nconst MARKER_RE = new RegExp(`^${SC_ATTR}\\\\.g(\\\\d+)\\\\[id=\"([\\\\w\\\\d-]+)\"\\\\].*?\"([^\"]*)`);\n\nexport const outputSheet = (sheet: Sheet) => {\n  const tag = sheet.getTag();\n  const { length } = tag;\n\n  let css = '';\n  for (let group = 0; group < length; group++) {\n    const id = getIdForGroup(group);\n    if (id === undefined) continue;\n\n    const names = sheet.names.get(id);\n    const rules = tag.getGroup(group);\n    if (!names || !rules || !names.size) continue;\n\n    const selector = `${SC_ATTR}.g${group}[id=\"${id}\"]`;\n\n    let content = '';\n    if (names !== undefined) {\n      names.forEach(name => {\n        if (name.length > 0) {\n          content += `${name},`;\n        }\n      });\n    }\n\n    // NOTE: It's easier to collect rules and have the marker\n    // after the actual rules to simplify the rehydration\n    css += `${rules}${selector}{content:\"${content}\"}${SPLITTER}`;\n  }\n\n  return css;\n};\n\nconst rehydrateNamesFromContent = (sheet: Sheet, id: string, content: string) => {\n  const names = content.split(',');\n  let name;\n\n  for (let i = 0, l = names.length; i < l; i++) {\n    // eslint-disable-next-line\n    if ((name = names[i])) {\n      sheet.registerName(id, name);\n    }\n  }\n};\n\nconst rehydrateSheetFromTag = (sheet: Sheet, style: HTMLStyleElement) => {\n  const parts = (style.textContent || '').split(SPLITTER);\n  const rules: string[] = [];\n\n  for (let i = 0, l = parts.length; i < l; i++) {\n    const part = parts[i].trim();\n    if (!part) continue;\n\n    const marker = part.match(MARKER_RE);\n\n    if (marker) {\n      const group = parseInt(marker[1], 10) | 0;\n      const id = marker[2];\n\n      if (group !== 0) {\n        // Rehydrate componentId to group index mapping\n        setGroupForId(id, group);\n        // Rehydrate names and rules\n        // looks like: data-styled.g11[id=\"idA\"]{content:\"nameA,\"}\n        rehydrateNamesFromContent(sheet, id, marker[3]);\n        sheet.getTag().insertRules(group, rules);\n      }\n\n      rules.length = 0;\n    } else {\n      rules.push(part);\n    }\n  }\n};\n\nexport const rehydrateSheet = (sheet: Sheet) => {\n  const nodes = document.querySelectorAll(SELECTOR);\n\n  for (let i = 0, l = nodes.length; i < l; i++) {\n    const node = ((nodes[i]: any): HTMLStyleElement);\n    if (node && node.getAttribute(SC_ATTR) !== SC_ATTR_ACTIVE) {\n      rehydrateSheetFromTag(sheet, node);\n\n      if (node.parentNode) {\n        node.parentNode.removeChild(node);\n      }\n    }\n  }\n};\n","// @flow\n/* eslint-disable camelcase, no-undef */\n\ndeclare var window: { __webpack_nonce__: string };\n\nconst getNonce = () => {\n\n  return typeof window !== 'undefined'\n    ? typeof window.__webpack_nonce__ !== 'undefined'\n      ? window.__webpack_nonce__\n      : null\n    : null;\n};\n\nexport default getNonce;\n","// @flow\n\nimport { SC_ATTR, SC_ATTR_ACTIVE, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport getNonce from '../utils/nonce';\nimport throwStyledError from '../utils/error';\n\nconst ELEMENT_TYPE = 1; /* Node.ELEMENT_TYPE */\n\n/** Find last style element if any inside target */\nconst findLastStyleTag = (target: HTMLElement): void | HTMLStyleElement => {\n  const { childNodes } = target;\n\n  for (let i = childNodes.length; i >= 0; i--) {\n    const child = ((childNodes[i]: any): ?HTMLElement);\n    if (child && child.nodeType === ELEMENT_TYPE && child.hasAttribute(SC_ATTR)) {\n      return ((child: any): HTMLStyleElement);\n    }\n  }\n\n  return undefined;\n};\n\n/** Create a style element inside `target` or <head> after the last */\nexport const makeStyleTag = (target?: HTMLElement): HTMLStyleElement => {\n  const head = ((document.head: any): HTMLElement);\n  const parent = target || head;\n  const style = document.createElement('style');\n  const prevStyle = findLastStyleTag(parent);\n  const nextSibling = prevStyle !== undefined ? prevStyle.nextSibling : null;\n\n  style.setAttribute(SC_ATTR, SC_ATTR_ACTIVE);\n  style.setAttribute(SC_ATTR_VERSION, SC_VERSION);\n\n  const nonce = getNonce();\n\n  if (nonce) style.setAttribute('nonce', nonce);\n\n  parent.insertBefore(style, nextSibling);\n\n  return style;\n};\n\n/** Get the CSSStyleSheet instance for a given style element */\nexport const getSheet = (tag: HTMLStyleElement): CSSStyleSheet => {\n  if (tag.sheet) {\n    return ((tag.sheet: any): CSSStyleSheet);\n  }\n\n  // Avoid Firefox quirk where the style element might not have a sheet property\n  const { styleSheets } = document;\n  for (let i = 0, l = styleSheets.length; i < l; i++) {\n    const sheet = styleSheets[i];\n    if (sheet.ownerNode === tag) {\n      return ((sheet: any): CSSStyleSheet);\n    }\n  }\n\n  throwStyledError(17);\n  return (undefined: any);\n};\n","// @flow\n/* eslint-disable no-use-before-define */\n\nimport { makeStyleTag, getSheet } from './dom';\nimport type { SheetOptions, Tag } from './types';\n\n/** Create a CSSStyleSheet-like tag depending on the environment */\nexport const makeTag = ({ isServer, useCSSOMInjection, target }: SheetOptions): Tag => {\n  if (isServer) {\n    return new VirtualTag(target);\n  } else if (useCSSOMInjection) {\n    return new CSSOMTag(target);\n  } else {\n    return new TextTag(target);\n  }\n};\n\nexport class CSSOMTag implements Tag {\n  element: HTMLStyleElement;\n\n  sheet: CSSStyleSheet;\n\n  length: number;\n\n  constructor(target?: HTMLElement) {\n    const element = (this.element = makeStyleTag(target));\n\n    // Avoid Edge bug where empty style elements don't create sheets\n    element.appendChild(document.createTextNode(''));\n\n    this.sheet = getSheet(element);\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    try {\n      this.sheet.insertRule(rule, index);\n      this.length++;\n      return true;\n    } catch (_error) {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.sheet.deleteRule(index);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    const rule = this.sheet.cssRules[index];\n    // Avoid IE11 quirk where cssText is inaccessible on some invalid rules\n    if (rule !== undefined && typeof rule.cssText === 'string') {\n      return rule.cssText;\n    } else {\n      return '';\n    }\n  }\n}\n\n/** A Tag that emulates the CSSStyleSheet API but uses text nodes */\nexport class TextTag implements Tag {\n  element: HTMLStyleElement;\n\n  nodes: NodeList<Node>;\n\n  length: number;\n\n  constructor(target?: HTMLElement) {\n    const element = (this.element = makeStyleTag(target));\n    this.nodes = element.childNodes;\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    if (index <= this.length && index >= 0) {\n      const node = document.createTextNode(rule);\n      const refNode = this.nodes[index];\n      this.element.insertBefore(node, refNode || null);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.element.removeChild(this.nodes[index]);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    if (index < this.length) {\n      return this.nodes[index].textContent;\n    } else {\n      return '';\n    }\n  }\n}\n\n/** A completely virtual (server-side) Tag that doesn't manipulate the DOM */\nexport class VirtualTag implements Tag {\n  rules: string[];\n\n  length: number;\n\n  constructor(_target?: HTMLElement) {\n    this.rules = [];\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    if (index <= this.length) {\n      this.rules.splice(index, 0, rule);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.rules.splice(index, 1);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    if (index < this.length) {\n      return this.rules[index];\n    } else {\n      return '';\n    }\n  }\n}\n","// @flow\nimport { DISABLE_SPEEDY, IS_BROWSER } from '../constants';\nimport { EMPTY_OBJECT } from '../utils/empties';\nimport { makeGroupedTag } from './GroupedTag';\nimport { getGroupForId } from './GroupIDAllocator';\nimport { outputSheet, rehydrateSheet } from './Rehydration';\nimport { makeTag } from './Tag';\nimport type { GroupedTag, Sheet, SheetOptions } from './types';\n\nlet SHOULD_REHYDRATE = IS_BROWSER;\n\ntype SheetConstructorArgs = {\n  isServer?: boolean,\n  useCSSOMInjection?: boolean,\n  target?: HTMLElement,\n};\n\ntype GlobalStylesAllocationMap = { [key: string]: number };\ntype NamesAllocationMap = Map<string, Set<string>>;\n\nconst defaultOptions: SheetOptions = {\n  isServer: !IS_BROWSER,\n  useCSSOMInjection: !DISABLE_SPEEDY,\n};\n\n/** Contains the main stylesheet logic for stringification and caching */\nexport default class StyleSheet implements Sheet {\n  gs: GlobalStylesAllocationMap;\n\n  names: NamesAllocationMap;\n\n  options: SheetOptions;\n\n  server: boolean;\n\n  tag: void | GroupedTag;\n\n  /** Register a group ID to give it an index */\n  static registerId(id: string): number {\n    return getGroupForId(id);\n  }\n\n  constructor(\n    options: SheetConstructorArgs = EMPTY_OBJECT,\n    globalStyles?: GlobalStylesAllocationMap = {},\n    names?: NamesAllocationMap\n  ) {\n    this.options = {\n      ...defaultOptions,\n      ...options,\n    };\n\n    this.gs = globalStyles;\n    this.names = new Map(names);\n    this.server = !!options.isServer;\n\n    // We rehydrate only once and use the sheet that is created first\n    if (!this.server && IS_BROWSER && SHOULD_REHYDRATE) {\n      SHOULD_REHYDRATE = false;\n      rehydrateSheet(this);\n    }\n  }\n\n  reconstructWithOptions(options: SheetConstructorArgs, withNames?: boolean = true) {\n    return new StyleSheet(\n      { ...this.options, ...options },\n      this.gs,\n      (withNames && this.names) || undefined\n    );\n  }\n\n  allocateGSInstance(id: string) {\n    return (this.gs[id] = (this.gs[id] || 0) + 1);\n  }\n\n  /** Lazily initialises a GroupedTag for when it's actually needed */\n  getTag(): GroupedTag {\n    return this.tag || (this.tag = makeGroupedTag(makeTag(this.options)));\n  }\n\n  /** Check whether a name is known for caching */\n  hasNameForId(id: string, name: string): boolean {\n    return this.names.has(id) && (this.names.get(id): any).has(name);\n  }\n\n  /** Mark a group's name as known for caching */\n  registerName(id: string, name: string) {\n    getGroupForId(id);\n\n    if (!this.names.has(id)) {\n      const groupNames = new Set();\n      groupNames.add(name);\n      this.names.set(id, groupNames);\n    } else {\n      (this.names.get(id): any).add(name);\n    }\n  }\n\n  /** Insert new rules which also marks the name as known */\n  insertRules(id: string, name: string, rules: string[]) {\n    this.registerName(id, name);\n    this.getTag().insertRules(getGroupForId(id), rules);\n  }\n\n  /** Clears all cached names for a given group ID */\n  clearNames(id: string) {\n    if (this.names.has(id)) {\n      (this.names.get(id): any).clear();\n    }\n  }\n\n  /** Clears all rules for a given group ID */\n  clearRules(id: string) {\n    this.getTag().clearGroup(getGroupForId(id));\n    this.clearNames(id);\n  }\n\n  /** Clears the entire tag which deletes all rules but not its names */\n  clearTag() {\n    // NOTE: This does not clear the names, since it's only used during SSR\n    // so that we can continuously output only new rules\n    this.tag = undefined;\n  }\n\n  /** Outputs the current sheet as a CSS string with markers for SSR */\n  toString(): string {\n    return outputSheet(this);\n  }\n}\n","// @flow\n/* eslint-disable no-bitwise */\n\nconst AD_REPLACER_R = /(a)(d)/gi;\n\n/* This is the \"capacity\" of our alphabet i.e. 2x26 for all letters plus their capitalised\n * counterparts */\nconst charsLength = 52;\n\n/* start at 75 for 'a' until 'z' (25) and then start at 65 for capitalised letters */\nconst getAlphabeticChar = (code: number): string =>\n  String.fromCharCode(code + (code > 25 ? 39 : 97));\n\n/* input a number, usually a hash and convert it to base-52 */\nexport default function generateAlphabeticName(code: number): string {\n  let name = '';\n  let x;\n\n  /* get a char and divide by alphabet-length */\n  for (x = Math.abs(code); x > charsLength; x = (x / charsLength) | 0) {\n    name = getAlphabeticChar(x % charsLength) + name;\n  }\n\n  return (getAlphabeticChar(x % charsLength) + name).replace(AD_REPLACER_R, '$1-$2');\n}\n","// @flow\n/* eslint-disable */\n\nexport const SEED = 5381;\n\n// When we have separate strings it's useful to run a progressive\n// version of djb2 where we pretend that we're still looping over\n// the same string\nexport const phash = (h: number, x: string): number => {\n  let i = x.length;\n\n  while (i) {\n    h = (h * 33) ^ x.charCodeAt(--i);\n  }\n\n  return h;\n};\n\n// This is a djb2 hashing function\nexport const hash = (x: string): number => {\n  return phash(SEED, x);\n};\n","// @flow\nimport isFunction from './isFunction';\nimport isStyledComponent from './isStyledComponent';\nimport type { RuleSet } from '../types';\n\nexport default function isStaticRules(rules: RuleSet): boolean {\n  for (let i = 0; i < rules.length; i += 1) {\n    const rule = rules[i];\n\n    if (isFunction(rule) && !isStyledComponent(rule)) {\n      // functions are allowed to be static if they're just being\n      // used to get the classname of a nested styled component\n      return false;\n    }\n  }\n\n  return true;\n}\n","// @flow\nimport { SC_VERSION } from '../constants';\nimport StyleSheet from '../sheet';\nimport type { RuleSet, Stringifier } from '../types';\nimport flatten from '../utils/flatten';\nimport generateName from '../utils/generateAlphabeticName';\nimport { hash, phash } from '../utils/hash';\nimport isStaticRules from '../utils/isStaticRules';\n\nconst SEED = hash(SC_VERSION);\n\n/**\n * ComponentStyle is all the CSS-specific stuff, not the React-specific stuff.\n */\nexport default class ComponentStyle {\n  baseHash: number;\n\n  baseStyle: ?ComponentStyle;\n\n  componentId: string;\n\n  isStatic: boolean;\n\n  rules: RuleSet;\n\n  staticRulesId: string;\n\n  constructor(rules: RuleSet, componentId: string, baseStyle?: ComponentStyle) {\n    this.rules = rules;\n    this.staticRulesId = '';\n    this.isStatic = process.env.NODE_ENV === 'production' &&\n      (baseStyle === undefined || baseStyle.isStatic) &&\n      isStaticRules(rules);\n    this.componentId = componentId;\n\n    // SC_VERSION gives us isolation between multiple runtimes on the page at once\n    // this is improved further with use of the babel plugin \"namespace\" feature\n    this.baseHash = phash(SEED, componentId);\n\n    this.baseStyle = baseStyle;\n\n    // NOTE: This registers the componentId, which ensures a consistent order\n    // for this component's styles compared to others\n    StyleSheet.registerId(componentId);\n  }\n\n  /*\n   * Flattens a rule set into valid CSS\n   * Hashes it, wraps the whole chunk in a .hash1234 {}\n   * Returns the hash to be injected on render()\n   * */\n  generateAndInjectStyles(executionContext: Object, styleSheet: StyleSheet, stylis: Stringifier) {\n    const { componentId } = this;\n\n    const names = [];\n\n    if (this.baseStyle) {\n      names.push(this.baseStyle.generateAndInjectStyles(executionContext, styleSheet, stylis));\n    }\n\n    // force dynamic classnames if user-supplied stylis plugins are in use\n    if (this.isStatic && !stylis.hash) {\n      if (this.staticRulesId && styleSheet.hasNameForId(componentId, this.staticRulesId)) {\n        names.push(this.staticRulesId);\n      } else {\n        const cssStatic = flatten(this.rules, executionContext, styleSheet, stylis).join('');\n        const name = generateName(phash(this.baseHash, cssStatic) >>> 0);\n\n        if (!styleSheet.hasNameForId(componentId, name)) {\n          const cssStaticFormatted = stylis(cssStatic, `.${name}`, undefined, componentId);\n\n          styleSheet.insertRules(componentId, name, cssStaticFormatted);\n        }\n\n        names.push(name);\n        this.staticRulesId = name;\n      }\n    } else {\n      const { length } = this.rules;\n      let dynamicHash = phash(this.baseHash, stylis.hash);\n      let css = '';\n\n      for (let i = 0; i < length; i++) {\n        const partRule = this.rules[i];\n\n        if (typeof partRule === 'string') {\n          css += partRule;\n\n          if (process.env.NODE_ENV !== 'production') dynamicHash = phash(dynamicHash, partRule + i);\n        } else if (partRule) {\n          const partChunk = flatten(partRule, executionContext, styleSheet, stylis);\n          const partString = Array.isArray(partChunk) ? partChunk.join('') : partChunk;\n          dynamicHash = phash(dynamicHash, partString + i);\n          css += partString;\n        }\n      }\n\n      if (css) {\n        const name = generateName(dynamicHash >>> 0);\n\n        if (!styleSheet.hasNameForId(componentId, name)) {\n          const cssFormatted = stylis(css, `.${name}`, undefined, componentId);\n          styleSheet.insertRules(componentId, name, cssFormatted);\n        }\n\n        names.push(name);\n      }\n    }\n\n    return names.join(' ');\n  }\n}\n","import Stylis from '@emotion/stylis';\nimport { type Stringifier } from '../types';\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from './empties';\nimport throwStyledError from './error';\nimport { phash, SEED } from './hash';\nimport insertRulePlugin from './stylisPluginInsertRule';\n\nconst COMMENT_REGEX = /^\\s*\\/\\/.*$/gm;\nconst COMPLEX_SELECTOR_PREFIX = [':', '[', '.', '#'];\n\ntype StylisInstanceConstructorArgs = {\n  options?: Object,\n  plugins?: Array<Function>,\n};\n\nexport default function createStylisInstance({\n  options = EMPTY_OBJECT,\n  plugins = EMPTY_ARRAY,\n}: StylisInstanceConstructorArgs = EMPTY_OBJECT) {\n  const stylis = new Stylis(options);\n\n  // Wrap `insertRulePlugin to build a list of rules,\n  // and then make our own plugin to return the rules. This\n  // makes it easier to hook into the existing SSR architecture\n\n  let parsingRules = [];\n\n  // eslint-disable-next-line consistent-return\n  const returnRulesPlugin = context => {\n    if (context === -2) {\n      const parsedRules = parsingRules;\n      parsingRules = [];\n      return parsedRules;\n    }\n  };\n\n  const parseRulesPlugin = insertRulePlugin(rule => {\n    parsingRules.push(rule);\n  });\n\n  let _componentId: string;\n  let _selector: string;\n  let _selectorRegexp: RegExp;\n  let _consecutiveSelfRefRegExp: RegExp;\n\n  const selfReferenceReplacer = (match, offset, string) => {\n    if (\n      // do not replace the first occurrence if it is complex (has a modifier)\n      (offset === 0 ? COMPLEX_SELECTOR_PREFIX.indexOf(string[_selector.length]) === -1 : true) &&\n      // no consecutive self refs (.b.b); that is a precedence boost and treated differently\n      !string.match(_consecutiveSelfRefRegExp)\n    ) {\n      return `.${_componentId}`;\n    }\n\n    return match;\n  };\n\n  /**\n   * When writing a style like\n   *\n   * & + & {\n   *   color: red;\n   * }\n   *\n   * The second ampersand should be a reference to the static component class. stylis\n   * has no knowledge of static class so we have to intelligently replace the base selector.\n   *\n   * https://github.com/thysultan/stylis.js/tree/v3.5.4#plugins <- more info about the context phase values\n   * \"2\" means this plugin is taking effect at the very end after all other processing is complete\n   */\n  const selfReferenceReplacementPlugin = (context, _, selectors) => {\n    if (context === 2 && selectors.length && selectors[0].lastIndexOf(_selector) > 0) {\n      // eslint-disable-next-line no-param-reassign\n      selectors[0] = selectors[0].replace(_selectorRegexp, selfReferenceReplacer);\n    }\n  };\n\n  stylis.use([...plugins, selfReferenceReplacementPlugin, parseRulesPlugin, returnRulesPlugin]);\n\n  function stringifyRules(css, selector, prefix, componentId = '&'): Stringifier {\n    const flatCSS = css.replace(COMMENT_REGEX, '');\n    const cssStr = selector && prefix ? `${prefix} ${selector} { ${flatCSS} }` : flatCSS;\n\n    // stylis has no concept of state to be passed to plugins\n    // but since JS is single-threaded, we can rely on that to ensure\n    // these properties stay in sync with the current stylis run\n    _componentId = componentId;\n    _selector = selector;\n    _selectorRegexp = new RegExp(`\\\\${_selector}\\\\b`, 'g');\n    _consecutiveSelfRefRegExp = new RegExp(`(\\\\${_selector}\\\\b){2,}`);\n\n    return stylis(prefix || !selector ? '' : selector, cssStr);\n  }\n\n  stringifyRules.hash = plugins.length\n    ? plugins\n        .reduce((acc, plugin) => {\n          if (!plugin.name) {\n            throwStyledError(15);\n          }\n\n          return phash(acc, plugin.name);\n        }, SEED)\n        .toString()\n    : '';\n\n  return stringifyRules;\n}\n","/**\n * MIT License\n *\n * Copyright (c) 2016 Sultan Tarimo\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR\n * IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n/* eslint-disable */\n\nexport default function(insertRule) {\n  const delimiter = '/*|*/';\n  const needle = `${delimiter}}`;\n\n  function toSheet(block) {\n    if (block) {\n      try {\n        insertRule(`${block}}`);\n      } catch (e) {}\n    }\n  }\n\n  return function ruleSheet(\n    context,\n    content,\n    selectors,\n    parents,\n    line,\n    column,\n    length,\n    ns,\n    depth,\n    at\n  ) {\n    switch (context) {\n      // property\n      case 1:\n        // @import\n        if (depth === 0 && content.charCodeAt(0) === 64) return insertRule(`${content};`), '';\n        break;\n      // selector\n      case 2:\n        if (ns === 0) return content + delimiter;\n        break;\n      // at-rule\n      case 3:\n        switch (ns) {\n          // @font-face, @page\n          case 102:\n          case 112:\n            return insertRule(selectors[0] + content), '';\n          default:\n            return content + (at === 0 ? delimiter : '');\n        }\n      case -2:\n        content.split(needle).forEach(toSheet);\n    }\n  };\n}\n","// @flow\nimport React, { type Context, type Node, useContext, useEffect, useMemo, useState } from 'react';\nimport shallowequal from 'shallowequal';\nimport StyleSheet from '../sheet';\nimport type { Stringifier } from '../types';\nimport createStylisInstance from '../utils/stylis';\n\ntype Props = {\n  children?: Node,\n  disableCSSOMInjection?: boolean,\n  disableVendorPrefixes?: boolean,\n  sheet?: StyleSheet,\n  stylisPlugins?: Array<Function>,\n  target?: HTMLElement,\n};\n\nexport const StyleSheetContext: Context<StyleSheet | void> = React.createContext();\nexport const StyleSheetConsumer = StyleSheetContext.Consumer;\nexport const StylisContext: Context<Stringifier | void> = React.createContext();\nexport const StylisConsumer = StylisContext.Consumer;\n\nexport const masterSheet: StyleSheet = new StyleSheet();\nexport const masterStylis: Stringifier = createStylisInstance();\n\nexport function useStyleSheet(): StyleSheet {\n  return useContext(StyleSheetContext) || masterSheet;\n}\n\nexport function useStylis(): Stringifier {\n  return useContext(StylisContext) || masterStylis;\n}\n\nexport default function StyleSheetManager(props: Props) {\n  const [plugins, setPlugins] = useState(props.stylisPlugins);\n  const contextStyleSheet = useStyleSheet();\n\n  const styleSheet = useMemo(() => {\n    let sheet = contextStyleSheet;\n\n    if (props.sheet) {\n      // eslint-disable-next-line prefer-destructuring\n      sheet = props.sheet;\n    } else if (props.target) {\n      sheet = sheet.reconstructWithOptions({ target: props.target }, false);\n    }\n\n    if (props.disableCSSOMInjection) {\n      sheet = sheet.reconstructWithOptions({ useCSSOMInjection: false });\n    }\n\n    return sheet;\n  }, [props.disableCSSOMInjection, props.sheet, props.target]);\n\n  const stylis = useMemo(\n    () =>\n      createStylisInstance({\n        options: { prefix: !props.disableVendorPrefixes },\n        plugins,\n      }),\n    [props.disableVendorPrefixes, plugins]\n  );\n\n  useEffect(() => {\n    if (!shallowequal(plugins, props.stylisPlugins)) setPlugins(props.stylisPlugins);\n  }, [props.stylisPlugins]);\n\n  return (\n    <StyleSheetContext.Provider value={styleSheet}>\n      <StylisContext.Provider value={stylis}>\n        {process.env.NODE_ENV !== 'production'\n          ? React.Children.only(props.children)\n          : props.children}\n      </StylisContext.Provider>\n    </StyleSheetContext.Provider>\n  );\n}\n","// @flow\nimport StyleSheet from '../sheet';\nimport { type Stringifier } from '../types';\nimport throwStyledError from '../utils/error';\nimport { masterStylis } from './StyleSheetManager';\n\nexport default class Keyframes {\n  id: string;\n\n  name: string;\n\n  rules: string;\n\n  constructor(name: string, rules: string) {\n    this.name = name;\n    this.id = `sc-keyframes-${name}`;\n    this.rules = rules;\n  }\n\n  inject = (styleSheet: StyleSheet, stylisInstance: Stringifier = masterStylis) => {\n    const resolvedName = this.name + stylisInstance.hash;\n\n    if (!styleSheet.hasNameForId(this.id, resolvedName)) {\n      styleSheet.insertRules(\n        this.id,\n        resolvedName,\n        stylisInstance(this.rules, resolvedName, '@keyframes')\n      );\n    }\n  };\n\n  toString = () => {\n    return throwStyledError(12, String(this.name));\n  };\n\n  getName(stylisInstance: Stringifier = masterStylis) {\n    return this.name + stylisInstance.hash;\n  }\n}\n","// @flow\n\n/**\n * inlined version of\n * https://github.com/facebook/fbjs/blob/master/packages/fbjs/src/core/hyphenateStyleName.js\n */\n\nconst uppercaseCheck = /([A-Z])/;\nconst uppercasePattern = /([A-Z])/g;\nconst msPattern = /^ms-/;\nconst prefixAndLowerCase = (char: string): string => `-${char.toLowerCase()}`;\n\n/**\n * Hyphenates a camelcased CSS property name, for example:\n *\n *   > hyphenateStyleName('backgroundColor')\n *   < \"background-color\"\n *   > hyphenateStyleName('MozTransition')\n *   < \"-moz-transition\"\n *   > hyphenateStyleName('msTransition')\n *   < \"-ms-transition\"\n *\n * As Modernizr suggests (http://modernizr.com/docs/#prefixed), an `ms` prefix\n * is converted to `-ms-`.\n *\n * @param {string} string\n * @return {string}\n */\nexport default function hyphenateStyleName(string: string): string {\n  return uppercaseCheck.test(string)\n  ? string\n    .replace(uppercasePattern, prefixAndLowerCase)\n    .replace(msPattern, '-ms-')\n  : string;\n}\n","// @flow\nimport { isElement } from 'react-is';\nimport getComponentName from './getComponentName';\nimport isFunction from './isFunction';\nimport isStatelessFunction from './isStatelessFunction';\nimport isPlainObject from './isPlainObject';\nimport isStyledComponent from './isStyledComponent';\nimport Keyframes from '../models/Keyframes';\nimport hyphenate from './hyphenateStyleName';\nimport addUnitIfNeeded from './addUnitIfNeeded';\nimport { type Stringifier } from '../types';\n\n/**\n * It's falsish not falsy because 0 is allowed.\n */\nconst isFalsish = chunk => chunk === undefined || chunk === null || chunk === false || chunk === '';\n\nexport const objToCssArray = (obj: Object, prevKey?: string): Array<string | Function> => {\n  const rules = [];\n\n  for (const key in obj) {\n    if (!obj.hasOwnProperty(key) || isFalsish(obj[key])) continue;\n\n    if ((Array.isArray(obj[key]) && obj[key].isCss) || isFunction(obj[key])) {\n      rules.push(`${hyphenate(key)}:`, obj[key], ';');\n    } else if (isPlainObject(obj[key])) {\n      rules.push(...objToCssArray(obj[key], key));\n    } else {\n      rules.push(`${hyphenate(key)}: ${addUnitIfNeeded(key, obj[key])};`);\n    }\n  }\n\n  return prevKey ? [`${prevKey} {`, ...rules, '}'] : rules;\n};\n\nexport default function flatten(\n  chunk: any,\n  executionContext: ?Object,\n  styleSheet: ?Object,\n  stylisInstance: ?Stringifier\n): any {\n  if (Array.isArray(chunk)) {\n    const ruleSet = [];\n\n    for (let i = 0, len = chunk.length, result; i < len; i += 1) {\n      result = flatten(chunk[i], executionContext, styleSheet, stylisInstance);\n\n      if (result === '') continue;\n      else if (Array.isArray(result)) ruleSet.push(...result);\n      else ruleSet.push(result);\n    }\n\n    return ruleSet;\n  }\n\n  if (isFalsish(chunk)) {\n    return '';\n  }\n\n  /* Handle other components */\n  if (isStyledComponent(chunk)) {\n    return `.${chunk.styledComponentId}`;\n  }\n\n  /* Either execute or defer the function */\n  if (isFunction(chunk)) {\n    if (isStatelessFunction(chunk) && executionContext) {\n      const result = chunk(executionContext);\n\n      if (process.env.NODE_ENV !== 'production' && isElement(result)) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          `${getComponentName(\n            chunk\n          )} is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.`\n        );\n      }\n\n      return flatten(result, executionContext, styleSheet, stylisInstance);\n    } else return chunk;\n  }\n\n  if (chunk instanceof Keyframes) {\n    if (styleSheet) {\n      chunk.inject(styleSheet, stylisInstance);\n      return chunk.getName(stylisInstance);\n    } else return chunk;\n  }\n\n  /* Handle objects */\n  return isPlainObject(chunk) ? objToCssArray(chunk) : chunk.toString();\n}\n","// @flow\nexport default function isStatelessFunction(test: any): boolean {\n  return (\n    typeof test === 'function'\n    && !(\n      test.prototype\n      && test.prototype.isReactComponent\n    )\n  );\n}\n","// @flow\nimport unitless from '@emotion/unitless';\n\n// Taken from https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/react-dom/src/shared/dangerousStyleValue.js\nexport default function addUnitIfNeeded(name: string, value: any): any {\n  // https://github.com/amilajack/eslint-plugin-flowtype-errors/issues/133\n  // $FlowFixMe\n  if (value == null || typeof value === 'boolean' || value === '') {\n    return '';\n  }\n\n  if (typeof value === 'number' && value !== 0 && !(name in unitless)) {\n    return `${value}px`; // Presumes implicit 'px' suffix for unitless numbers\n  }\n\n  return String(value).trim();\n}\n","// @flow\nimport interleave from '../utils/interleave';\nimport isPlainObject from '../utils/isPlainObject';\nimport { EMPTY_ARRAY } from '../utils/empties';\nimport isFunction from '../utils/isFunction';\nimport flatten from '../utils/flatten';\nimport type { Interpolation, RuleSet, Styles } from '../types';\n\n/**\n * Used when flattening object styles to determine if we should\n * expand an array of styles.\n */\nconst addTag = arg => {\n  if (Array.isArray(arg)) {\n    // eslint-disable-next-line no-param-reassign\n    arg.isCss = true;\n  }\n  return arg;\n};\n\nexport default function css(styles: Styles, ...interpolations: Array<Interpolation>): RuleSet {\n  if (isFunction(styles) || isPlainObject(styles)) {\n    // $FlowFixMe\n    return addTag(flatten(interleave(EMPTY_ARRAY, [styles, ...interpolations])));\n  }\n\n  if (interpolations.length === 0 && styles.length === 1 && typeof styles[0] === 'string') {\n    // $FlowFixMe\n    return styles;\n  }\n\n  // $FlowFixMe\n  return addTag(flatten(interleave(styles, interpolations)));\n}\n","// @flow\n\nimport { useRef } from 'react';\n\nconst invalidHookCallRe = /invalid hook call/i;\nconst seen = new Set();\n\nexport const checkDynamicCreation = (displayName: string, componentId?: string) => {\n  if (process.env.NODE_ENV !== 'production') {\n    const parsedIdString = componentId ? ` with the id of \"${componentId}\"` : '';\n    const message =\n      `The component ${displayName}${parsedIdString} has been created dynamically.\\n` +\n      \"You may see this warning because you've called styled inside another component.\\n\" +\n      'To resolve this only create new StyledComponents outside of any render method and function component.';\n\n    // If a hook is called outside of a component:\n    // React 17 and earlier throw an error\n    // React 18 and above use console.error\n\n    const originalConsoleError = console.error // eslint-disable-line no-console\n    try {\n      let didNotCallInvalidHook = true\n      /* $FlowIgnore[cannot-write] */\n      console.error = (consoleErrorMessage, ...consoleErrorArgs) => { // eslint-disable-line no-console\n      // The error here is expected, since we're expecting anything that uses `checkDynamicCreation` to\n      // be called outside of a React component.\n        if (invalidHookCallRe.test(consoleErrorMessage)) {\n          didNotCallInvalidHook = false\n          // This shouldn't happen, but resets `warningSeen` if we had this error happen intermittently\n          seen.delete(message);\n        } else {\n          originalConsoleError(consoleErrorMessage, ...consoleErrorArgs);\n        }\n      }\n      // We purposefully call `useRef` outside of a component and expect it to throw\n      // If it doesn't, then we're inside another component.\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      useRef();\n\n      if (didNotCallInvalidHook && !seen.has(message)) {\n        // eslint-disable-next-line no-console\n        console.warn(message);\n        seen.add(message);\n      }\n    } catch (error) {\n      // The error here is expected, since we're expecting anything that uses `checkDynamicCreation` to\n      // be called outside of a React component.\n      if (invalidHookCallRe.test(error.message)) {\n        // This shouldn't happen, but resets `warningSeen` if we had this error happen intermittently\n        seen.delete(message);\n      }\n    } finally {\n      /* $FlowIgnore[cannot-write] */\n      console.error = originalConsoleError; // eslint-disable-line no-console\n    }\n  }\n};\n","// @flow\nimport { EMPTY_OBJECT } from './empties';\n\ntype Props = {\n  theme?: any,\n};\n\nexport default (props: Props, providedTheme: any, defaultProps: any = EMPTY_OBJECT) => {\n  return (props.theme !== defaultProps.theme && props.theme) || providedTheme || defaultProps.theme;\n};\n","// @flow\n\n// Source: https://www.w3.org/TR/cssom-1/#serialize-an-identifier\n// Control characters and non-letter first symbols are not supported\nconst escapeRegex = /[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^`{|}~-]+/g;\n\nconst dashesAtEnds = /(^-|-$)/g;\n\n/**\n * TODO: Explore using CSS.escape when it becomes more available\n * in evergreen browsers.\n */\nexport default function escape(str: string): string {\n  return (\n    str\n      // Replace all possible CSS selectors\n      .replace(escapeRegex, '-')\n\n      // Remove extraneous hyphens at the start and end\n      .replace(dashesAtEnds, '')\n  );\n}\n","// @flow\n/* eslint-disable */\nimport generateAlphabeticName from './generateAlphabeticName';\nimport { hash } from './hash';\n\nexport default (str: string): string => {\n  return generateAlphabeticName(hash(str) >>> 0);\n};\n","// @flow\nimport type { IStyledComponent } from '../types';\n\nexport default function isTag(target: $PropertyType<IStyledComponent, 'target'>): boolean %checks {\n  return (\n    typeof target === 'string' &&\n    (process.env.NODE_ENV !== 'production'\n      ? target.charAt(0) === target.charAt(0).toLowerCase()\n      : true)\n  );\n}\n","/* eslint-disable */\n/**\n  mixin-deep; https://github.com/jonschlinkert/mixin-deep\n  Inlined such that it will be consistently transpiled to an IE-compatible syntax.\n\n  The MIT License (MIT)\n\n  Copyright (c) 2014-present, Jon Schlinkert.\n\n  Permission is hereby granted, free of charge, to any person obtaining a copy\n  of this software and associated documentation files (the \"Software\"), to deal\n  in the Software without restriction, including without limitation the rights\n  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n  copies of the Software, and to permit persons to whom the Software is\n  furnished to do so, subject to the following conditions:\n\n  The above copyright notice and this permission notice shall be included in\n  all copies or substantial portions of the Software.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n  THE SOFTWARE.\n*/\n\nconst isObject = val => {\n  return (\n    typeof val === 'function' || (typeof val === 'object' && val !== null && !Array.isArray(val))\n  );\n};\n\nconst isValidKey = key => {\n  return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n};\n\nfunction mixin(target, val, key) {\n  const obj = target[key];\n  if (isObject(val) && isObject(obj)) {\n    mixinDeep(obj, val);\n  } else {\n    target[key] = val;\n  }\n}\n\nexport default function mixinDeep(target, ...rest) {\n  for (const obj of rest) {\n    if (isObject(obj)) {\n      for (const key in obj) {\n        if (isValidKey(key)) {\n          mixin(target, obj[key], key);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n","// @flow\nimport React, { useContext, useMemo, type Element, type Context } from 'react';\nimport throwStyledError from '../utils/error';\nimport isFunction from '../utils/isFunction';\n\nexport type Theme = { [key: string]: mixed };\n\ntype ThemeArgument = Theme | ((outerTheme?: Theme) => Theme);\n\ntype Props = {\n  children?: Element<any>,\n  theme: ThemeArgument,\n};\n\nexport const ThemeContext: Context<Theme | void> = React.createContext();\n\nexport const ThemeConsumer = ThemeContext.Consumer;\n\nfunction mergeTheme(theme: ThemeArgument, outerTheme?: Theme): Theme {\n  if (!theme) {\n    return throwStyledError(14);\n  }\n\n  if (isFunction(theme)) {\n    const mergedTheme = theme(outerTheme);\n\n    if (\n      process.env.NODE_ENV !== 'production' &&\n      (mergedTheme === null || Array.isArray(mergedTheme) || typeof mergedTheme !== 'object')\n    ) {\n      return throwStyledError(7);\n    }\n\n    return mergedTheme;\n  }\n\n  if (Array.isArray(theme) || typeof theme !== 'object') {\n    return throwStyledError(8);\n  }\n\n  return outerTheme ? { ...outerTheme, ...theme } : theme;\n}\n\n/**\n * Provide a theme to an entire react component tree via context\n */\nexport default function ThemeProvider(props: Props) {\n  const outerTheme = useContext(ThemeContext);\n  const themeContext = useMemo(() => mergeTheme(props.theme, outerTheme), [\n    props.theme,\n    outerTheme,\n  ]);\n\n  if (!props.children) {\n    return null;\n  }\n\n  return <ThemeContext.Provider value={themeContext}>{props.children}</ThemeContext.Provider>;\n}\n","// @flow\nimport validAttr from '@emotion/is-prop-valid';\nimport hoist from 'hoist-non-react-statics';\nimport React, { createElement, type Ref, useContext, useDebugValue } from 'react';\nimport { SC_VERSION } from '../constants';\nimport type {\n  Attrs,\n  IStyledComponent,\n  IStyledStatics,\n  RuleSet,\n  ShouldForwardProp,\n  Target,\n} from '../types';\nimport { checkDynamicCreation } from '../utils/checkDynamicCreation';\nimport createWarnTooManyClasses from '../utils/createWarnTooManyClasses';\nimport determineTheme from '../utils/determineTheme';\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from '../utils/empties';\nimport escape from '../utils/escape';\nimport generateComponentId from '../utils/generateComponentId';\nimport generateDisplayName from '../utils/generateDisplayName';\nimport getComponentName from '../utils/getComponentName';\nimport isFunction from '../utils/isFunction';\nimport isStyledComponent from '../utils/isStyledComponent';\nimport isTag from '../utils/isTag';\nimport joinStrings from '../utils/joinStrings';\nimport merge from '../utils/mixinDeep';\nimport ComponentStyle from './ComponentStyle';\nimport { useStyleSheet, useStylis } from './StyleSheetManager';\nimport { ThemeContext } from './ThemeProvider';\n\nconst identifiers = {};\n\n/* We depend on components having unique IDs */\nfunction generateId(displayName?: string, parentComponentId?: string) {\n  const name = typeof displayName !== 'string' ? 'sc' : escape(displayName);\n  // Ensure that no displayName can lead to duplicate componentIds\n  identifiers[name] = (identifiers[name] || 0) + 1;\n\n  const componentId = `${name}-${generateComponentId(\n    // SC_VERSION gives us isolation between multiple runtimes on the page at once\n    // this is improved further with use of the babel plugin \"namespace\" feature\n    SC_VERSION + name + identifiers[name]\n  )}`;\n\n  return parentComponentId ? `${parentComponentId}-${componentId}` : componentId;\n}\n\nfunction useResolvedAttrs<Config>(theme: any = EMPTY_OBJECT, props: Config, attrs: Attrs) {\n  // NOTE: can't memoize this\n  // returns [context, resolvedAttrs]\n  // where resolvedAttrs is only the things injected by the attrs themselves\n  const context = { ...props, theme };\n  const resolvedAttrs = {};\n\n  attrs.forEach(attrDef => {\n    let resolvedAttrDef = attrDef;\n    let key;\n\n    if (isFunction(resolvedAttrDef)) {\n      resolvedAttrDef = resolvedAttrDef(context);\n    }\n\n    /* eslint-disable guard-for-in */\n    for (key in resolvedAttrDef) {\n      context[key] = resolvedAttrs[key] =\n        key === 'className'\n          ? joinStrings(resolvedAttrs[key], resolvedAttrDef[key])\n          : resolvedAttrDef[key];\n    }\n    /* eslint-enable guard-for-in */\n  });\n\n  return [context, resolvedAttrs];\n}\n\nfunction useInjectedStyle<T>(\n  componentStyle: ComponentStyle,\n  isStatic: boolean,\n  resolvedAttrs: T,\n  warnTooManyClasses?: $Call<typeof createWarnTooManyClasses, string, string>\n) {\n  const styleSheet = useStyleSheet();\n  const stylis = useStylis();\n\n  const className = isStatic\n    ? componentStyle.generateAndInjectStyles(EMPTY_OBJECT, styleSheet, stylis)\n    : componentStyle.generateAndInjectStyles(resolvedAttrs, styleSheet, stylis);\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  if (process.env.NODE_ENV !== 'production') useDebugValue(className);\n\n  if (process.env.NODE_ENV !== 'production' && !isStatic && warnTooManyClasses) {\n    warnTooManyClasses(className);\n  }\n\n  return className;\n}\n\nfunction useStyledComponentImpl(\n  forwardedComponent: IStyledComponent,\n  props: Object,\n  forwardedRef: Ref<any>,\n  isStatic: boolean\n) {\n  const {\n    attrs: componentAttrs,\n    componentStyle,\n    defaultProps,\n    foldedComponentIds,\n    shouldForwardProp,\n    styledComponentId,\n    target,\n  } = forwardedComponent;\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  if (process.env.NODE_ENV !== 'production') useDebugValue(styledComponentId);\n\n  // NOTE: the non-hooks version only subscribes to this when !componentStyle.isStatic,\n  // but that'd be against the rules-of-hooks. We could be naughty and do it anyway as it\n  // should be an immutable value, but behave for now.\n  const theme = determineTheme(props, useContext(ThemeContext), defaultProps);\n\n  const [context, attrs] = useResolvedAttrs(theme || EMPTY_OBJECT, props, componentAttrs);\n\n  const generatedClassName = useInjectedStyle(\n    componentStyle,\n    isStatic,\n    context,\n    process.env.NODE_ENV !== 'production' ? forwardedComponent.warnTooManyClasses : undefined\n  );\n\n  const refToForward = forwardedRef;\n\n  const elementToBeCreated: Target = attrs.$as || props.$as || attrs.as || props.as || target;\n\n  const isTargetTag = isTag(elementToBeCreated);\n  const computedProps = attrs !== props ? { ...props, ...attrs } : props;\n  const propsForElement = {};\n\n  // eslint-disable-next-line guard-for-in\n  for (const key in computedProps) {\n    if (key[0] === '$' || key === 'as') continue;\n    else if (key === 'forwardedAs') {\n      propsForElement.as = computedProps[key];\n    } else if (\n      shouldForwardProp\n        ? shouldForwardProp(key, validAttr, elementToBeCreated)\n        : isTargetTag\n        ? validAttr(key)\n        : true\n    ) {\n      // Don't pass through non HTML tags through to HTML elements\n      propsForElement[key] = computedProps[key];\n    }\n  }\n\n  if (props.style && attrs.style !== props.style) {\n    propsForElement.style = { ...props.style, ...attrs.style };\n  }\n\n  propsForElement.className = Array.prototype\n    .concat(\n      foldedComponentIds,\n      styledComponentId,\n      generatedClassName !== styledComponentId ? generatedClassName : null,\n      props.className,\n      attrs.className\n    )\n    .filter(Boolean)\n    .join(' ');\n\n  propsForElement.ref = refToForward;\n\n  return createElement(elementToBeCreated, propsForElement);\n}\n\nexport default function createStyledComponent(\n  target: $PropertyType<IStyledComponent, 'target'>,\n  options: {\n    attrs?: Attrs,\n    componentId: string,\n    displayName?: string,\n    parentComponentId?: string,\n    shouldForwardProp?: ShouldForwardProp,\n  },\n  rules: RuleSet\n) {\n  const isTargetStyledComp = isStyledComponent(target);\n  const isCompositeComponent = !isTag(target);\n\n  const {\n    attrs = EMPTY_ARRAY,\n    componentId = generateId(options.displayName, options.parentComponentId),\n    displayName = generateDisplayName(target),\n  } = options;\n\n  const styledComponentId =\n    options.displayName && options.componentId\n      ? `${escape(options.displayName)}-${options.componentId}`\n      : options.componentId || componentId;\n\n  // fold the underlying StyledComponent attrs up (implicit extend)\n  const finalAttrs =\n    isTargetStyledComp && ((target: any): IStyledComponent).attrs\n      ? Array.prototype.concat(((target: any): IStyledComponent).attrs, attrs).filter(Boolean)\n      : attrs;\n\n  // eslint-disable-next-line prefer-destructuring\n  let shouldForwardProp = options.shouldForwardProp;\n\n  if (isTargetStyledComp && target.shouldForwardProp) {\n    if (options.shouldForwardProp) {\n      // compose nested shouldForwardProp calls\n      shouldForwardProp = (prop, filterFn, elementToBeCreated) =>\n        ((((target: any): IStyledComponent).shouldForwardProp: any): ShouldForwardProp)(\n          prop,\n          filterFn,\n          elementToBeCreated\n        ) &&\n        ((options.shouldForwardProp: any): ShouldForwardProp)(prop, filterFn, elementToBeCreated);\n    } else {\n      // eslint-disable-next-line prefer-destructuring\n      shouldForwardProp = ((target: any): IStyledComponent).shouldForwardProp;\n    }\n  }\n\n  const componentStyle = new ComponentStyle(\n    rules,\n    styledComponentId,\n    isTargetStyledComp ? ((target: Object).componentStyle: ComponentStyle) : undefined\n  );\n\n  // statically styled-components don't need to build an execution context object,\n  // and shouldn't be increasing the number of class names\n  const isStatic = componentStyle.isStatic && attrs.length === 0;\n\n  /**\n   * forwardRef creates a new interim component, which we'll take advantage of\n   * instead of extending ParentComponent to create _another_ interim class\n   */\n  let WrappedStyledComponent: IStyledComponent;\n\n  const forwardRef = (props, ref) =>\n    // eslint-disable-next-line\n    useStyledComponentImpl(WrappedStyledComponent, props, ref, isStatic);\n\n  forwardRef.displayName = displayName;\n\n  WrappedStyledComponent = ((React.forwardRef(forwardRef): any): IStyledComponent);\n  WrappedStyledComponent.attrs = finalAttrs;\n  WrappedStyledComponent.componentStyle = componentStyle;\n  WrappedStyledComponent.displayName = displayName;\n  WrappedStyledComponent.shouldForwardProp = shouldForwardProp;\n\n  // this static is used to preserve the cascade of static classes for component selector\n  // purposes; this is especially important with usage of the css prop\n  WrappedStyledComponent.foldedComponentIds = isTargetStyledComp\n    ? Array.prototype.concat(\n        ((target: any): IStyledComponent).foldedComponentIds,\n        ((target: any): IStyledComponent).styledComponentId\n      )\n    : EMPTY_ARRAY;\n\n  WrappedStyledComponent.styledComponentId = styledComponentId;\n\n  // fold the underlying StyledComponent target up since we folded the styles\n  WrappedStyledComponent.target = isTargetStyledComp\n    ? ((target: any): IStyledComponent).target\n    : target;\n\n  WrappedStyledComponent.withComponent = function withComponent(tag: Target) {\n    const { componentId: previousComponentId, ...optionsToCopy } = options;\n\n    const newComponentId =\n      previousComponentId &&\n      `${previousComponentId}-${isTag(tag) ? tag : escape(getComponentName(tag))}`;\n\n    const newOptions = {\n      ...optionsToCopy,\n      attrs: finalAttrs,\n      componentId: newComponentId,\n    };\n\n    return createStyledComponent(tag, newOptions, rules);\n  };\n\n  Object.defineProperty(WrappedStyledComponent, 'defaultProps', {\n    get() {\n      return this._foldedDefaultProps;\n    },\n\n    set(obj) {\n      this._foldedDefaultProps = isTargetStyledComp\n        ? merge({}, ((target: any): IStyledComponent).defaultProps, obj)\n        : obj;\n    },\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    checkDynamicCreation(displayName, styledComponentId);\n\n    WrappedStyledComponent.warnTooManyClasses = createWarnTooManyClasses(\n      displayName,\n      styledComponentId\n    );\n  }\n\n  WrappedStyledComponent.toString = () => `.${WrappedStyledComponent.styledComponentId}`;\n\n  if (isCompositeComponent) {\n    hoist<\n      IStyledStatics,\n      $PropertyType<IStyledComponent, 'target'>,\n      { [key: $Keys<IStyledStatics>]: true }\n    >(WrappedStyledComponent, ((target: any): $PropertyType<IStyledComponent, 'target'>), {\n      // all SC-specific things should not be hoisted\n      attrs: true,\n      componentStyle: true,\n      displayName: true,\n      foldedComponentIds: true,\n      shouldForwardProp: true,\n      styledComponentId: true,\n      target: true,\n      withComponent: true,\n    });\n  }\n\n  return WrappedStyledComponent;\n}\n","// @flow\nimport type { IStyledComponent } from '../types';\nimport getComponentName from './getComponentName';\nimport isTag from './isTag';\n\nexport default function generateDisplayName(\n  target: $PropertyType<IStyledComponent, 'target'>\n): string {\n  return isTag(target) ? `styled.${target}` : `Styled(${getComponentName(target)})`;\n}\n","/**\n * Convenience function for joining strings to form className chains\n */\nexport default function joinStrings(a: ?String, b: ?String): ?String {\n  return a && b ? `${a} ${b}` : a || b;\n}\n","// @flow\n// Thanks to ReactDOMFactories for this handy list!\n\nexport default [\n  'a',\n  'abbr',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'base',\n  'bdi',\n  'bdo',\n  'big',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'data',\n  'datalist',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'div',\n  'dl',\n  'dt',\n  'em',\n  'embed',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'iframe',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'keygen',\n  'label',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meta',\n  'meter',\n  'nav',\n  'noscript',\n  'object',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'param',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'script',\n  'section',\n  'select',\n  'small',\n  'source',\n  'span',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'title',\n  'tr',\n  'track',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n\n  // SVG\n  'circle',\n  'clipPath',\n  'defs',\n  'ellipse',\n  'foreignObject',\n  'g',\n  'image',\n  'line',\n  'linearGradient',\n  'marker',\n  'mask',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialGradient',\n  'rect',\n  'stop',\n  'svg',\n  'text',\n  'textPath',\n  'tspan',\n];\n","// @flow\nimport constructWithOptions from './constructWithOptions';\nimport StyledComponent from '../models/StyledComponent';\nimport domElements from '../utils/domElements';\n\nimport type { Target } from '../types';\n\nconst styled = (tag: Target) => constructWithOptions(StyledComponent, tag);\n\n// Shorthands for all valid HTML Elements\ndomElements.forEach(domElement => {\n  styled[domElement] = styled(domElement);\n});\n\nexport default styled;\n","// @flow\nimport { isValidElementType } from 'react-is';\nimport css from './css';\nimport throwStyledError from '../utils/error';\nimport { EMPTY_OBJECT } from '../utils/empties';\n\nimport type { Target } from '../types';\n\nexport default function constructWithOptions(\n  componentConstructor: Function,\n  tag: Target,\n  options: Object = EMPTY_OBJECT\n) {\n  if (!isValidElementType(tag)) {\n    return throwStyledError(1, String(tag));\n  }\n\n  /* This is callable directly as a template function */\n  // $FlowFixMe: Not typed to avoid destructuring arguments\n  const templateFunction = (...args) => componentConstructor(tag, options, css(...args));\n\n  /* If config methods are called, wrap up a new template function and merge options */\n  templateFunction.withConfig = config =>\n    constructWithOptions(componentConstructor, tag, { ...options, ...config });\n\n  /* Modify/inject new props at runtime */\n  templateFunction.attrs = attrs =>\n    constructWithOptions(componentConstructor, tag, {\n      ...options,\n      attrs: Array.prototype.concat(options.attrs, attrs).filter(Boolean),\n    });\n\n  return templateFunction;\n}\n","// @flow\nimport StyleSheet from '../sheet';\nimport type { RuleSet, Stringifier } from '../types';\nimport flatten from '../utils/flatten';\nimport isStaticRules from '../utils/isStaticRules';\n\nexport default class GlobalStyle {\n  componentId: string;\n\n  isStatic: boolean;\n\n  rules: RuleSet;\n\n  constructor(rules: RuleSet, componentId: string) {\n    this.rules = rules;\n    this.componentId = componentId;\n    this.isStatic = isStaticRules(rules);\n\n    // pre-register the first instance to ensure global styles\n    // load before component ones\n    StyleSheet.registerId(this.componentId + 1);\n  }\n\n  createStyles(\n    instance: number,\n    executionContext: Object,\n    styleSheet: StyleSheet,\n    stylis: Stringifier\n  ) {\n    const flatCSS = flatten(this.rules, executionContext, styleSheet, stylis);\n    const css = stylis(flatCSS.join(''), '');\n    const id = this.componentId + instance;\n\n    // NOTE: We use the id as a name as well, since these rules never change\n    styleSheet.insertRules(id, id, css);\n  }\n\n  removeStyles(instance: number, styleSheet: StyleSheet) {\n    styleSheet.clearRules(this.componentId + instance);\n  }\n\n  renderStyles(\n    instance: number,\n    executionContext: Object,\n    styleSheet: StyleSheet,\n    stylis: Stringifier\n  ) {\n    if (instance > 2) StyleSheet.registerId(this.componentId + instance);\n\n    // NOTE: Remove old styles, then inject the new ones\n    this.removeStyles(instance, styleSheet);\n    this.createStyles(instance, executionContext, styleSheet, stylis);\n  }\n}\n","// @flow\n/* eslint-disable no-underscore-dangle */\nimport React from 'react';\nimport { IS_BROWSER, SC_ATTR, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport throwStyledError from '../utils/error';\nimport getNonce from '../utils/nonce';\nimport StyleSheet from '../sheet';\nimport StyleSheetManager from './StyleSheetManager';\n\ndeclare var __SERVER__: boolean;\n\nconst CLOSING_TAG_R = /^\\s*<\\/[a-z]/i;\n\nexport default class ServerStyleSheet {\n  isStreaming: boolean;\n\n  instance: StyleSheet;\n\n  sealed: boolean;\n\n  constructor() {\n    this.instance = new StyleSheet({ isServer: true });\n    this.sealed = false;\n  }\n\n  _emitSheetCSS = (): string => {\n    const css = this.instance.toString();\n    if (!css) return '';\n\n    const nonce = getNonce();\n    const attrs = [nonce && `nonce=\"${nonce}\"`, `${SC_ATTR}=\"true\"`, `${SC_ATTR_VERSION}=\"${SC_VERSION}\"`];\n    const htmlAttr = attrs.filter(Boolean).join(' ');\n\n    return `<style ${htmlAttr}>${css}</style>`;\n  };\n\n  collectStyles(children: any) {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    return <StyleSheetManager sheet={this.instance}>{children}</StyleSheetManager>;\n  }\n\n  getStyleTags = (): string => {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    return this._emitSheetCSS();\n  };\n\n  getStyleElement = () => {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    const props = {\n      [SC_ATTR]: '',\n      [SC_ATTR_VERSION]: SC_VERSION,\n      dangerouslySetInnerHTML: {\n        __html: this.instance.toString(),\n      },\n    };\n\n    const nonce = getNonce();\n    if (nonce) {\n      (props: any).nonce = nonce;\n    }\n\n    // v4 returned an array for this fn, so we'll do the same for v5 for backward compat\n    return [<style {...props} key=\"sc-0-0\" />];\n  };\n\n  // eslint-disable-next-line consistent-return\n  interleaveWithNodeStream(input: any) {\n    if (!__SERVER__ || IS_BROWSER) {\n      return throwStyledError(3);\n    } else if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    if (__SERVER__) {\n      this.seal();\n\n      // eslint-disable-next-line global-require\n      const { Readable, Transform } = require('stream');\n\n      const readableStream: Readable = input;\n      const { instance: sheet, _emitSheetCSS } = this;\n\n      const transformer = new Transform({\n        transform: function appendStyleChunks(chunk, /* encoding */ _, callback) {\n          // Get the chunk and retrieve the sheet's CSS as an HTML chunk,\n          // then reset its rules so we get only new ones for the next chunk\n          const renderedHtml = chunk.toString();\n          const html = _emitSheetCSS();\n\n          sheet.clearTag();\n\n          // prepend style html to chunk, unless the start of the chunk is a\n          // closing tag in which case append right after that\n          if (CLOSING_TAG_R.test(renderedHtml)) {\n            const endOfClosingTag = renderedHtml.indexOf('>') + 1;\n            const before = renderedHtml.slice(0, endOfClosingTag);\n            const after = renderedHtml.slice(endOfClosingTag);\n\n            this.push(before + html + after);\n          } else {\n            this.push(html + renderedHtml);\n          }\n\n          callback();\n        },\n      });\n\n      readableStream.on('error', err => {\n        // forward the error to the transform stream\n        transformer.emit('error', err);\n      });\n\n      return readableStream.pipe(transformer);\n    }\n  }\n\n  seal = () => {\n    this.sealed = true;\n  };\n}\n","// @flow\n\nimport css from './css';\nimport generateComponentId from '../utils/generateComponentId';\nimport Keyframes from '../models/Keyframes';\n\nimport type { Interpolation, Styles } from '../types';\n\nexport default function keyframes(\n  strings: Styles,\n  ...interpolations: Array<Interpolation>\n): Keyframes {\n  /* Warning if you've used keyframes on React Native */\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative'\n  ) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      '`keyframes` cannot be used on ReactNative, only on the web. To do animation in ReactNative please use Animated.'\n    );\n  }\n\n  const rules = css(strings, ...interpolations).join('');\n  const name = generateComponentId(rules);\n  return new Keyframes(name, rules);\n}\n","// @flow\nimport { useContext } from 'react';\nimport { ThemeContext } from '../models/ThemeProvider';\n\nconst useTheme = () => useContext(ThemeContext);\n\nexport default useTheme;\n","// @flow\n/* Import singletons */\nimport isStyledComponent from './utils/isStyledComponent';\nimport css from './constructors/css';\nimport createGlobalStyle from './constructors/createGlobalStyle';\nimport keyframes from './constructors/keyframes';\nimport ServerStyleSheet from './models/ServerStyleSheet';\nimport { SC_VERSION } from './constants';\n\nimport StyleSheetManager, {\n  StyleSheetContext,\n  StyleSheetConsumer,\n} from './models/StyleSheetManager';\n\n/* Import components */\nimport ThemeProvider, { ThemeContext, ThemeConsumer } from './models/ThemeProvider';\n\n/* Import Higher Order Components */\nimport withTheme from './hoc/withTheme';\n\n/* Import hooks */\nimport useTheme from './hooks/useTheme';\n\ndeclare var __SERVER__: boolean;\n\n/* Warning if you've imported this file on React Native */\nif (\n  process.env.NODE_ENV !== 'production' &&\n  typeof navigator !== 'undefined' &&\n  navigator.product === 'ReactNative'\n) {\n  // eslint-disable-next-line no-console\n  console.warn(\n    \"It looks like you've imported 'styled-components' on React Native.\\n\" +\n      \"Perhaps you're looking to import 'styled-components/native'?\\n\" +\n      'Read more about this at https://www.styled-components.com/docs/basics#react-native'\n  );\n}\n\n/* Warning if there are several instances of styled-components */\nif (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test' && typeof window !== 'undefined') {\n  window['__styled-components-init__'] = window['__styled-components-init__'] || 0;\n\n  if (window['__styled-components-init__'] === 1) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      \"It looks like there are several instances of 'styled-components' initialized in this application. \" +\n        'This may cause dynamic styles to not render properly, errors during the rehydration process, ' +\n        'a missing theme prop, and makes your application bigger without good reason.\\n\\n' +\n        'See https://s-c.sh/2BAXzed for more info.'\n    );\n  }\n\n  window['__styled-components-init__'] += 1;\n}\n\n/* Export everything */\nexport * from './secretInternals';\nexport {\n  createGlobalStyle,\n  css,\n  isStyledComponent,\n  keyframes,\n  ServerStyleSheet,\n  StyleSheetConsumer,\n  StyleSheetContext,\n  StyleSheetManager,\n  ThemeConsumer,\n  ThemeContext,\n  ThemeProvider,\n  useTheme,\n  SC_VERSION as version,\n  withTheme,\n};\n","import baseStyled from \"styled-components\";\nconst dataEditorBaseTheme = {\n  accentColor: \"#4F5DFF\",\n  accentFg: \"#FFFFFF\",\n  accentLight: \"rgba(62, 116, 253, 0.1)\",\n  textDark: \"#313139\",\n  textMedium: \"#737383\",\n  textLight: \"#B2B2C0\",\n  textBubble: \"#313139\",\n  bgIconHeader: \"#737383\",\n  fgIconHeader: \"#FFFFFF\",\n  textHeader: \"#313139\",\n  textGroupHeader: \"#313139BB\",\n  textHeaderSelected: \"#FFFFFF\",\n  bgCell: \"#FFFFFF\",\n  bgCellMedium: \"#FAFAFB\",\n  bgHeader: \"#F7F7F8\",\n  bgHeaderHasFocus: \"#E9E9EB\",\n  bgHeaderHovered: \"#EFEFF1\",\n  bgBubble: \"#EDEDF3\",\n  bgBubbleSelected: \"#FFFFFF\",\n  bgSearchResult: \"#fff9e3\",\n  borderColor: \"rgba(115, 116, 131, 0.16)\",\n  drilldownBorder: \"rgba(0, 0, 0, 0)\",\n  linkColor: \"#4F5DFF\",\n  cellHorizontalPadding: 8,\n  cellVerticalPadding: 3,\n  headerFontStyle: \"600 13px\",\n  baseFontStyle: \"13px\",\n  fontFamily: \"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif\",\n  editorFontSize: \"13px\"\n};\nexport const styled = baseStyled;\nexport function getDataEditorTheme() {\n  return dataEditorBaseTheme;\n}","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","export function proveType(_val) {}\n\nfunction panic() {\n  let message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"This should not happen\";\n  throw new Error(message);\n}\n\nexport function assert(fact) {\n  let message = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"Assertion failed\";\n  if (fact) return;\n  return panic(message);\n}\nexport function assertNever(_never) {\n  return panic(\"Hell froze over\");\n}\nexport function maybe(fn, defaultValue) {\n  try {\n    const result = fn();\n    return result;\n  } catch {\n    return defaultValue;\n  }\n}","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default(position, metric, axis) {\n  var positionPercent = position === 0 ? position : position + metric;\n  var positionCss = axis === 'horizontal' ? [positionPercent, 0, 0] : [0, positionPercent, 0];\n  var transitionProp = 'translate3d';\n  var translatedPosition = '(' + positionCss.join(',') + ')';\n  return transitionProp + translatedPosition;\n};\n\nexports.default = _default;","import { createElement, PureComponent } from 'react';\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\nfunction createDetectElementResize(nonce) {\n  // Check `document` and `window` in case of server-side rendering\n  var _window;\n  if (typeof window !== 'undefined') {\n    _window = window;\n  } else if (typeof self !== 'undefined') {\n    _window = self;\n  } else {\n    _window = global;\n  }\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n\n  if (!attachEvent) {\n    var requestFrame = function () {\n      var raf = _window.requestAnimationFrame || _window.mozRequestAnimationFrame || _window.webkitRequestAnimationFrame || function (fn) {\n        return _window.setTimeout(fn, 20);\n      };\n      return function (fn) {\n        return raf(fn);\n      };\n    }();\n\n    var cancelFrame = function () {\n      var cancel = _window.cancelAnimationFrame || _window.mozCancelAnimationFrame || _window.webkitCancelAnimationFrame || _window.clearTimeout;\n      return function (id) {\n        return cancel(id);\n      };\n    }();\n\n    var resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    var checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth != element.__resizeLast__.width || element.offsetHeight != element.__resizeLast__.height;\n    };\n\n    var scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function () {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function (fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false,\n        keyframeprefix = '',\n        animationstartevent = 'animationstart',\n        domPrefixes = 'Webkit Moz O ms'.split(' '),\n        startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' '),\n        pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationstartevent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n\n    var animationName = 'resizeanim';\n    var animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    var animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n        var elementStyle = _window.getComputedStyle(element);\n        if (elementStyle && elementStyle.position == 'static') {\n          element.style.position = 'relative';\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        var expandTrigger = doc.createElement('div');\n        expandTrigger.className = 'expand-trigger';\n        expandTrigger.appendChild(doc.createElement('div'));\n        var contractTrigger = doc.createElement('div');\n        contractTrigger.className = 'contract-trigger';\n        element.__resizeTriggers__.appendChild(expandTrigger);\n        element.__resizeTriggers__.appendChild(contractTrigger);\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationstartevent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName == animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar AutoSizer = function (_React$PureComponent) {\n  inherits(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = AutoSizer.__proto__ || Object.getPrototypeOf(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        var _height = _this._parentNode.offsetHeight || 0;\n        var _width = _this._parentNode.offsetWidth || 0;\n\n        var _style = window.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(_style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(_style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(_style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(_style.paddingBottom, 10) || 0;\n\n        var newHeight = _height - paddingTop - paddingBottom;\n        var newWidth = _width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: _height - paddingTop - paddingBottom,\n            width: _width - paddingLeft - paddingRight\n          });\n\n          onResize({ height: _height, width: _width });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = createDetectElementResize(nonce);\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth,\n          style = _props.style;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width;\n\n      // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = { overflow: 'visible' };\n      var childParams = {};\n\n      // Avoid rendering children before the initial measurements have been collected.\n      // At best this would just be wasting cycles.\n      var bailoutOnChildren = false;\n\n      if (!disableHeight) {\n        if (height === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        if (width === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n\n      return createElement(\n        'div',\n        {\n          className: className,\n          ref: this._setRef,\n          style: _extends({}, outerStyle, style) },\n        !bailoutOnChildren && children(childParams)\n      );\n    }\n  }]);\n  return AutoSizer;\n}(PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n};\n\nexport default AutoSizer;\n","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', './react-swipe'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('./react-swipe'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.reactSwipe);\n    global.index = mod.exports;\n  }\n})(this, function (exports, _reactSwipe) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _reactSwipe2 = _interopRequireDefault(_reactSwipe);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  exports.default = _reactSwipe2.default;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _default = {\n  ROOT: function ROOT(customClassName) {\n    return (0, _classnames.default)(_defineProperty({\n      'carousel-root': true\n    }, customClassName || '', !!customClassName));\n  },\n  CAROUSEL: function CAROUSEL(isSlider) {\n    return (0, _classnames.default)({\n      carousel: true,\n      'carousel-slider': isSlider\n    });\n  },\n  WRAPPER: function WRAPPER(isSlider, axis) {\n    return (0, _classnames.default)({\n      'thumbs-wrapper': !isSlider,\n      'slider-wrapper': isSlider,\n      'axis-horizontal': axis === 'horizontal',\n      'axis-vertical': axis !== 'horizontal'\n    });\n  },\n  SLIDER: function SLIDER(isSlider, isSwiping) {\n    return (0, _classnames.default)({\n      thumbs: !isSlider,\n      slider: isSlider,\n      animated: !isSwiping\n    });\n  },\n  ITEM: function ITEM(isSlider, selected, previous) {\n    return (0, _classnames.default)({\n      thumb: !isSlider,\n      slide: isSlider,\n      selected: selected,\n      previous: previous\n    });\n  },\n  ARROW_PREV: function ARROW_PREV(disabled) {\n    return (0, _classnames.default)({\n      'control-arrow control-prev': true,\n      'control-disabled': disabled\n    });\n  },\n  ARROW_NEXT: function ARROW_NEXT(disabled) {\n    return (0, _classnames.default)({\n      'control-arrow control-next': true,\n      'control-disabled': disabled\n    });\n  },\n  DOT: function DOT(selected) {\n    return (0, _classnames.default)({\n      dot: true,\n      selected: selected\n    });\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _cssClasses = _interopRequireDefault(require(\"../cssClasses\"));\n\nvar _dimensions = require(\"../dimensions\");\n\nvar _CSSTranslate = _interopRequireDefault(require(\"../CSSTranslate\"));\n\nvar _reactEasySwipe = _interopRequireDefault(require(\"react-easy-swipe\"));\n\nvar _window = _interopRequireDefault(require(\"../shims/window\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar isKeyboardEvent = function isKeyboardEvent(e) {\n  return e.hasOwnProperty('key');\n};\n\nvar Thumbs = /*#__PURE__*/function (_Component) {\n  _inherits(Thumbs, _Component);\n\n  var _super = _createSuper(Thumbs);\n\n  function Thumbs(_props) {\n    var _this;\n\n    _classCallCheck(this, Thumbs);\n\n    _this = _super.call(this, _props);\n\n    _defineProperty(_assertThisInitialized(_this), \"itemsWrapperRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"itemsListRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"thumbsRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemsWrapperRef\", function (node) {\n      _this.itemsWrapperRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemsListRef\", function (node) {\n      _this.itemsListRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setThumbsRef\", function (node, index) {\n      if (!_this.thumbsRef) {\n        _this.thumbsRef = [];\n      }\n\n      _this.thumbsRef[index] = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateSizes\", function () {\n      if (!_this.props.children || !_this.itemsWrapperRef || !_this.thumbsRef) {\n        return;\n      }\n\n      var total = _react.Children.count(_this.props.children);\n\n      var wrapperSize = _this.itemsWrapperRef.clientWidth;\n      var itemSize = _this.props.thumbWidth ? _this.props.thumbWidth : (0, _dimensions.outerWidth)(_this.thumbsRef[0]);\n      var visibleItems = Math.floor(wrapperSize / itemSize);\n      var showArrows = visibleItems < total;\n      var lastPosition = showArrows ? total - visibleItems : 0;\n\n      _this.setState(function (_state, props) {\n        return {\n          itemSize: itemSize,\n          visibleItems: visibleItems,\n          firstItem: showArrows ? _this.getFirstItem(props.selectedItem) : 0,\n          lastPosition: lastPosition,\n          showArrows: showArrows\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickItem\", function (index, item, e) {\n      if (!isKeyboardEvent(e) || e.key === 'Enter') {\n        var handler = _this.props.onSelectItem;\n\n        if (typeof handler === 'function') {\n          handler(index, item);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeStart\", function () {\n      _this.setState({\n        swiping: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeEnd\", function () {\n      _this.setState({\n        swiping: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeMove\", function (delta) {\n      var deltaX = delta.x;\n\n      if (!_this.state.itemSize || !_this.itemsWrapperRef || !_this.state.visibleItems) {\n        return false;\n      }\n\n      var leftBoundary = 0;\n\n      var childrenLength = _react.Children.count(_this.props.children);\n\n      var currentPosition = -(_this.state.firstItem * 100) / _this.state.visibleItems;\n      var lastLeftItem = Math.max(childrenLength - _this.state.visibleItems, 0);\n      var lastLeftBoundary = -lastLeftItem * 100 / _this.state.visibleItems; // prevent user from swiping left out of boundaries\n\n      if (currentPosition === leftBoundary && deltaX > 0) {\n        deltaX = 0;\n      } // prevent user from swiping right out of boundaries\n\n\n      if (currentPosition === lastLeftBoundary && deltaX < 0) {\n        deltaX = 0;\n      }\n\n      var wrapperSize = _this.itemsWrapperRef.clientWidth;\n      var position = currentPosition + 100 / (wrapperSize / deltaX); // if 3d isn't available we will use left to move\n\n      if (_this.itemsListRef) {\n        ['WebkitTransform', 'MozTransform', 'MsTransform', 'OTransform', 'transform', 'msTransform'].forEach(function (prop) {\n          _this.itemsListRef.style[prop] = (0, _CSSTranslate.default)(position, '%', _this.props.axis);\n        });\n      }\n\n      return true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slideRight\", function (positions) {\n      _this.moveTo(_this.state.firstItem - (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slideLeft\", function (positions) {\n      _this.moveTo(_this.state.firstItem + (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"moveTo\", function (position) {\n      // position can't be lower than 0\n      position = position < 0 ? 0 : position; // position can't be higher than last postion\n\n      position = position >= _this.state.lastPosition ? _this.state.lastPosition : position;\n\n      _this.setState({\n        firstItem: position\n      });\n    });\n\n    _this.state = {\n      selectedItem: _props.selectedItem,\n      swiping: false,\n      showArrows: false,\n      firstItem: 0,\n      visibleItems: 0,\n      lastPosition: 0\n    };\n    return _this;\n  }\n\n  _createClass(Thumbs, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setupThumbs();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.selectedItem !== this.state.selectedItem) {\n        this.setState({\n          selectedItem: this.props.selectedItem,\n          firstItem: this.getFirstItem(this.props.selectedItem)\n        });\n      }\n\n      if (this.props.children === prevProps.children) {\n        return;\n      } // This will capture any size changes for arrow adjustments etc.\n      // usually in the same render cycle so we don't see any flickers\n\n\n      this.updateSizes();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyThumbs();\n    }\n  }, {\n    key: \"setupThumbs\",\n    value: function setupThumbs() {\n      // as the widths are calculated, we need to resize\n      // the carousel when the window is resized\n      (0, _window.default)().addEventListener('resize', this.updateSizes); // issue #2 - image loading smaller\n\n      (0, _window.default)().addEventListener('DOMContentLoaded', this.updateSizes); // when the component is rendered we need to calculate\n      // the container size to adjust the responsive behaviour\n\n      this.updateSizes();\n    }\n  }, {\n    key: \"destroyThumbs\",\n    value: function destroyThumbs() {\n      // removing listeners\n      (0, _window.default)().removeEventListener('resize', this.updateSizes);\n      (0, _window.default)().removeEventListener('DOMContentLoaded', this.updateSizes);\n    }\n  }, {\n    key: \"getFirstItem\",\n    value: function getFirstItem(selectedItem) {\n      var firstItem = selectedItem;\n\n      if (selectedItem >= this.state.lastPosition) {\n        firstItem = this.state.lastPosition;\n      }\n\n      if (selectedItem < this.state.firstItem + this.state.visibleItems) {\n        firstItem = this.state.firstItem;\n      }\n\n      if (selectedItem < this.state.firstItem) {\n        firstItem = selectedItem;\n      }\n\n      return firstItem;\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this2 = this;\n\n      return this.props.children.map(function (img, index) {\n        var itemClass = _cssClasses.default.ITEM(false, index === _this2.state.selectedItem);\n\n        var thumbProps = {\n          key: index,\n          ref: function ref(e) {\n            return _this2.setThumbsRef(e, index);\n          },\n          className: itemClass,\n          onClick: _this2.handleClickItem.bind(_this2, index, _this2.props.children[index]),\n          onKeyDown: _this2.handleClickItem.bind(_this2, index, _this2.props.children[index]),\n          'aria-label': \"\".concat(_this2.props.labels.item, \" \").concat(index + 1),\n          style: {\n            width: _this2.props.thumbWidth\n          }\n        };\n        return /*#__PURE__*/_react.default.createElement(\"li\", _extends({}, thumbProps, {\n          role: \"button\",\n          tabIndex: 0\n        }), img);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (!this.props.children) {\n        return null;\n      }\n\n      var isSwipeable = _react.Children.count(this.props.children) > 1; // show left arrow?\n\n      var hasPrev = this.state.showArrows && this.state.firstItem > 0; // show right arrow\n\n      var hasNext = this.state.showArrows && this.state.firstItem < this.state.lastPosition; // obj to hold the transformations and styles\n\n      var itemListStyles = {};\n      var currentPosition = -this.state.firstItem * (this.state.itemSize || 0);\n      var transformProp = (0, _CSSTranslate.default)(currentPosition, 'px', this.props.axis);\n      var transitionTime = this.props.transitionTime + 'ms';\n      itemListStyles = {\n        WebkitTransform: transformProp,\n        MozTransform: transformProp,\n        MsTransform: transformProp,\n        OTransform: transformProp,\n        transform: transformProp,\n        msTransform: transformProp,\n        WebkitTransitionDuration: transitionTime,\n        MozTransitionDuration: transitionTime,\n        MsTransitionDuration: transitionTime,\n        OTransitionDuration: transitionTime,\n        transitionDuration: transitionTime,\n        msTransitionDuration: transitionTime\n      };\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.CAROUSEL(false)\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.WRAPPER(false),\n        ref: this.setItemsWrapperRef\n      }, /*#__PURE__*/_react.default.createElement(\"button\", {\n        type: \"button\",\n        className: _cssClasses.default.ARROW_PREV(!hasPrev),\n        onClick: function onClick() {\n          return _this3.slideRight();\n        },\n        \"aria-label\": this.props.labels.leftArrow\n      }), isSwipeable ? /*#__PURE__*/_react.default.createElement(_reactEasySwipe.default, {\n        tagName: \"ul\",\n        className: _cssClasses.default.SLIDER(false, this.state.swiping),\n        onSwipeLeft: this.slideLeft,\n        onSwipeRight: this.slideRight,\n        onSwipeMove: this.onSwipeMove,\n        onSwipeStart: this.onSwipeStart,\n        onSwipeEnd: this.onSwipeEnd,\n        style: itemListStyles,\n        innerRef: this.setItemsListRef,\n        allowMouseEvents: this.props.emulateTouch\n      }, this.renderItems()) : /*#__PURE__*/_react.default.createElement(\"ul\", {\n        className: _cssClasses.default.SLIDER(false, this.state.swiping),\n        ref: function ref(node) {\n          return _this3.setItemsListRef(node);\n        },\n        style: itemListStyles\n      }, this.renderItems()), /*#__PURE__*/_react.default.createElement(\"button\", {\n        type: \"button\",\n        className: _cssClasses.default.ARROW_NEXT(!hasNext),\n        onClick: function onClick() {\n          return _this3.slideLeft();\n        },\n        \"aria-label\": this.props.labels.rightArrow\n      })));\n    }\n  }]);\n\n  return Thumbs;\n}(_react.Component);\n\nexports.default = Thumbs;\n\n_defineProperty(Thumbs, \"displayName\", 'Thumbs');\n\n_defineProperty(Thumbs, \"defaultProps\", {\n  axis: 'horizontal',\n  labels: {\n    leftArrow: 'previous slide / item',\n    rightArrow: 'next slide / item',\n    item: 'slide item'\n  },\n  selectedItem: 0,\n  thumbWidth: 80,\n  transitionTime: 350\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default() {\n  return window;\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setPosition = exports.getPosition = exports.isKeyboardEvent = exports.defaultStatusFormatter = exports.noop = void 0;\n\nvar _react = require(\"react\");\n\nvar _CSSTranslate = _interopRequireDefault(require(\"../../CSSTranslate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar noop = function noop() {};\n\nexports.noop = noop;\n\nvar defaultStatusFormatter = function defaultStatusFormatter(current, total) {\n  return \"\".concat(current, \" of \").concat(total);\n};\n\nexports.defaultStatusFormatter = defaultStatusFormatter;\n\nvar isKeyboardEvent = function isKeyboardEvent(e) {\n  return e ? e.hasOwnProperty('key') : false;\n};\n/**\n * Gets the list 'position' relative to a current index\n * @param index\n */\n\n\nexports.isKeyboardEvent = isKeyboardEvent;\n\nvar getPosition = function getPosition(index, props) {\n  if (props.infiniteLoop) {\n    // index has to be added by 1 because of the first cloned slide\n    ++index;\n  }\n\n  if (index === 0) {\n    return 0;\n  }\n\n  var childrenLength = _react.Children.count(props.children);\n\n  if (props.centerMode && props.axis === 'horizontal') {\n    var currentPosition = -index * props.centerSlidePercentage;\n    var lastPosition = childrenLength - 1;\n\n    if (index && (index !== lastPosition || props.infiniteLoop)) {\n      currentPosition += (100 - props.centerSlidePercentage) / 2;\n    } else if (index === lastPosition) {\n      currentPosition += 100 - props.centerSlidePercentage;\n    }\n\n    return currentPosition;\n  }\n\n  return -index * 100;\n};\n/**\n * Sets the 'position' transform for sliding animations\n * @param position\n * @param forceReflow\n */\n\n\nexports.getPosition = getPosition;\n\nvar setPosition = function setPosition(position, axis) {\n  var style = {};\n  ['WebkitTransform', 'MozTransform', 'MsTransform', 'OTransform', 'transform', 'msTransform'].forEach(function (prop) {\n    // @ts-ignore\n    style[prop] = (0, _CSSTranslate.default)(position, '%', axis);\n  });\n  return style;\n};\n\nexports.setPosition = setPosition;","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n","//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","function stylis_min (W) {\n  function M(d, c, e, h, a) {\n    for (var m = 0, b = 0, v = 0, n = 0, q, g, x = 0, K = 0, k, u = k = q = 0, l = 0, r = 0, I = 0, t = 0, B = e.length, J = B - 1, y, f = '', p = '', F = '', G = '', C; l < B;) {\n      g = e.charCodeAt(l);\n      l === J && 0 !== b + n + v + m && (0 !== b && (g = 47 === b ? 10 : 47), n = v = m = 0, B++, J++);\n\n      if (0 === b + n + v + m) {\n        if (l === J && (0 < r && (f = f.replace(N, '')), 0 < f.trim().length)) {\n          switch (g) {\n            case 32:\n            case 9:\n            case 59:\n            case 13:\n            case 10:\n              break;\n\n            default:\n              f += e.charAt(l);\n          }\n\n          g = 59;\n        }\n\n        switch (g) {\n          case 123:\n            f = f.trim();\n            q = f.charCodeAt(0);\n            k = 1;\n\n            for (t = ++l; l < B;) {\n              switch (g = e.charCodeAt(l)) {\n                case 123:\n                  k++;\n                  break;\n\n                case 125:\n                  k--;\n                  break;\n\n                case 47:\n                  switch (g = e.charCodeAt(l + 1)) {\n                    case 42:\n                    case 47:\n                      a: {\n                        for (u = l + 1; u < J; ++u) {\n                          switch (e.charCodeAt(u)) {\n                            case 47:\n                              if (42 === g && 42 === e.charCodeAt(u - 1) && l + 2 !== u) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                              break;\n\n                            case 10:\n                              if (47 === g) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                          }\n                        }\n\n                        l = u;\n                      }\n\n                  }\n\n                  break;\n\n                case 91:\n                  g++;\n\n                case 40:\n                  g++;\n\n                case 34:\n                case 39:\n                  for (; l++ < J && e.charCodeAt(l) !== g;) {\n                  }\n\n              }\n\n              if (0 === k) break;\n              l++;\n            }\n\n            k = e.substring(t, l);\n            0 === q && (q = (f = f.replace(ca, '').trim()).charCodeAt(0));\n\n            switch (q) {\n              case 64:\n                0 < r && (f = f.replace(N, ''));\n                g = f.charCodeAt(1);\n\n                switch (g) {\n                  case 100:\n                  case 109:\n                  case 115:\n                  case 45:\n                    r = c;\n                    break;\n\n                  default:\n                    r = O;\n                }\n\n                k = M(c, r, k, g, a + 1);\n                t = k.length;\n                0 < A && (r = X(O, f, I), C = H(3, k, r, c, D, z, t, g, a, h), f = r.join(''), void 0 !== C && 0 === (t = (k = C.trim()).length) && (g = 0, k = ''));\n                if (0 < t) switch (g) {\n                  case 115:\n                    f = f.replace(da, ea);\n\n                  case 100:\n                  case 109:\n                  case 45:\n                    k = f + '{' + k + '}';\n                    break;\n\n                  case 107:\n                    f = f.replace(fa, '$1 $2');\n                    k = f + '{' + k + '}';\n                    k = 1 === w || 2 === w && L('@' + k, 3) ? '@-webkit-' + k + '@' + k : '@' + k;\n                    break;\n\n                  default:\n                    k = f + k, 112 === h && (k = (p += k, ''));\n                } else k = '';\n                break;\n\n              default:\n                k = M(c, X(c, f, I), k, h, a + 1);\n            }\n\n            F += k;\n            k = I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n            break;\n\n          case 125:\n          case 59:\n            f = (0 < r ? f.replace(N, '') : f).trim();\n            if (1 < (t = f.length)) switch (0 === u && (q = f.charCodeAt(0), 45 === q || 96 < q && 123 > q) && (t = (f = f.replace(' ', ':')).length), 0 < A && void 0 !== (C = H(1, f, c, d, D, z, p.length, h, a, h)) && 0 === (t = (f = C.trim()).length) && (f = '\\x00\\x00'), q = f.charCodeAt(0), g = f.charCodeAt(1), q) {\n              case 0:\n                break;\n\n              case 64:\n                if (105 === g || 99 === g) {\n                  G += f + e.charAt(l);\n                  break;\n                }\n\n              default:\n                58 !== f.charCodeAt(t - 1) && (p += P(f, q, g, f.charCodeAt(2)));\n            }\n            I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n        }\n      }\n\n      switch (g) {\n        case 13:\n        case 10:\n          47 === b ? b = 0 : 0 === 1 + q && 107 !== h && 0 < f.length && (r = 1, f += '\\x00');\n          0 < A * Y && H(0, f, c, d, D, z, p.length, h, a, h);\n          z = 1;\n          D++;\n          break;\n\n        case 59:\n        case 125:\n          if (0 === b + n + v + m) {\n            z++;\n            break;\n          }\n\n        default:\n          z++;\n          y = e.charAt(l);\n\n          switch (g) {\n            case 9:\n            case 32:\n              if (0 === n + m + b) switch (x) {\n                case 44:\n                case 58:\n                case 9:\n                case 32:\n                  y = '';\n                  break;\n\n                default:\n                  32 !== g && (y = ' ');\n              }\n              break;\n\n            case 0:\n              y = '\\\\0';\n              break;\n\n            case 12:\n              y = '\\\\f';\n              break;\n\n            case 11:\n              y = '\\\\v';\n              break;\n\n            case 38:\n              0 === n + b + m && (r = I = 1, y = '\\f' + y);\n              break;\n\n            case 108:\n              if (0 === n + b + m + E && 0 < u) switch (l - u) {\n                case 2:\n                  112 === x && 58 === e.charCodeAt(l - 3) && (E = x);\n\n                case 8:\n                  111 === K && (E = K);\n              }\n              break;\n\n            case 58:\n              0 === n + b + m && (u = l);\n              break;\n\n            case 44:\n              0 === b + v + n + m && (r = 1, y += '\\r');\n              break;\n\n            case 34:\n            case 39:\n              0 === b && (n = n === g ? 0 : 0 === n ? g : n);\n              break;\n\n            case 91:\n              0 === n + b + v && m++;\n              break;\n\n            case 93:\n              0 === n + b + v && m--;\n              break;\n\n            case 41:\n              0 === n + b + m && v--;\n              break;\n\n            case 40:\n              if (0 === n + b + m) {\n                if (0 === q) switch (2 * x + 3 * K) {\n                  case 533:\n                    break;\n\n                  default:\n                    q = 1;\n                }\n                v++;\n              }\n\n              break;\n\n            case 64:\n              0 === b + v + n + m + u + k && (k = 1);\n              break;\n\n            case 42:\n            case 47:\n              if (!(0 < n + m + v)) switch (b) {\n                case 0:\n                  switch (2 * g + 3 * e.charCodeAt(l + 1)) {\n                    case 235:\n                      b = 47;\n                      break;\n\n                    case 220:\n                      t = l, b = 42;\n                  }\n\n                  break;\n\n                case 42:\n                  47 === g && 42 === x && t + 2 !== l && (33 === e.charCodeAt(t + 2) && (p += e.substring(t, l + 1)), y = '', b = 0);\n              }\n          }\n\n          0 === b && (f += y);\n      }\n\n      K = x;\n      x = g;\n      l++;\n    }\n\n    t = p.length;\n\n    if (0 < t) {\n      r = c;\n      if (0 < A && (C = H(2, p, r, d, D, z, t, h, a, h), void 0 !== C && 0 === (p = C).length)) return G + p + F;\n      p = r.join(',') + '{' + p + '}';\n\n      if (0 !== w * E) {\n        2 !== w || L(p, 2) || (E = 0);\n\n        switch (E) {\n          case 111:\n            p = p.replace(ha, ':-moz-$1') + p;\n            break;\n\n          case 112:\n            p = p.replace(Q, '::-webkit-input-$1') + p.replace(Q, '::-moz-$1') + p.replace(Q, ':-ms-input-$1') + p;\n        }\n\n        E = 0;\n      }\n    }\n\n    return G + p + F;\n  }\n\n  function X(d, c, e) {\n    var h = c.trim().split(ia);\n    c = h;\n    var a = h.length,\n        m = d.length;\n\n    switch (m) {\n      case 0:\n      case 1:\n        var b = 0;\n\n        for (d = 0 === m ? '' : d[0] + ' '; b < a; ++b) {\n          c[b] = Z(d, c[b], e).trim();\n        }\n\n        break;\n\n      default:\n        var v = b = 0;\n\n        for (c = []; b < a; ++b) {\n          for (var n = 0; n < m; ++n) {\n            c[v++] = Z(d[n] + ' ', h[b], e).trim();\n          }\n        }\n\n    }\n\n    return c;\n  }\n\n  function Z(d, c, e) {\n    var h = c.charCodeAt(0);\n    33 > h && (h = (c = c.trim()).charCodeAt(0));\n\n    switch (h) {\n      case 38:\n        return c.replace(F, '$1' + d.trim());\n\n      case 58:\n        return d.trim() + c.replace(F, '$1' + d.trim());\n\n      default:\n        if (0 < 1 * e && 0 < c.indexOf('\\f')) return c.replace(F, (58 === d.charCodeAt(0) ? '' : '$1') + d.trim());\n    }\n\n    return d + c;\n  }\n\n  function P(d, c, e, h) {\n    var a = d + ';',\n        m = 2 * c + 3 * e + 4 * h;\n\n    if (944 === m) {\n      d = a.indexOf(':', 9) + 1;\n      var b = a.substring(d, a.length - 1).trim();\n      b = a.substring(0, d).trim() + b + ';';\n      return 1 === w || 2 === w && L(b, 1) ? '-webkit-' + b + b : b;\n    }\n\n    if (0 === w || 2 === w && !L(a, 1)) return a;\n\n    switch (m) {\n      case 1015:\n        return 97 === a.charCodeAt(10) ? '-webkit-' + a + a : a;\n\n      case 951:\n        return 116 === a.charCodeAt(3) ? '-webkit-' + a + a : a;\n\n      case 963:\n        return 110 === a.charCodeAt(5) ? '-webkit-' + a + a : a;\n\n      case 1009:\n        if (100 !== a.charCodeAt(4)) break;\n\n      case 969:\n      case 942:\n        return '-webkit-' + a + a;\n\n      case 978:\n        return '-webkit-' + a + '-moz-' + a + a;\n\n      case 1019:\n      case 983:\n        return '-webkit-' + a + '-moz-' + a + '-ms-' + a + a;\n\n      case 883:\n        if (45 === a.charCodeAt(8)) return '-webkit-' + a + a;\n        if (0 < a.indexOf('image-set(', 11)) return a.replace(ja, '$1-webkit-$2') + a;\n        break;\n\n      case 932:\n        if (45 === a.charCodeAt(4)) switch (a.charCodeAt(5)) {\n          case 103:\n            return '-webkit-box-' + a.replace('-grow', '') + '-webkit-' + a + '-ms-' + a.replace('grow', 'positive') + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-' + a.replace('shrink', 'negative') + a;\n\n          case 98:\n            return '-webkit-' + a + '-ms-' + a.replace('basis', 'preferred-size') + a;\n        }\n        return '-webkit-' + a + '-ms-' + a + a;\n\n      case 964:\n        return '-webkit-' + a + '-ms-flex-' + a + a;\n\n      case 1023:\n        if (99 !== a.charCodeAt(8)) break;\n        b = a.substring(a.indexOf(':', 15)).replace('flex-', '').replace('space-between', 'justify');\n        return '-webkit-box-pack' + b + '-webkit-' + a + '-ms-flex-pack' + b + a;\n\n      case 1005:\n        return ka.test(a) ? a.replace(aa, ':-webkit-') + a.replace(aa, ':-moz-') + a : a;\n\n      case 1e3:\n        b = a.substring(13).trim();\n        c = b.indexOf('-') + 1;\n\n        switch (b.charCodeAt(0) + b.charCodeAt(c)) {\n          case 226:\n            b = a.replace(G, 'tb');\n            break;\n\n          case 232:\n            b = a.replace(G, 'tb-rl');\n            break;\n\n          case 220:\n            b = a.replace(G, 'lr');\n            break;\n\n          default:\n            return a;\n        }\n\n        return '-webkit-' + a + '-ms-' + b + a;\n\n      case 1017:\n        if (-1 === a.indexOf('sticky', 9)) break;\n\n      case 975:\n        c = (a = d).length - 10;\n        b = (33 === a.charCodeAt(c) ? a.substring(0, c) : a).substring(d.indexOf(':', 7) + 1).trim();\n\n        switch (m = b.charCodeAt(0) + (b.charCodeAt(7) | 0)) {\n          case 203:\n            if (111 > b.charCodeAt(8)) break;\n\n          case 115:\n            a = a.replace(b, '-webkit-' + b) + ';' + a;\n            break;\n\n          case 207:\n          case 102:\n            a = a.replace(b, '-webkit-' + (102 < m ? 'inline-' : '') + 'box') + ';' + a.replace(b, '-webkit-' + b) + ';' + a.replace(b, '-ms-' + b + 'box') + ';' + a;\n        }\n\n        return a + ';';\n\n      case 938:\n        if (45 === a.charCodeAt(5)) switch (a.charCodeAt(6)) {\n          case 105:\n            return b = a.replace('-items', ''), '-webkit-' + a + '-webkit-box-' + b + '-ms-flex-' + b + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-flex-item-' + a.replace(ba, '') + a;\n\n          default:\n            return '-webkit-' + a + '-ms-flex-line-pack' + a.replace('align-content', '').replace(ba, '') + a;\n        }\n        break;\n\n      case 973:\n      case 989:\n        if (45 !== a.charCodeAt(3) || 122 === a.charCodeAt(4)) break;\n\n      case 931:\n      case 953:\n        if (!0 === la.test(d)) return 115 === (b = d.substring(d.indexOf(':') + 1)).charCodeAt(0) ? P(d.replace('stretch', 'fill-available'), c, e, h).replace(':fill-available', ':stretch') : a.replace(b, '-webkit-' + b) + a.replace(b, '-moz-' + b.replace('fill-', '')) + a;\n        break;\n\n      case 962:\n        if (a = '-webkit-' + a + (102 === a.charCodeAt(5) ? '-ms-' + a : '') + a, 211 === e + h && 105 === a.charCodeAt(13) && 0 < a.indexOf('transform', 10)) return a.substring(0, a.indexOf(';', 27) + 1).replace(ma, '$1-webkit-$2') + a;\n    }\n\n    return a;\n  }\n\n  function L(d, c) {\n    var e = d.indexOf(1 === c ? ':' : '{'),\n        h = d.substring(0, 3 !== c ? e : 10);\n    e = d.substring(e + 1, d.length - 1);\n    return R(2 !== c ? h : h.replace(na, '$1'), e, c);\n  }\n\n  function ea(d, c) {\n    var e = P(c, c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2));\n    return e !== c + ';' ? e.replace(oa, ' or ($1)').substring(4) : '(' + c + ')';\n  }\n\n  function H(d, c, e, h, a, m, b, v, n, q) {\n    for (var g = 0, x = c, w; g < A; ++g) {\n      switch (w = S[g].call(B, d, x, e, h, a, m, b, v, n, q)) {\n        case void 0:\n        case !1:\n        case !0:\n        case null:\n          break;\n\n        default:\n          x = w;\n      }\n    }\n\n    if (x !== c) return x;\n  }\n\n  function T(d) {\n    switch (d) {\n      case void 0:\n      case null:\n        A = S.length = 0;\n        break;\n\n      default:\n        if ('function' === typeof d) S[A++] = d;else if ('object' === typeof d) for (var c = 0, e = d.length; c < e; ++c) {\n          T(d[c]);\n        } else Y = !!d | 0;\n    }\n\n    return T;\n  }\n\n  function U(d) {\n    d = d.prefix;\n    void 0 !== d && (R = null, d ? 'function' !== typeof d ? w = 1 : (w = 2, R = d) : w = 0);\n    return U;\n  }\n\n  function B(d, c) {\n    var e = d;\n    33 > e.charCodeAt(0) && (e = e.trim());\n    V = e;\n    e = [V];\n\n    if (0 < A) {\n      var h = H(-1, c, e, e, D, z, 0, 0, 0, 0);\n      void 0 !== h && 'string' === typeof h && (c = h);\n    }\n\n    var a = M(O, e, c, 0, 0);\n    0 < A && (h = H(-2, a, e, e, D, z, a.length, 0, 0, 0), void 0 !== h && (a = h));\n    V = '';\n    E = 0;\n    z = D = 1;\n    return a;\n  }\n\n  var ca = /^\\0+/g,\n      N = /[\\0\\r\\f]/g,\n      aa = /: */g,\n      ka = /zoo|gra/,\n      ma = /([,: ])(transform)/g,\n      ia = /,\\r+?/g,\n      F = /([\\t\\r\\n ])*\\f?&/g,\n      fa = /@(k\\w+)\\s*(\\S*)\\s*/,\n      Q = /::(place)/g,\n      ha = /:(read-only)/g,\n      G = /[svh]\\w+-[tblr]{2}/,\n      da = /\\(\\s*(.*)\\s*\\)/g,\n      oa = /([\\s\\S]*?);/g,\n      ba = /-self|flex-/g,\n      na = /[^]*?(:[rp][el]a[\\w-]+)[^]*/,\n      la = /stretch|:\\s*\\w+\\-(?:conte|avail)/,\n      ja = /([^-])(image-set\\()/,\n      z = 1,\n      D = 1,\n      E = 0,\n      w = 1,\n      O = [],\n      S = [],\n      A = 0,\n      R = null,\n      Y = 0,\n      V = '';\n  B.use = T;\n  B.set = U;\n  void 0 !== W && U(W);\n  return B;\n}\n\nexport default stylis_min;\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Carousel\", {\n  enumerable: true,\n  get: function get() {\n    return _Carousel.default;\n  }\n});\nObject.defineProperty(exports, \"CarouselProps\", {\n  enumerable: true,\n  get: function get() {\n    return _types.CarouselProps;\n  }\n});\nObject.defineProperty(exports, \"Thumbs\", {\n  enumerable: true,\n  get: function get() {\n    return _Thumbs.default;\n  }\n});\n\nvar _Carousel = _interopRequireDefault(require(\"./components/Carousel\"));\n\nvar _types = require(\"./components/Carousel/types\");\n\nvar _Thumbs = _interopRequireDefault(require(\"./components/Thumbs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactEasySwipe = _interopRequireDefault(require(\"react-easy-swipe\"));\n\nvar _cssClasses = _interopRequireDefault(require(\"../../cssClasses\"));\n\nvar _Thumbs = _interopRequireDefault(require(\"../Thumbs\"));\n\nvar _document = _interopRequireDefault(require(\"../../shims/document\"));\n\nvar _window = _interopRequireDefault(require(\"../../shims/window\"));\n\nvar _utils = require(\"./utils\");\n\nvar _animations = require(\"./animations\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Carousel = /*#__PURE__*/function (_React$Component) {\n  _inherits(Carousel, _React$Component);\n\n  var _super = _createSuper(Carousel);\n\n  // @ts-ignore\n  function Carousel(props) {\n    var _this;\n\n    _classCallCheck(this, Carousel);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"thumbsRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"carouselWrapperRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"listRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"itemsRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"timer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"animationHandler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setThumbsRef\", function (node) {\n      _this.thumbsRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCarouselWrapperRef\", function (node) {\n      _this.carouselWrapperRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setListRef\", function (node) {\n      _this.listRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemsRef\", function (node, index) {\n      if (!_this.itemsRef) {\n        _this.itemsRef = [];\n      }\n\n      _this.itemsRef[index] = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"autoPlay\", function () {\n      if (_react.Children.count(_this.props.children) <= 1) {\n        return;\n      }\n\n      _this.clearAutoPlay();\n\n      if (!_this.props.autoPlay) {\n        return;\n      }\n\n      _this.timer = setTimeout(function () {\n        _this.increment();\n      }, _this.props.interval);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearAutoPlay\", function () {\n      if (_this.timer) clearTimeout(_this.timer);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAutoPlay\", function () {\n      _this.clearAutoPlay();\n\n      _this.autoPlay();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopOnHover\", function () {\n      _this.setState({\n        isMouseEntered: true\n      }, _this.clearAutoPlay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"startOnLeave\", function () {\n      _this.setState({\n        isMouseEntered: false\n      }, _this.autoPlay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isFocusWithinTheCarousel\", function () {\n      if (!_this.carouselWrapperRef) {\n        return false;\n      }\n\n      if ((0, _document.default)().activeElement === _this.carouselWrapperRef || _this.carouselWrapperRef.contains((0, _document.default)().activeElement)) {\n        return true;\n      }\n\n      return false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"navigateWithKeyboard\", function (e) {\n      if (!_this.isFocusWithinTheCarousel()) {\n        return;\n      }\n\n      var axis = _this.props.axis;\n      var isHorizontal = axis === 'horizontal';\n      var keyNames = {\n        ArrowUp: 38,\n        ArrowRight: 39,\n        ArrowDown: 40,\n        ArrowLeft: 37\n      };\n      var nextKey = isHorizontal ? keyNames.ArrowRight : keyNames.ArrowDown;\n      var prevKey = isHorizontal ? keyNames.ArrowLeft : keyNames.ArrowUp;\n\n      if (nextKey === e.keyCode) {\n        _this.increment();\n      } else if (prevKey === e.keyCode) {\n        _this.decrement();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateSizes\", function () {\n      if (!_this.state.initialized || !_this.itemsRef || _this.itemsRef.length === 0) {\n        return;\n      }\n\n      var isHorizontal = _this.props.axis === 'horizontal';\n      var firstItem = _this.itemsRef[0];\n\n      if (!firstItem) {\n        return;\n      }\n\n      var itemSize = isHorizontal ? firstItem.clientWidth : firstItem.clientHeight;\n\n      _this.setState({\n        itemSize: itemSize\n      });\n\n      if (_this.thumbsRef) {\n        _this.thumbsRef.updateSizes();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setMountState\", function () {\n      _this.setState({\n        hasMount: true\n      });\n\n      _this.updateSizes();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickItem\", function (index, item) {\n      if (_react.Children.count(_this.props.children) === 0) {\n        return;\n      }\n\n      if (_this.state.cancelClick) {\n        _this.setState({\n          cancelClick: false\n        });\n\n        return;\n      }\n\n      _this.props.onClickItem(index, item);\n\n      if (index !== _this.state.selectedItem) {\n        _this.setState({\n          selectedItem: index\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnChange\", function (index, item) {\n      if (_react.Children.count(_this.props.children) <= 1) {\n        return;\n      }\n\n      _this.props.onChange(index, item);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickThumb\", function (index, item) {\n      _this.props.onClickThumb(index, item);\n\n      _this.moveTo(index);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeStart\", function (event) {\n      _this.setState({\n        swiping: true\n      });\n\n      _this.props.onSwipeStart(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeEnd\", function (event) {\n      _this.setState({\n        swiping: false,\n        cancelClick: false,\n        swipeMovementStarted: false\n      });\n\n      _this.props.onSwipeEnd(event);\n\n      _this.clearAutoPlay();\n\n      if (_this.state.autoPlay) {\n        _this.autoPlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeMove\", function (delta, event) {\n      _this.props.onSwipeMove(event);\n\n      var animationHandlerResponse = _this.props.swipeAnimationHandler(delta, _this.props, _this.state, _this.setState.bind(_assertThisInitialized(_this)));\n\n      _this.setState(_objectSpread({}, animationHandlerResponse)); // If we have not moved, we should have an empty object returned\n      // Return false to allow scrolling when not swiping\n\n\n      return !!Object.keys(animationHandlerResponse).length;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"decrement\", function () {\n      var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n      _this.moveTo(_this.state.selectedItem - (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"increment\", function () {\n      var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n      _this.moveTo(_this.state.selectedItem + (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"moveTo\", function (position) {\n      if (typeof position !== 'number') {\n        return;\n      }\n\n      var lastPosition = _react.Children.count(_this.props.children) - 1;\n\n      if (position < 0) {\n        position = _this.props.infiniteLoop ? lastPosition : 0;\n      }\n\n      if (position > lastPosition) {\n        position = _this.props.infiniteLoop ? 0 : lastPosition;\n      }\n\n      _this.selectItem({\n        // if it's not a slider, we don't need to set position here\n        selectedItem: position\n      }); // don't reset auto play when stop on hover is enabled, doing so will trigger a call to auto play more than once\n      // and will result in the interval function not being cleared correctly.\n\n\n      if (_this.state.autoPlay && _this.state.isMouseEntered === false) {\n        _this.resetAutoPlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickNext\", function () {\n      _this.increment(1);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickPrev\", function () {\n      _this.decrement(1);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeForward\", function () {\n      _this.increment(1);\n\n      if (_this.props.emulateTouch) {\n        _this.setState({\n          cancelClick: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeBackwards\", function () {\n      _this.decrement(1);\n\n      if (_this.props.emulateTouch) {\n        _this.setState({\n          cancelClick: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeItem\", function (newIndex) {\n      return function (e) {\n        if (!(0, _utils.isKeyboardEvent)(e) || e.key === 'Enter') {\n          _this.moveTo(newIndex);\n        }\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"selectItem\", function (state) {\n      // Merge in the new state while updating updating previous item\n      _this.setState(_objectSpread({\n        previousItem: _this.state.selectedItem\n      }, state), function () {\n        // Run animation handler and update styles based on it\n        _this.setState(_this.animationHandler(_this.props, _this.state));\n      });\n\n      _this.handleOnChange(state.selectedItem, _react.Children.toArray(_this.props.children)[state.selectedItem]);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getInitialImage\", function () {\n      var selectedItem = _this.props.selectedItem;\n      var item = _this.itemsRef && _this.itemsRef[selectedItem];\n      var images = item && item.getElementsByTagName('img') || [];\n      return images[0];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getVariableItemHeight\", function (position) {\n      var item = _this.itemsRef && _this.itemsRef[position];\n\n      if (_this.state.hasMount && item && item.children.length) {\n        var slideImages = item.children[0].getElementsByTagName('img') || [];\n\n        if (slideImages.length > 0) {\n          var image = slideImages[0];\n\n          if (!image.complete) {\n            // if the image is still loading, the size won't be available so we trigger a new render after it's done\n            var onImageLoad = function onImageLoad() {\n              _this.forceUpdate();\n\n              image.removeEventListener('load', onImageLoad);\n            };\n\n            image.addEventListener('load', onImageLoad);\n          }\n        } // try to get img first, if img not there find first display tag\n\n\n        var displayItem = slideImages[0] || item.children[0];\n        var height = displayItem.clientHeight;\n        return height > 0 ? height : null;\n      }\n\n      return null;\n    });\n\n    var initState = {\n      initialized: false,\n      previousItem: props.selectedItem,\n      selectedItem: props.selectedItem,\n      hasMount: false,\n      isMouseEntered: false,\n      autoPlay: props.autoPlay,\n      swiping: false,\n      swipeMovementStarted: false,\n      cancelClick: false,\n      itemSize: 1,\n      itemListStyle: {},\n      slideStyle: {},\n      selectedStyle: {},\n      prevStyle: {}\n    };\n    _this.animationHandler = typeof props.animationHandler === 'function' && props.animationHandler || props.animationHandler === 'fade' && _animations.fadeAnimationHandler || _animations.slideAnimationHandler;\n    _this.state = _objectSpread(_objectSpread({}, initState), _this.animationHandler(props, initState));\n    return _this;\n  }\n\n  _createClass(Carousel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.props.children) {\n        return;\n      }\n\n      this.setupCarousel();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!prevProps.children && this.props.children && !this.state.initialized) {\n        this.setupCarousel();\n      }\n\n      if (!prevProps.autoFocus && this.props.autoFocus) {\n        this.forceFocus();\n      }\n\n      if (prevState.swiping && !this.state.swiping) {\n        // We stopped swiping, ensure we are heading to the new/current slide and not stuck\n        this.setState(_objectSpread({}, this.props.stopSwipingHandler(this.props, this.state)));\n      }\n\n      if (prevProps.selectedItem !== this.props.selectedItem || prevProps.centerMode !== this.props.centerMode) {\n        this.updateSizes();\n        this.moveTo(this.props.selectedItem);\n      }\n\n      if (prevProps.autoPlay !== this.props.autoPlay) {\n        if (this.props.autoPlay) {\n          this.setupAutoPlay();\n        } else {\n          this.destroyAutoPlay();\n        }\n\n        this.setState({\n          autoPlay: this.props.autoPlay\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyCarousel();\n    }\n  }, {\n    key: \"setupCarousel\",\n    value: function setupCarousel() {\n      var _this2 = this;\n\n      this.bindEvents();\n\n      if (this.state.autoPlay && _react.Children.count(this.props.children) > 1) {\n        this.setupAutoPlay();\n      }\n\n      if (this.props.autoFocus) {\n        this.forceFocus();\n      }\n\n      this.setState({\n        initialized: true\n      }, function () {\n        var initialImage = _this2.getInitialImage();\n\n        if (initialImage && !initialImage.complete) {\n          // if it's a carousel of images, we set the mount state after the first image is loaded\n          initialImage.addEventListener('load', _this2.setMountState);\n        } else {\n          _this2.setMountState();\n        }\n      });\n    }\n  }, {\n    key: \"destroyCarousel\",\n    value: function destroyCarousel() {\n      if (this.state.initialized) {\n        this.unbindEvents();\n        this.destroyAutoPlay();\n      }\n    }\n  }, {\n    key: \"setupAutoPlay\",\n    value: function setupAutoPlay() {\n      this.autoPlay();\n      var carouselWrapper = this.carouselWrapperRef;\n\n      if (this.props.stopOnHover && carouselWrapper) {\n        carouselWrapper.addEventListener('mouseenter', this.stopOnHover);\n        carouselWrapper.addEventListener('mouseleave', this.startOnLeave);\n      }\n    }\n  }, {\n    key: \"destroyAutoPlay\",\n    value: function destroyAutoPlay() {\n      this.clearAutoPlay();\n      var carouselWrapper = this.carouselWrapperRef;\n\n      if (this.props.stopOnHover && carouselWrapper) {\n        carouselWrapper.removeEventListener('mouseenter', this.stopOnHover);\n        carouselWrapper.removeEventListener('mouseleave', this.startOnLeave);\n      }\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      // as the widths are calculated, we need to resize\n      // the carousel when the window is resized\n      (0, _window.default)().addEventListener('resize', this.updateSizes); // issue #2 - image loading smaller\n\n      (0, _window.default)().addEventListener('DOMContentLoaded', this.updateSizes);\n\n      if (this.props.useKeyboardArrows) {\n        (0, _document.default)().addEventListener('keydown', this.navigateWithKeyboard);\n      }\n    }\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      // removing listeners\n      (0, _window.default)().removeEventListener('resize', this.updateSizes);\n      (0, _window.default)().removeEventListener('DOMContentLoaded', this.updateSizes);\n      var initialImage = this.getInitialImage();\n\n      if (initialImage) {\n        initialImage.removeEventListener('load', this.setMountState);\n      }\n\n      if (this.props.useKeyboardArrows) {\n        (0, _document.default)().removeEventListener('keydown', this.navigateWithKeyboard);\n      }\n    }\n  }, {\n    key: \"forceFocus\",\n    value: function forceFocus() {\n      var _this$carouselWrapper;\n\n      (_this$carouselWrapper = this.carouselWrapperRef) === null || _this$carouselWrapper === void 0 ? void 0 : _this$carouselWrapper.focus();\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems(isClone) {\n      var _this3 = this;\n\n      if (!this.props.children) {\n        return [];\n      }\n\n      return _react.Children.map(this.props.children, function (item, index) {\n        var isSelected = index === _this3.state.selectedItem;\n        var isPrevious = index === _this3.state.previousItem;\n        var style = isSelected && _this3.state.selectedStyle || isPrevious && _this3.state.prevStyle || _this3.state.slideStyle || {};\n\n        if (_this3.props.centerMode && _this3.props.axis === 'horizontal') {\n          style = _objectSpread(_objectSpread({}, style), {}, {\n            minWidth: _this3.props.centerSlidePercentage + '%'\n          });\n        }\n\n        if (_this3.state.swiping && _this3.state.swipeMovementStarted) {\n          style = _objectSpread(_objectSpread({}, style), {}, {\n            pointerEvents: 'none'\n          });\n        }\n\n        var slideProps = {\n          ref: function ref(e) {\n            return _this3.setItemsRef(e, index);\n          },\n          key: 'itemKey' + index + (isClone ? 'clone' : ''),\n          className: _cssClasses.default.ITEM(true, index === _this3.state.selectedItem, index === _this3.state.previousItem),\n          onClick: _this3.handleClickItem.bind(_this3, index, item),\n          style: style\n        };\n        return /*#__PURE__*/_react.default.createElement(\"li\", slideProps, _this3.props.renderItem(item, {\n          isSelected: index === _this3.state.selectedItem,\n          isPrevious: index === _this3.state.previousItem\n        }));\n      });\n    }\n  }, {\n    key: \"renderControls\",\n    value: function renderControls() {\n      var _this4 = this;\n\n      var _this$props = this.props,\n          showIndicators = _this$props.showIndicators,\n          labels = _this$props.labels,\n          renderIndicator = _this$props.renderIndicator,\n          children = _this$props.children;\n\n      if (!showIndicators) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"ul\", {\n        className: \"control-dots\"\n      }, _react.Children.map(children, function (_, index) {\n        return renderIndicator && renderIndicator(_this4.changeItem(index), index === _this4.state.selectedItem, index, labels.item);\n      }));\n    }\n  }, {\n    key: \"renderStatus\",\n    value: function renderStatus() {\n      if (!this.props.showStatus) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"p\", {\n        className: \"carousel-status\"\n      }, this.props.statusFormatter(this.state.selectedItem + 1, _react.Children.count(this.props.children)));\n    }\n  }, {\n    key: \"renderThumbs\",\n    value: function renderThumbs() {\n      if (!this.props.showThumbs || !this.props.children || _react.Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(_Thumbs.default, {\n        ref: this.setThumbsRef,\n        onSelectItem: this.handleClickThumb,\n        selectedItem: this.state.selectedItem,\n        transitionTime: this.props.transitionTime,\n        thumbWidth: this.props.thumbWidth,\n        labels: this.props.labels,\n        emulateTouch: this.props.emulateTouch\n      }, this.props.renderThumbs(this.props.children));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      if (!this.props.children || _react.Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      var isSwipeable = this.props.swipeable && _react.Children.count(this.props.children) > 1;\n      var isHorizontal = this.props.axis === 'horizontal';\n      var canShowArrows = this.props.showArrows && _react.Children.count(this.props.children) > 1; // show left arrow?\n\n      var hasPrev = canShowArrows && (this.state.selectedItem > 0 || this.props.infiniteLoop) || false; // show right arrow\n\n      var hasNext = canShowArrows && (this.state.selectedItem < _react.Children.count(this.props.children) - 1 || this.props.infiniteLoop) || false;\n      var itemsClone = this.renderItems(true);\n      var firstClone = itemsClone.shift();\n      var lastClone = itemsClone.pop();\n      var swiperProps = {\n        className: _cssClasses.default.SLIDER(true, this.state.swiping),\n        onSwipeMove: this.onSwipeMove,\n        onSwipeStart: this.onSwipeStart,\n        onSwipeEnd: this.onSwipeEnd,\n        style: this.state.itemListStyle,\n        tolerance: this.props.swipeScrollTolerance\n      };\n      var containerStyles = {};\n\n      if (isHorizontal) {\n        swiperProps.onSwipeLeft = this.onSwipeForward;\n        swiperProps.onSwipeRight = this.onSwipeBackwards;\n\n        if (this.props.dynamicHeight) {\n          var itemHeight = this.getVariableItemHeight(this.state.selectedItem); // swiperProps.style.height = itemHeight || 'auto';\n\n          containerStyles.height = itemHeight || 'auto';\n        }\n      } else {\n        swiperProps.onSwipeUp = this.props.verticalSwipe === 'natural' ? this.onSwipeBackwards : this.onSwipeForward;\n        swiperProps.onSwipeDown = this.props.verticalSwipe === 'natural' ? this.onSwipeForward : this.onSwipeBackwards;\n        swiperProps.style = _objectSpread(_objectSpread({}, swiperProps.style), {}, {\n          height: this.state.itemSize\n        });\n        containerStyles.height = this.state.itemSize;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        \"aria-label\": this.props.ariaLabel,\n        className: _cssClasses.default.ROOT(this.props.className),\n        ref: this.setCarouselWrapperRef,\n        tabIndex: this.props.useKeyboardArrows ? 0 : undefined\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.CAROUSEL(true),\n        style: {\n          width: this.props.width\n        }\n      }, this.renderControls(), this.props.renderArrowPrev(this.onClickPrev, hasPrev, this.props.labels.leftArrow), /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.WRAPPER(true, this.props.axis),\n        style: containerStyles\n      }, isSwipeable ? /*#__PURE__*/_react.default.createElement(_reactEasySwipe.default, _extends({\n        tagName: \"ul\",\n        innerRef: this.setListRef\n      }, swiperProps, {\n        allowMouseEvents: this.props.emulateTouch\n      }), this.props.infiniteLoop && lastClone, this.renderItems(), this.props.infiniteLoop && firstClone) : /*#__PURE__*/_react.default.createElement(\"ul\", {\n        className: _cssClasses.default.SLIDER(true, this.state.swiping),\n        ref: function ref(node) {\n          return _this5.setListRef(node);\n        },\n        style: this.state.itemListStyle || {}\n      }, this.props.infiniteLoop && lastClone, this.renderItems(), this.props.infiniteLoop && firstClone)), this.props.renderArrowNext(this.onClickNext, hasNext, this.props.labels.rightArrow), this.renderStatus()), this.renderThumbs());\n    }\n  }]);\n\n  return Carousel;\n}(_react.default.Component);\n\nexports.default = Carousel;\n\n_defineProperty(Carousel, \"displayName\", 'Carousel');\n\n_defineProperty(Carousel, \"defaultProps\", {\n  ariaLabel: undefined,\n  axis: 'horizontal',\n  centerSlidePercentage: 80,\n  interval: 3000,\n  labels: {\n    leftArrow: 'previous slide / item',\n    rightArrow: 'next slide / item',\n    item: 'slide item'\n  },\n  onClickItem: _utils.noop,\n  onClickThumb: _utils.noop,\n  onChange: _utils.noop,\n  onSwipeStart: function onSwipeStart() {},\n  onSwipeEnd: function onSwipeEnd() {},\n  onSwipeMove: function onSwipeMove() {\n    return false;\n  },\n  preventMovementUntilSwipeScrollTolerance: false,\n  renderArrowPrev: function renderArrowPrev(onClickHandler, hasPrev, label) {\n    return /*#__PURE__*/_react.default.createElement(\"button\", {\n      type: \"button\",\n      \"aria-label\": label,\n      className: _cssClasses.default.ARROW_PREV(!hasPrev),\n      onClick: onClickHandler\n    });\n  },\n  renderArrowNext: function renderArrowNext(onClickHandler, hasNext, label) {\n    return /*#__PURE__*/_react.default.createElement(\"button\", {\n      type: \"button\",\n      \"aria-label\": label,\n      className: _cssClasses.default.ARROW_NEXT(!hasNext),\n      onClick: onClickHandler\n    });\n  },\n  renderIndicator: function renderIndicator(onClickHandler, isSelected, index, label) {\n    return /*#__PURE__*/_react.default.createElement(\"li\", {\n      className: _cssClasses.default.DOT(isSelected),\n      onClick: onClickHandler,\n      onKeyDown: onClickHandler,\n      value: index,\n      key: index,\n      role: \"button\",\n      tabIndex: 0,\n      \"aria-label\": \"\".concat(label, \" \").concat(index + 1)\n    });\n  },\n  renderItem: function renderItem(item) {\n    return item;\n  },\n  renderThumbs: function renderThumbs(children) {\n    var images = _react.Children.map(children, function (item) {\n      var img = item; // if the item is not an image, try to find the first image in the item's children.\n\n      if (item.type !== 'img') {\n        img = _react.Children.toArray(item.props.children).find(function (children) {\n          return children.type === 'img';\n        });\n      }\n\n      if (!img) {\n        return undefined;\n      }\n\n      return img;\n    });\n\n    if (images.filter(function (image) {\n      return image;\n    }).length === 0) {\n      console.warn(\"No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md\");\n      return [];\n    }\n\n    return images;\n  },\n  statusFormatter: _utils.defaultStatusFormatter,\n  selectedItem: 0,\n  showArrows: true,\n  showIndicators: true,\n  showStatus: true,\n  showThumbs: true,\n  stopOnHover: true,\n  swipeScrollTolerance: 5,\n  swipeable: true,\n  transitionTime: 350,\n  verticalSwipe: 'standard',\n  width: '100%',\n  animationHandler: 'slide',\n  swipeAnimationHandler: _animations.slideSwipeAnimationHandler,\n  stopSwipingHandler: _animations.slideStopSwipingHandler\n});","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', 'react', 'prop-types'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('react'), require('prop-types'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.react, global.propTypes);\n    global.reactSwipe = mod.exports;\n  }\n})(this, function (exports, _react, _propTypes) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.setHasSupportToCaptureOption = setHasSupportToCaptureOption;\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function _objectWithoutProperties(obj, keys) {\n    var target = {};\n\n    for (var i in obj) {\n      if (keys.indexOf(i) >= 0) continue;\n      if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n      target[i] = obj[i];\n    }\n\n    return target;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var supportsCaptureOption = false;\n  function setHasSupportToCaptureOption(hasSupport) {\n    supportsCaptureOption = hasSupport;\n  }\n\n  try {\n    addEventListener('test', null, Object.defineProperty({}, 'capture', { get: function get() {\n        setHasSupportToCaptureOption(true);\n      } }));\n  } catch (e) {} // eslint-disable-line no-empty\n\n  function getSafeEventHandlerOpts() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { capture: true };\n\n    return supportsCaptureOption ? options : options.capture;\n  }\n\n  /**\n   * [getPosition returns a position element that works for mouse or touch events]\n   * @param  {[Event]} event [the received event]\n   * @return {[Object]}      [x and y coords]\n   */\n  function getPosition(event) {\n    if ('touches' in event) {\n      var _event$touches$ = event.touches[0],\n          pageX = _event$touches$.pageX,\n          pageY = _event$touches$.pageY;\n\n      return { x: pageX, y: pageY };\n    }\n\n    var screenX = event.screenX,\n        screenY = event.screenY;\n\n    return { x: screenX, y: screenY };\n  }\n\n  var ReactSwipe = function (_Component) {\n    _inherits(ReactSwipe, _Component);\n\n    function ReactSwipe() {\n      var _ref;\n\n      _classCallCheck(this, ReactSwipe);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var _this = _possibleConstructorReturn(this, (_ref = ReactSwipe.__proto__ || Object.getPrototypeOf(ReactSwipe)).call.apply(_ref, [this].concat(args)));\n\n      _this._handleSwipeStart = _this._handleSwipeStart.bind(_this);\n      _this._handleSwipeMove = _this._handleSwipeMove.bind(_this);\n      _this._handleSwipeEnd = _this._handleSwipeEnd.bind(_this);\n\n      _this._onMouseDown = _this._onMouseDown.bind(_this);\n      _this._onMouseMove = _this._onMouseMove.bind(_this);\n      _this._onMouseUp = _this._onMouseUp.bind(_this);\n\n      _this._setSwiperRef = _this._setSwiperRef.bind(_this);\n      return _this;\n    }\n\n    _createClass(ReactSwipe, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        if (this.swiper) {\n          this.swiper.addEventListener('touchmove', this._handleSwipeMove, getSafeEventHandlerOpts({\n            capture: true,\n            passive: false\n          }));\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        if (this.swiper) {\n          this.swiper.removeEventListener('touchmove', this._handleSwipeMove, getSafeEventHandlerOpts({\n            capture: true,\n            passive: false\n          }));\n        }\n      }\n    }, {\n      key: '_onMouseDown',\n      value: function _onMouseDown(event) {\n        if (!this.props.allowMouseEvents) {\n          return;\n        }\n\n        this.mouseDown = true;\n\n        document.addEventListener('mouseup', this._onMouseUp);\n        document.addEventListener('mousemove', this._onMouseMove);\n\n        this._handleSwipeStart(event);\n      }\n    }, {\n      key: '_onMouseMove',\n      value: function _onMouseMove(event) {\n        if (!this.mouseDown) {\n          return;\n        }\n\n        this._handleSwipeMove(event);\n      }\n    }, {\n      key: '_onMouseUp',\n      value: function _onMouseUp(event) {\n        this.mouseDown = false;\n\n        document.removeEventListener('mouseup', this._onMouseUp);\n        document.removeEventListener('mousemove', this._onMouseMove);\n\n        this._handleSwipeEnd(event);\n      }\n    }, {\n      key: '_handleSwipeStart',\n      value: function _handleSwipeStart(event) {\n        var _getPosition = getPosition(event),\n            x = _getPosition.x,\n            y = _getPosition.y;\n\n        this.moveStart = { x: x, y: y };\n        this.props.onSwipeStart(event);\n      }\n    }, {\n      key: '_handleSwipeMove',\n      value: function _handleSwipeMove(event) {\n        if (!this.moveStart) {\n          return;\n        }\n\n        var _getPosition2 = getPosition(event),\n            x = _getPosition2.x,\n            y = _getPosition2.y;\n\n        var deltaX = x - this.moveStart.x;\n        var deltaY = y - this.moveStart.y;\n        this.moving = true;\n\n        // handling the responsability of cancelling the scroll to\n        // the component handling the event\n        var shouldPreventDefault = this.props.onSwipeMove({\n          x: deltaX,\n          y: deltaY\n        }, event);\n\n        if (shouldPreventDefault && event.cancelable) {\n          event.preventDefault();\n        }\n\n        this.movePosition = { deltaX: deltaX, deltaY: deltaY };\n      }\n    }, {\n      key: '_handleSwipeEnd',\n      value: function _handleSwipeEnd(event) {\n        this.props.onSwipeEnd(event);\n\n        var tolerance = this.props.tolerance;\n\n\n        if (this.moving && this.movePosition) {\n          if (this.movePosition.deltaX < -tolerance) {\n            this.props.onSwipeLeft(1, event);\n          } else if (this.movePosition.deltaX > tolerance) {\n            this.props.onSwipeRight(1, event);\n          }\n          if (this.movePosition.deltaY < -tolerance) {\n            this.props.onSwipeUp(1, event);\n          } else if (this.movePosition.deltaY > tolerance) {\n            this.props.onSwipeDown(1, event);\n          }\n        }\n\n        this.moveStart = null;\n        this.moving = false;\n        this.movePosition = null;\n      }\n    }, {\n      key: '_setSwiperRef',\n      value: function _setSwiperRef(node) {\n        this.swiper = node;\n        this.props.innerRef(node);\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _props = this.props,\n            tagName = _props.tagName,\n            className = _props.className,\n            style = _props.style,\n            children = _props.children,\n            allowMouseEvents = _props.allowMouseEvents,\n            onSwipeUp = _props.onSwipeUp,\n            onSwipeDown = _props.onSwipeDown,\n            onSwipeLeft = _props.onSwipeLeft,\n            onSwipeRight = _props.onSwipeRight,\n            onSwipeStart = _props.onSwipeStart,\n            onSwipeMove = _props.onSwipeMove,\n            onSwipeEnd = _props.onSwipeEnd,\n            innerRef = _props.innerRef,\n            tolerance = _props.tolerance,\n            props = _objectWithoutProperties(_props, ['tagName', 'className', 'style', 'children', 'allowMouseEvents', 'onSwipeUp', 'onSwipeDown', 'onSwipeLeft', 'onSwipeRight', 'onSwipeStart', 'onSwipeMove', 'onSwipeEnd', 'innerRef', 'tolerance']);\n\n        return _react2.default.createElement(\n          this.props.tagName,\n          _extends({\n            ref: this._setSwiperRef,\n            onMouseDown: this._onMouseDown,\n            onTouchStart: this._handleSwipeStart,\n            onTouchEnd: this._handleSwipeEnd,\n            className: className,\n            style: style\n          }, props),\n          children\n        );\n      }\n    }]);\n\n    return ReactSwipe;\n  }(_react.Component);\n\n  ReactSwipe.displayName = 'ReactSwipe';\n  ReactSwipe.propTypes = {\n    tagName: _propTypes2.default.string,\n    className: _propTypes2.default.string,\n    style: _propTypes2.default.object,\n    children: _propTypes2.default.node,\n    allowMouseEvents: _propTypes2.default.bool,\n    onSwipeUp: _propTypes2.default.func,\n    onSwipeDown: _propTypes2.default.func,\n    onSwipeLeft: _propTypes2.default.func,\n    onSwipeRight: _propTypes2.default.func,\n    onSwipeStart: _propTypes2.default.func,\n    onSwipeMove: _propTypes2.default.func,\n    onSwipeEnd: _propTypes2.default.func,\n    innerRef: _propTypes2.default.func,\n    tolerance: _propTypes2.default.number.isRequired\n  };\n  ReactSwipe.defaultProps = {\n    tagName: 'div',\n    allowMouseEvents: false,\n    onSwipeUp: function onSwipeUp() {},\n    onSwipeDown: function onSwipeDown() {},\n    onSwipeLeft: function onSwipeLeft() {},\n    onSwipeRight: function onSwipeRight() {},\n    onSwipeStart: function onSwipeStart() {},\n    onSwipeMove: function onSwipeMove() {},\n    onSwipeEnd: function onSwipeEnd() {},\n    innerRef: function innerRef() {},\n\n    tolerance: 0\n  };\n  exports.default = ReactSwipe;\n});","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.outerWidth = void 0;\n\nvar outerWidth = function outerWidth(el) {\n  var width = el.offsetWidth;\n  var style = getComputedStyle(el);\n  width += parseInt(style.marginLeft) + parseInt(style.marginRight);\n  return width;\n};\n\nexports.outerWidth = outerWidth;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default() {\n  return document;\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fadeAnimationHandler = exports.slideStopSwipingHandler = exports.slideSwipeAnimationHandler = exports.slideAnimationHandler = void 0;\n\nvar _react = require(\"react\");\n\nvar _CSSTranslate = _interopRequireDefault(require(\"../../CSSTranslate\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Main animation handler for the default 'sliding' style animation\n * @param props\n * @param state\n */\nvar slideAnimationHandler = function slideAnimationHandler(props, state) {\n  var returnStyles = {};\n  var selectedItem = state.selectedItem;\n  var previousItem = selectedItem;\n  var lastPosition = _react.Children.count(props.children) - 1;\n  var needClonedSlide = props.infiniteLoop && (selectedItem < 0 || selectedItem > lastPosition); // Handle list position if it needs a clone\n\n  if (needClonedSlide) {\n    if (previousItem < 0) {\n      if (props.centerMode && props.centerSlidePercentage && props.axis === 'horizontal') {\n        returnStyles.itemListStyle = (0, _utils.setPosition)(-(lastPosition + 2) * props.centerSlidePercentage - (100 - props.centerSlidePercentage) / 2, props.axis);\n      } else {\n        returnStyles.itemListStyle = (0, _utils.setPosition)(-(lastPosition + 2) * 100, props.axis);\n      }\n    } else if (previousItem > lastPosition) {\n      returnStyles.itemListStyle = (0, _utils.setPosition)(0, props.axis);\n    }\n\n    return returnStyles;\n  }\n\n  var currentPosition = (0, _utils.getPosition)(selectedItem, props); // if 3d is available, let's take advantage of the performance of transform\n\n  var transformProp = (0, _CSSTranslate.default)(currentPosition, '%', props.axis);\n  var transitionTime = props.transitionTime + 'ms';\n  returnStyles.itemListStyle = {\n    WebkitTransform: transformProp,\n    msTransform: transformProp,\n    OTransform: transformProp,\n    transform: transformProp\n  };\n\n  if (!state.swiping) {\n    returnStyles.itemListStyle = _objectSpread(_objectSpread({}, returnStyles.itemListStyle), {}, {\n      WebkitTransitionDuration: transitionTime,\n      MozTransitionDuration: transitionTime,\n      OTransitionDuration: transitionTime,\n      transitionDuration: transitionTime,\n      msTransitionDuration: transitionTime\n    });\n  }\n\n  return returnStyles;\n};\n/**\n * Swiping animation handler for the default 'sliding' style animation\n * @param delta\n * @param props\n * @param state\n * @param setState\n */\n\n\nexports.slideAnimationHandler = slideAnimationHandler;\n\nvar slideSwipeAnimationHandler = function slideSwipeAnimationHandler(delta, props, state, setState) {\n  var returnStyles = {};\n  var isHorizontal = props.axis === 'horizontal';\n\n  var childrenLength = _react.Children.count(props.children);\n\n  var initialBoundry = 0;\n  var currentPosition = (0, _utils.getPosition)(state.selectedItem, props);\n  var finalBoundry = props.infiniteLoop ? (0, _utils.getPosition)(childrenLength - 1, props) - 100 : (0, _utils.getPosition)(childrenLength - 1, props);\n  var axisDelta = isHorizontal ? delta.x : delta.y;\n  var handledDelta = axisDelta; // prevent user from swiping left out of boundaries\n\n  if (currentPosition === initialBoundry && axisDelta > 0) {\n    handledDelta = 0;\n  } // prevent user from swiping right out of boundaries\n\n\n  if (currentPosition === finalBoundry && axisDelta < 0) {\n    handledDelta = 0;\n  }\n\n  var position = currentPosition + 100 / (state.itemSize / handledDelta);\n  var hasMoved = Math.abs(axisDelta) > props.swipeScrollTolerance;\n\n  if (props.infiniteLoop && hasMoved) {\n    // When allowing infinite loop, if we slide left from position 0 we reveal the cloned last slide that appears before it\n    // if we slide even further we need to jump to other side so it can continue - and vice versa for the last slide\n    if (state.selectedItem === 0 && position > -100) {\n      position -= childrenLength * 100;\n    } else if (state.selectedItem === childrenLength - 1 && position < -childrenLength * 100) {\n      position += childrenLength * 100;\n    }\n  }\n\n  if (!props.preventMovementUntilSwipeScrollTolerance || hasMoved || state.swipeMovementStarted) {\n    if (!state.swipeMovementStarted) {\n      setState({\n        swipeMovementStarted: true\n      });\n    }\n\n    returnStyles.itemListStyle = (0, _utils.setPosition)(position, props.axis);\n  } //allows scroll if the swipe was within the tolerance\n\n\n  if (hasMoved && !state.cancelClick) {\n    setState({\n      cancelClick: true\n    });\n  }\n\n  return returnStyles;\n};\n/**\n * Default 'sliding' style animination handler for when a swipe action stops.\n * @param props\n * @param state\n */\n\n\nexports.slideSwipeAnimationHandler = slideSwipeAnimationHandler;\n\nvar slideStopSwipingHandler = function slideStopSwipingHandler(props, state) {\n  var currentPosition = (0, _utils.getPosition)(state.selectedItem, props);\n  var itemListStyle = (0, _utils.setPosition)(currentPosition, props.axis);\n  return {\n    itemListStyle: itemListStyle\n  };\n};\n/**\n * Main animation handler for the default 'fade' style animation\n * @param props\n * @param state\n */\n\n\nexports.slideStopSwipingHandler = slideStopSwipingHandler;\n\nvar fadeAnimationHandler = function fadeAnimationHandler(props, state) {\n  var transitionTime = props.transitionTime + 'ms';\n  var transitionTimingFunction = 'ease-in-out';\n  var slideStyle = {\n    position: 'absolute',\n    display: 'block',\n    zIndex: -2,\n    minHeight: '100%',\n    opacity: 0,\n    top: 0,\n    right: 0,\n    left: 0,\n    bottom: 0,\n    transitionTimingFunction: transitionTimingFunction,\n    msTransitionTimingFunction: transitionTimingFunction,\n    MozTransitionTimingFunction: transitionTimingFunction,\n    WebkitTransitionTimingFunction: transitionTimingFunction,\n    OTransitionTimingFunction: transitionTimingFunction\n  };\n\n  if (!state.swiping) {\n    slideStyle = _objectSpread(_objectSpread({}, slideStyle), {}, {\n      WebkitTransitionDuration: transitionTime,\n      MozTransitionDuration: transitionTime,\n      OTransitionDuration: transitionTime,\n      transitionDuration: transitionTime,\n      msTransitionDuration: transitionTime\n    });\n  }\n\n  return {\n    slideStyle: slideStyle,\n    selectedStyle: _objectSpread(_objectSpread({}, slideStyle), {}, {\n      opacity: 1,\n      position: 'relative'\n    }),\n    prevStyle: _objectSpread({}, slideStyle)\n  };\n};\n\nexports.fadeAnimationHandler = fadeAnimationHandler;","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2022, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.marked = {}));\n})(this, (function (exports) { 'use strict';\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelperLoose(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (it) return (it = it.call(o)).next.bind(it);\n\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function getDefaults() {\n    return {\n      baseUrl: null,\n      breaks: false,\n      extensions: null,\n      gfm: true,\n      headerIds: true,\n      headerPrefix: '',\n      highlight: null,\n      langPrefix: 'language-',\n      mangle: true,\n      pedantic: false,\n      renderer: null,\n      sanitize: false,\n      sanitizer: null,\n      silent: false,\n      smartLists: false,\n      smartypants: false,\n      tokenizer: null,\n      walkTokens: null,\n      xhtml: false\n    };\n  }\n  exports.defaults = getDefaults();\n  function changeDefaults(newDefaults) {\n    exports.defaults = newDefaults;\n  }\n\n  /**\n   * Helpers\n   */\n  var escapeTest = /[&<>\"']/;\n  var escapeReplace = /[&<>\"']/g;\n  var escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\n  var escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n  var escapeReplacements = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  var getEscapeReplacement = function getEscapeReplacement(ch) {\n    return escapeReplacements[ch];\n  };\n\n  function escape(html, encode) {\n    if (encode) {\n      if (escapeTest.test(html)) {\n        return html.replace(escapeReplace, getEscapeReplacement);\n      }\n    } else {\n      if (escapeTestNoEncode.test(html)) {\n        return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n      }\n    }\n\n    return html;\n  }\n  var unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n  /**\n   * @param {string} html\n   */\n\n  function unescape(html) {\n    // explicitly match decimal, hex, and named HTML entities\n    return html.replace(unescapeTest, function (_, n) {\n      n = n.toLowerCase();\n      if (n === 'colon') return ':';\n\n      if (n.charAt(0) === '#') {\n        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n      }\n\n      return '';\n    });\n  }\n  var caret = /(^|[^\\[])\\^/g;\n  /**\n   * @param {string | RegExp} regex\n   * @param {string} opt\n   */\n\n  function edit(regex, opt) {\n    regex = typeof regex === 'string' ? regex : regex.source;\n    opt = opt || '';\n    var obj = {\n      replace: function replace(name, val) {\n        val = val.source || val;\n        val = val.replace(caret, '$1');\n        regex = regex.replace(name, val);\n        return obj;\n      },\n      getRegex: function getRegex() {\n        return new RegExp(regex, opt);\n      }\n    };\n    return obj;\n  }\n  var nonWordAndColonTest = /[^\\w:]/g;\n  var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n  /**\n   * @param {boolean} sanitize\n   * @param {string} base\n   * @param {string} href\n   */\n\n  function cleanUrl(sanitize, base, href) {\n    if (sanitize) {\n      var prot;\n\n      try {\n        prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();\n      } catch (e) {\n        return null;\n      }\n\n      if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n        return null;\n      }\n    }\n\n    if (base && !originIndependentUrl.test(href)) {\n      href = resolveUrl(base, href);\n    }\n\n    try {\n      href = encodeURI(href).replace(/%25/g, '%');\n    } catch (e) {\n      return null;\n    }\n\n    return href;\n  }\n  var baseUrls = {};\n  var justDomain = /^[^:]+:\\/*[^/]*$/;\n  var protocol = /^([^:]+:)[\\s\\S]*$/;\n  var domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n  /**\n   * @param {string} base\n   * @param {string} href\n   */\n\n  function resolveUrl(base, href) {\n    if (!baseUrls[' ' + base]) {\n      // we can ignore everything in base after the last slash of its path component,\n      // but we might need to add _that_\n      // https://tools.ietf.org/html/rfc3986#section-3\n      if (justDomain.test(base)) {\n        baseUrls[' ' + base] = base + '/';\n      } else {\n        baseUrls[' ' + base] = rtrim(base, '/', true);\n      }\n    }\n\n    base = baseUrls[' ' + base];\n    var relativeBase = base.indexOf(':') === -1;\n\n    if (href.substring(0, 2) === '//') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(protocol, '$1') + href;\n    } else if (href.charAt(0) === '/') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(domain, '$1') + href;\n    } else {\n      return base + href;\n    }\n  }\n  var noopTest = {\n    exec: function noopTest() {}\n  };\n  function merge(obj) {\n    var i = 1,\n        target,\n        key;\n\n    for (; i < arguments.length; i++) {\n      target = arguments[i];\n\n      for (key in target) {\n        if (Object.prototype.hasOwnProperty.call(target, key)) {\n          obj[key] = target[key];\n        }\n      }\n    }\n\n    return obj;\n  }\n  function splitCells(tableRow, count) {\n    // ensure that every cell-delimiting pipe has a space\n    // before it to distinguish it from an escaped pipe\n    var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n      var escaped = false,\n          curr = offset;\n\n      while (--curr >= 0 && str[curr] === '\\\\') {\n        escaped = !escaped;\n      }\n\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n        cells = row.split(/ \\|/);\n    var i = 0; // First/last cell in a row cannot be empty if it has no leading/trailing pipe\n\n    if (!cells[0].trim()) {\n      cells.shift();\n    }\n\n    if (cells.length > 0 && !cells[cells.length - 1].trim()) {\n      cells.pop();\n    }\n\n    if (cells.length > count) {\n      cells.splice(count);\n    } else {\n      while (cells.length < count) {\n        cells.push('');\n      }\n    }\n\n    for (; i < cells.length; i++) {\n      // leading or trailing whitespace is ignored per the gfm spec\n      cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n    }\n\n    return cells;\n  }\n  /**\n   * Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n   * /c*$/ is vulnerable to REDOS.\n   *\n   * @param {string} str\n   * @param {string} c\n   * @param {boolean} invert Remove suffix of non-c chars instead. Default falsey.\n   */\n\n  function rtrim(str, c, invert) {\n    var l = str.length;\n\n    if (l === 0) {\n      return '';\n    } // Length of suffix matching the invert condition.\n\n\n    var suffLen = 0; // Step left until we fail to match the invert condition.\n\n    while (suffLen < l) {\n      var currChar = str.charAt(l - suffLen - 1);\n\n      if (currChar === c && !invert) {\n        suffLen++;\n      } else if (currChar !== c && invert) {\n        suffLen++;\n      } else {\n        break;\n      }\n    }\n\n    return str.slice(0, l - suffLen);\n  }\n  function findClosingBracket(str, b) {\n    if (str.indexOf(b[1]) === -1) {\n      return -1;\n    }\n\n    var l = str.length;\n    var level = 0,\n        i = 0;\n\n    for (; i < l; i++) {\n      if (str[i] === '\\\\') {\n        i++;\n      } else if (str[i] === b[0]) {\n        level++;\n      } else if (str[i] === b[1]) {\n        level--;\n\n        if (level < 0) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n  function checkSanitizeDeprecation(opt) {\n    if (opt && opt.sanitize && !opt.silent) {\n      console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n    }\n  } // copied from https://stackoverflow.com/a/5450113/806777\n\n  /**\n   * @param {string} pattern\n   * @param {number} count\n   */\n\n  function repeatString(pattern, count) {\n    if (count < 1) {\n      return '';\n    }\n\n    var result = '';\n\n    while (count > 1) {\n      if (count & 1) {\n        result += pattern;\n      }\n\n      count >>= 1;\n      pattern += pattern;\n    }\n\n    return result + pattern;\n  }\n\n  function outputLink(cap, link, raw, lexer) {\n    var href = link.href;\n    var title = link.title ? escape(link.title) : null;\n    var text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n    if (cap[0].charAt(0) !== '!') {\n      lexer.state.inLink = true;\n      var token = {\n        type: 'link',\n        raw: raw,\n        href: href,\n        title: title,\n        text: text,\n        tokens: lexer.inlineTokens(text, [])\n      };\n      lexer.state.inLink = false;\n      return token;\n    }\n\n    return {\n      type: 'image',\n      raw: raw,\n      href: href,\n      title: title,\n      text: escape(text)\n    };\n  }\n\n  function indentCodeCompensation(raw, text) {\n    var matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n    if (matchIndentToCode === null) {\n      return text;\n    }\n\n    var indentToCode = matchIndentToCode[1];\n    return text.split('\\n').map(function (node) {\n      var matchIndentInNode = node.match(/^\\s+/);\n\n      if (matchIndentInNode === null) {\n        return node;\n      }\n\n      var indentInNode = matchIndentInNode[0];\n\n      if (indentInNode.length >= indentToCode.length) {\n        return node.slice(indentToCode.length);\n      }\n\n      return node;\n    }).join('\\n');\n  }\n  /**\n   * Tokenizer\n   */\n\n\n  var Tokenizer = /*#__PURE__*/function () {\n    function Tokenizer(options) {\n      this.options = options || exports.defaults;\n    }\n\n    var _proto = Tokenizer.prototype;\n\n    _proto.space = function space(src) {\n      var cap = this.rules.block.newline.exec(src);\n\n      if (cap && cap[0].length > 0) {\n        return {\n          type: 'space',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.code = function code(src) {\n      var cap = this.rules.block.code.exec(src);\n\n      if (cap) {\n        var text = cap[0].replace(/^ {1,4}/gm, '');\n        return {\n          type: 'code',\n          raw: cap[0],\n          codeBlockStyle: 'indented',\n          text: !this.options.pedantic ? rtrim(text, '\\n') : text\n        };\n      }\n    };\n\n    _proto.fences = function fences(src) {\n      var cap = this.rules.block.fences.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var text = indentCodeCompensation(raw, cap[3] || '');\n        return {\n          type: 'code',\n          raw: raw,\n          lang: cap[2] ? cap[2].trim() : cap[2],\n          text: text\n        };\n      }\n    };\n\n    _proto.heading = function heading(src) {\n      var cap = this.rules.block.heading.exec(src);\n\n      if (cap) {\n        var text = cap[2].trim(); // remove trailing #s\n\n        if (/#$/.test(text)) {\n          var trimmed = rtrim(text, '#');\n\n          if (this.options.pedantic) {\n            text = trimmed.trim();\n          } else if (!trimmed || / $/.test(trimmed)) {\n            // CommonMark requires space before trailing #s\n            text = trimmed.trim();\n          }\n        }\n\n        var token = {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[1].length,\n          text: text,\n          tokens: []\n        };\n        this.lexer.inline(token.text, token.tokens);\n        return token;\n      }\n    };\n\n    _proto.hr = function hr(src) {\n      var cap = this.rules.block.hr.exec(src);\n\n      if (cap) {\n        return {\n          type: 'hr',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.blockquote = function blockquote(src) {\n      var cap = this.rules.block.blockquote.exec(src);\n\n      if (cap) {\n        var text = cap[0].replace(/^ *>[ \\t]?/gm, '');\n        return {\n          type: 'blockquote',\n          raw: cap[0],\n          tokens: this.lexer.blockTokens(text, []),\n          text: text\n        };\n      }\n    };\n\n    _proto.list = function list(src) {\n      var cap = this.rules.block.list.exec(src);\n\n      if (cap) {\n        var raw, istask, ischecked, indent, i, blankLine, endsWithBlankLine, line, nextLine, rawLine, itemContents, endEarly;\n        var bull = cap[1].trim();\n        var isordered = bull.length > 1;\n        var list = {\n          type: 'list',\n          raw: '',\n          ordered: isordered,\n          start: isordered ? +bull.slice(0, -1) : '',\n          loose: false,\n          items: []\n        };\n        bull = isordered ? \"\\\\d{1,9}\\\\\" + bull.slice(-1) : \"\\\\\" + bull;\n\n        if (this.options.pedantic) {\n          bull = isordered ? bull : '[*+-]';\n        } // Get next list item\n\n\n        var itemRegex = new RegExp(\"^( {0,3}\" + bull + \")((?:[\\t ][^\\\\n]*)?(?:\\\\n|$))\"); // Check if current bullet point can start a new List Item\n\n        while (src) {\n          endEarly = false;\n\n          if (!(cap = itemRegex.exec(src))) {\n            break;\n          }\n\n          if (this.rules.block.hr.test(src)) {\n            // End list if bullet was actually HR (possibly move into itemRegex?)\n            break;\n          }\n\n          raw = cap[0];\n          src = src.substring(raw.length);\n          line = cap[2].split('\\n', 1)[0];\n          nextLine = src.split('\\n', 1)[0];\n\n          if (this.options.pedantic) {\n            indent = 2;\n            itemContents = line.trimLeft();\n          } else {\n            indent = cap[2].search(/[^ ]/); // Find first non-space char\n\n            indent = indent > 4 ? 1 : indent; // Treat indented code blocks (> 4 spaces) as having only 1 indent\n\n            itemContents = line.slice(indent);\n            indent += cap[1].length;\n          }\n\n          blankLine = false;\n\n          if (!line && /^ *$/.test(nextLine)) {\n            // Items begin with at most one blank line\n            raw += nextLine + '\\n';\n            src = src.substring(nextLine.length + 1);\n            endEarly = true;\n          }\n\n          if (!endEarly) {\n            var nextBulletRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}(?:[*+-]|\\\\d{1,9}[.)])((?: [^\\\\n]*)?(?:\\\\n|$))\");\n            var hrRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)\"); // Check if following lines should be included in List Item\n\n            while (src) {\n              rawLine = src.split('\\n', 1)[0];\n              line = rawLine; // Re-align to follow commonmark nesting rules\n\n              if (this.options.pedantic) {\n                line = line.replace(/^ {1,4}(?=( {4})*[^ ])/g, '  ');\n              } // End list item if found start of new bullet\n\n\n              if (nextBulletRegex.test(line)) {\n                break;\n              } // Horizontal rule found\n\n\n              if (hrRegex.test(src)) {\n                break;\n              }\n\n              if (line.search(/[^ ]/) >= indent || !line.trim()) {\n                // Dedent if possible\n                itemContents += '\\n' + line.slice(indent);\n              } else if (!blankLine) {\n                // Until blank line, item doesn't need indentation\n                itemContents += '\\n' + line;\n              } else {\n                // Otherwise, improper indentation ends this item\n                break;\n              }\n\n              if (!blankLine && !line.trim()) {\n                // Check if current line is blank\n                blankLine = true;\n              }\n\n              raw += rawLine + '\\n';\n              src = src.substring(rawLine.length + 1);\n            }\n          }\n\n          if (!list.loose) {\n            // If the previous item ended with a blank line, the list is loose\n            if (endsWithBlankLine) {\n              list.loose = true;\n            } else if (/\\n *\\n *$/.test(raw)) {\n              endsWithBlankLine = true;\n            }\n          } // Check for task list items\n\n\n          if (this.options.gfm) {\n            istask = /^\\[[ xX]\\] /.exec(itemContents);\n\n            if (istask) {\n              ischecked = istask[0] !== '[ ] ';\n              itemContents = itemContents.replace(/^\\[[ xX]\\] +/, '');\n            }\n          }\n\n          list.items.push({\n            type: 'list_item',\n            raw: raw,\n            task: !!istask,\n            checked: ischecked,\n            loose: false,\n            text: itemContents\n          });\n          list.raw += raw;\n        } // Do not consume newlines at end of final item. Alternatively, make itemRegex *start* with any newlines to simplify/speed up endsWithBlankLine logic\n\n\n        list.items[list.items.length - 1].raw = raw.trimRight();\n        list.items[list.items.length - 1].text = itemContents.trimRight();\n        list.raw = list.raw.trimRight();\n        var l = list.items.length; // Item child tokens handled here at end because we needed to have the final item to trim it first\n\n        for (i = 0; i < l; i++) {\n          this.lexer.state.top = false;\n          list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);\n          var spacers = list.items[i].tokens.filter(function (t) {\n            return t.type === 'space';\n          });\n          var hasMultipleLineBreaks = spacers.every(function (t) {\n            var chars = t.raw.split('');\n            var lineBreaks = 0;\n\n            for (var _iterator = _createForOfIteratorHelperLoose(chars), _step; !(_step = _iterator()).done;) {\n              var _char = _step.value;\n\n              if (_char === '\\n') {\n                lineBreaks += 1;\n              }\n\n              if (lineBreaks > 1) {\n                return true;\n              }\n            }\n\n            return false;\n          });\n\n          if (!list.loose && spacers.length && hasMultipleLineBreaks) {\n            // Having a single line break doesn't mean a list is loose. A single line break is terminating the last list item\n            list.loose = true;\n            list.items[i].loose = true;\n          }\n        }\n\n        return list;\n      }\n    };\n\n    _proto.html = function html(src) {\n      var cap = this.rules.block.html.exec(src);\n\n      if (cap) {\n        var token = {\n          type: 'html',\n          raw: cap[0],\n          pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n          text: cap[0]\n        };\n\n        if (this.options.sanitize) {\n          token.type = 'paragraph';\n          token.text = this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]);\n          token.tokens = [];\n          this.lexer.inline(token.text, token.tokens);\n        }\n\n        return token;\n      }\n    };\n\n    _proto.def = function def(src) {\n      var cap = this.rules.block.def.exec(src);\n\n      if (cap) {\n        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n        var tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n        return {\n          type: 'def',\n          tag: tag,\n          raw: cap[0],\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n    };\n\n    _proto.table = function table(src) {\n      var cap = this.rules.block.table.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells(cap[1]).map(function (c) {\n            return {\n              text: c\n            };\n          }),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          rows: cap[3] && cap[3].trim() ? cap[3].replace(/\\n[ \\t]*$/, '').split('\\n') : []\n        };\n\n        if (item.header.length === item.align.length) {\n          item.raw = cap[0];\n          var l = item.align.length;\n          var i, j, k, row;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.rows.length;\n\n          for (i = 0; i < l; i++) {\n            item.rows[i] = splitCells(item.rows[i], item.header.length).map(function (c) {\n              return {\n                text: c\n              };\n            });\n          } // parse child tokens inside headers and cells\n          // header child tokens\n\n\n          l = item.header.length;\n\n          for (j = 0; j < l; j++) {\n            item.header[j].tokens = [];\n            this.lexer.inline(item.header[j].text, item.header[j].tokens);\n          } // cell child tokens\n\n\n          l = item.rows.length;\n\n          for (j = 0; j < l; j++) {\n            row = item.rows[j];\n\n            for (k = 0; k < row.length; k++) {\n              row[k].tokens = [];\n              this.lexer.inline(row[k].text, row[k].tokens);\n            }\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.lheading = function lheading(src) {\n      var cap = this.rules.block.lheading.exec(src);\n\n      if (cap) {\n        var token = {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[2].charAt(0) === '=' ? 1 : 2,\n          text: cap[1],\n          tokens: []\n        };\n        this.lexer.inline(token.text, token.tokens);\n        return token;\n      }\n    };\n\n    _proto.paragraph = function paragraph(src) {\n      var cap = this.rules.block.paragraph.exec(src);\n\n      if (cap) {\n        var token = {\n          type: 'paragraph',\n          raw: cap[0],\n          text: cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1],\n          tokens: []\n        };\n        this.lexer.inline(token.text, token.tokens);\n        return token;\n      }\n    };\n\n    _proto.text = function text(src) {\n      var cap = this.rules.block.text.exec(src);\n\n      if (cap) {\n        var token = {\n          type: 'text',\n          raw: cap[0],\n          text: cap[0],\n          tokens: []\n        };\n        this.lexer.inline(token.text, token.tokens);\n        return token;\n      }\n    };\n\n    _proto.escape = function escape$1(src) {\n      var cap = this.rules.inline.escape.exec(src);\n\n      if (cap) {\n        return {\n          type: 'escape',\n          raw: cap[0],\n          text: escape(cap[1])\n        };\n      }\n    };\n\n    _proto.tag = function tag(src) {\n      var cap = this.rules.inline.tag.exec(src);\n\n      if (cap) {\n        if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {\n          this.lexer.state.inLink = true;\n        } else if (this.lexer.state.inLink && /^<\\/a>/i.test(cap[0])) {\n          this.lexer.state.inLink = false;\n        }\n\n        if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          this.lexer.state.inRawBlock = true;\n        } else if (this.lexer.state.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          this.lexer.state.inRawBlock = false;\n        }\n\n        return {\n          type: this.options.sanitize ? 'text' : 'html',\n          raw: cap[0],\n          inLink: this.lexer.state.inLink,\n          inRawBlock: this.lexer.state.inRawBlock,\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.link = function link(src) {\n      var cap = this.rules.inline.link.exec(src);\n\n      if (cap) {\n        var trimmedUrl = cap[2].trim();\n\n        if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n          // commonmark requires matching angle brackets\n          if (!/>$/.test(trimmedUrl)) {\n            return;\n          } // ending angle bracket cannot be escaped\n\n\n          var rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\\\');\n\n          if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n            return;\n          }\n        } else {\n          // find closing parenthesis\n          var lastParenIndex = findClosingBracket(cap[2], '()');\n\n          if (lastParenIndex > -1) {\n            var start = cap[0].indexOf('!') === 0 ? 5 : 4;\n            var linkLen = start + cap[1].length + lastParenIndex;\n            cap[2] = cap[2].substring(0, lastParenIndex);\n            cap[0] = cap[0].substring(0, linkLen).trim();\n            cap[3] = '';\n          }\n        }\n\n        var href = cap[2];\n        var title = '';\n\n        if (this.options.pedantic) {\n          // split pedantic href and title\n          var link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n          if (link) {\n            href = link[1];\n            title = link[3];\n          }\n        } else {\n          title = cap[3] ? cap[3].slice(1, -1) : '';\n        }\n\n        href = href.trim();\n\n        if (/^</.test(href)) {\n          if (this.options.pedantic && !/>$/.test(trimmedUrl)) {\n            // pedantic allows starting angle bracket without ending angle bracket\n            href = href.slice(1);\n          } else {\n            href = href.slice(1, -1);\n          }\n        }\n\n        return outputLink(cap, {\n          href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n          title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n        }, cap[0], this.lexer);\n      }\n    };\n\n    _proto.reflink = function reflink(src, links) {\n      var cap;\n\n      if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {\n        var link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n        link = links[link.toLowerCase()];\n\n        if (!link || !link.href) {\n          var text = cap[0].charAt(0);\n          return {\n            type: 'text',\n            raw: text,\n            text: text\n          };\n        }\n\n        return outputLink(cap, link, cap[0], this.lexer);\n      }\n    };\n\n    _proto.emStrong = function emStrong(src, maskedSrc, prevChar) {\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var match = this.rules.inline.emStrong.lDelim.exec(src);\n      if (!match) return; // _ can't be between two alphanumerics. \\p{L}\\p{N} includes non-english alphabet/numbers as well\n\n      if (match[3] && prevChar.match(/(?:[0-9A-Za-z\\xAA\\xB2\\xB3\\xB5\\xB9\\xBA\\xBC-\\xBE\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u0660-\\u0669\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07C0-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u0870-\\u0887\\u0889-\\u088E\\u08A0-\\u08C9\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0966-\\u096F\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09E6-\\u09F1\\u09F4-\\u09F9\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A6F\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AE6-\\u0AEF\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B66-\\u0B6F\\u0B71-\\u0B77\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0BE6-\\u0BF2\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C5D\\u0C60\\u0C61\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDD\\u0CDE\\u0CE0\\u0CE1\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D04-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D58-\\u0D61\\u0D66-\\u0D78\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DE6-\\u0DEF\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F20-\\u0F33\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F-\\u1049\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u1090-\\u1099\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1369-\\u137C\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u1711\\u171F-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4C\\u1B50-\\u1B59\\u1B83-\\u1BA0\\u1BAE-\\u1BE5\\u1C00-\\u1C23\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2070\\u2071\\u2074-\\u2079\\u207F-\\u2089\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2150-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2C00-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2CFD\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u3192-\\u3195\\u31A0-\\u31BF\\u31F0-\\u31FF\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\u3400-\\u4DBF\\u4E00-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7CA\\uA7D0\\uA7D1\\uA7D3\\uA7D5-\\uA7D9\\uA7F2-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA830-\\uA835\\uA840-\\uA873\\uA882-\\uA8B3\\uA8D0-\\uA8D9\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA900-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF-\\uA9D9\\uA9E0-\\uA9E4\\uA9E6-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB69\\uAB70-\\uABE2\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD07-\\uDD33\\uDD40-\\uDD78\\uDD8A\\uDD8B\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE1-\\uDEFB\\uDF00-\\uDF23\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDD70-\\uDD7A\\uDD7C-\\uDD8A\\uDD8C-\\uDD92\\uDD94\\uDD95\\uDD97-\\uDDA1\\uDDA3-\\uDDB1\\uDDB3-\\uDDB9\\uDDBB\\uDDBC\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67\\uDF80-\\uDF85\\uDF87-\\uDFB0\\uDFB2-\\uDFBA]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC58-\\uDC76\\uDC79-\\uDC9E\\uDCA7-\\uDCAF\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDCFB-\\uDD1B\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBC-\\uDDCF\\uDDD2-\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE40-\\uDE48\\uDE60-\\uDE7E\\uDE80-\\uDE9F\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDEEB-\\uDEEF\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF58-\\uDF72\\uDF78-\\uDF91\\uDFA9-\\uDFAF]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDCFA-\\uDD23\\uDD30-\\uDD39\\uDE60-\\uDE7E\\uDE80-\\uDEA9\\uDEB0\\uDEB1\\uDF00-\\uDF27\\uDF30-\\uDF45\\uDF51-\\uDF54\\uDF70-\\uDF81\\uDFB0-\\uDFCB\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC52-\\uDC6F\\uDC71\\uDC72\\uDC75\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD03-\\uDD26\\uDD36-\\uDD3F\\uDD44\\uDD47\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDD0-\\uDDDA\\uDDDC\\uDDE1-\\uDDF4\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDEF0-\\uDEF9\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC50-\\uDC59\\uDC5F-\\uDC61\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEAA\\uDEB8\\uDEC0-\\uDEC9\\uDF00-\\uDF1A\\uDF30-\\uDF3B\\uDF40-\\uDF46]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCF2\\uDCFF-\\uDD06\\uDD09\\uDD0C-\\uDD13\\uDD15\\uDD16\\uDD18-\\uDD2F\\uDD3F\\uDD41\\uDD50-\\uDD59\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEB0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC50-\\uDC6C\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD50-\\uDD59\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDDA0-\\uDDA9\\uDEE0-\\uDEF2\\uDFB0\\uDFC0-\\uDFD4]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|\\uD80B[\\uDF90-\\uDFF0]|[\\uD80C\\uD81C-\\uD820\\uD822\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879\\uD880-\\uD883][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDE70-\\uDEBE\\uDEC0-\\uDEC9\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF5B-\\uDF61\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE96\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD823[\\uDC00-\\uDCD5\\uDD00-\\uDD08]|\\uD82B[\\uDFF0-\\uDFF3\\uDFF5-\\uDFFB\\uDFFD\\uDFFE]|\\uD82C[\\uDC00-\\uDD22\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD834[\\uDEE0-\\uDEF3\\uDF60-\\uDF78]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD837[\\uDF00-\\uDF1E]|\\uD838[\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD40-\\uDD49\\uDD4E\\uDE90-\\uDEAD\\uDEC0-\\uDEEB\\uDEF0-\\uDEF9]|\\uD839[\\uDFE0-\\uDFE6\\uDFE8-\\uDFEB\\uDFED\\uDFEE\\uDFF0-\\uDFFE]|\\uD83A[\\uDC00-\\uDCC4\\uDCC7-\\uDCCF\\uDD00-\\uDD43\\uDD4B\\uDD50-\\uDD59]|\\uD83B[\\uDC71-\\uDCAB\\uDCAD-\\uDCAF\\uDCB1-\\uDCB4\\uDD01-\\uDD2D\\uDD2F-\\uDD3D\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD83C[\\uDD00-\\uDD0C]|\\uD83E[\\uDFF0-\\uDFF9]|\\uD869[\\uDC00-\\uDEDF\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF38\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uD884[\\uDC00-\\uDF4A])/)) return;\n      var nextChar = match[1] || match[2] || '';\n\n      if (!nextChar || nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar))) {\n        var lLength = match[0].length - 1;\n        var rDelim,\n            rLength,\n            delimTotal = lLength,\n            midDelimTotal = 0;\n        var endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;\n        endReg.lastIndex = 0; // Clip maskedSrc to same section of string as src (move to lexer?)\n\n        maskedSrc = maskedSrc.slice(-1 * src.length + lLength);\n\n        while ((match = endReg.exec(maskedSrc)) != null) {\n          rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];\n          if (!rDelim) continue; // skip single * in __abc*abc__\n\n          rLength = rDelim.length;\n\n          if (match[3] || match[4]) {\n            // found another Left Delim\n            delimTotal += rLength;\n            continue;\n          } else if (match[5] || match[6]) {\n            // either Left or Right Delim\n            if (lLength % 3 && !((lLength + rLength) % 3)) {\n              midDelimTotal += rLength;\n              continue; // CommonMark Emphasis Rules 9-10\n            }\n          }\n\n          delimTotal -= rLength;\n          if (delimTotal > 0) continue; // Haven't found enough closing delimiters\n          // Remove extra characters. *a*** -> *a*\n\n          rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal); // Create `em` if smallest delimiter has odd char count. *a***\n\n          if (Math.min(lLength, rLength) % 2) {\n            var _text = src.slice(1, lLength + match.index + rLength);\n\n            return {\n              type: 'em',\n              raw: src.slice(0, lLength + match.index + rLength + 1),\n              text: _text,\n              tokens: this.lexer.inlineTokens(_text, [])\n            };\n          } // Create 'strong' if smallest delimiter has even char count. **a***\n\n\n          var text = src.slice(2, lLength + match.index + rLength - 1);\n          return {\n            type: 'strong',\n            raw: src.slice(0, lLength + match.index + rLength + 1),\n            text: text,\n            tokens: this.lexer.inlineTokens(text, [])\n          };\n        }\n      }\n    };\n\n    _proto.codespan = function codespan(src) {\n      var cap = this.rules.inline.code.exec(src);\n\n      if (cap) {\n        var text = cap[2].replace(/\\n/g, ' ');\n        var hasNonSpaceChars = /[^ ]/.test(text);\n        var hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n\n        if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n          text = text.substring(1, text.length - 1);\n        }\n\n        text = escape(text, true);\n        return {\n          type: 'codespan',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.br = function br(src) {\n      var cap = this.rules.inline.br.exec(src);\n\n      if (cap) {\n        return {\n          type: 'br',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.del = function del(src) {\n      var cap = this.rules.inline.del.exec(src);\n\n      if (cap) {\n        return {\n          type: 'del',\n          raw: cap[0],\n          text: cap[2],\n          tokens: this.lexer.inlineTokens(cap[2], [])\n        };\n      }\n    };\n\n    _proto.autolink = function autolink(src, mangle) {\n      var cap = this.rules.inline.autolink.exec(src);\n\n      if (cap) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n          href = 'mailto:' + text;\n        } else {\n          text = escape(cap[1]);\n          href = text;\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.url = function url(src, mangle) {\n      var cap;\n\n      if (cap = this.rules.inline.url.exec(src)) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n          href = 'mailto:' + text;\n        } else {\n          // do extended autolink path validation\n          var prevCapZero;\n\n          do {\n            prevCapZero = cap[0];\n            cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n          } while (prevCapZero !== cap[0]);\n\n          text = escape(cap[0]);\n\n          if (cap[1] === 'www.') {\n            href = 'http://' + text;\n          } else {\n            href = text;\n          }\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.inlineText = function inlineText(src, smartypants) {\n      var cap = this.rules.inline.text.exec(src);\n\n      if (cap) {\n        var text;\n\n        if (this.lexer.state.inRawBlock) {\n          text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0];\n        } else {\n          text = escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n        }\n\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    return Tokenizer;\n  }();\n\n  /**\n   * Block-Level Grammar\n   */\n\n  var block = {\n    newline: /^(?: *(?:\\n|$))+/,\n    code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n    fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,\n    hr: /^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/,\n    heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n    blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n    list: /^( {0,3}bull)([ \\t][^\\n]+?)?(?:\\n|$)/,\n    html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (6)\n    + '|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) open tag\n    + '|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) closing tag\n    + ')',\n    def: /^ {0,3}\\[(label)\\]: *(?:\\n *)?<?([^\\s>]+)>?(?:(?: +(?:\\n *)?| *\\n *)(title))? *(?:\\n+|$)/,\n    table: noopTest,\n    lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n    // regex template, placeholders will be replaced according to different paragraph\n    // interruption rules of commonmark and the original markdown spec:\n    _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,\n    text: /^[^\\n]+/\n  };\n  block._label = /(?!\\s*\\])(?:\\\\.|[^\\[\\]\\\\])+/;\n  block._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\n  block.def = edit(block.def).replace('label', block._label).replace('title', block._title).getRegex();\n  block.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\n  block.listItemStart = edit(/^( *)(bull) */).replace('bull', block.bullet).getRegex();\n  block.list = edit(block.list).replace(/bull/g, block.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block.def.source + ')').getRegex();\n  block._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\n  block._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\n  block.html = edit(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\n  block.paragraph = edit(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('|table', '').replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n  block.blockquote = edit(block.blockquote).replace('paragraph', block.paragraph).getRegex();\n  /**\n   * Normal Block Grammar\n   */\n\n  block.normal = merge({}, block);\n  /**\n   * GFM Block Grammar\n   */\n\n  block.gfm = merge({}, block.normal, {\n    table: '^ *([^\\\\n ].*\\\\|.*)\\\\n' // Header\n    + ' {0,3}(?:\\\\| *)?(:?-+:? *(?:\\\\| *:?-+:? *)*)(?:\\\\| *)?' // Align\n    + '(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n\n  });\n  block.gfm.table = edit(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  block.gfm.paragraph = edit(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('table', block.gfm.table) // interrupt paragraphs with table\n  .replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n  /**\n   * Pedantic grammar (original John Gruber's loose markdown specification)\n   */\n\n  block.pedantic = merge({}, block.normal, {\n    html: edit('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n    def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n    heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n    fences: noopTest,\n    // fences not supported\n    paragraph: edit(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n  });\n  /**\n   * Inline-Level Grammar\n   */\n\n  var inline = {\n    escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n    autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n    url: noopTest,\n    tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n    // CDATA section\n    link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n    reflink: /^!?\\[(label)\\]\\[(ref)\\]/,\n    nolink: /^!?\\[(ref)\\](?:\\[\\])?/,\n    reflinkSearch: 'reflink|nolink(?!\\\\()',\n    emStrong: {\n      lDelim: /^(?:\\*+(?:([punct_])|[^\\s*]))|^_+(?:([punct*])|([^\\s_]))/,\n      //        (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.\n      //          () Skip orphan inside strong  () Consume to delim (1) #***                (2) a***#, a***                   (3) #***a, ***a                 (4) ***#              (5) #***#                 (6) a***a\n      rDelimAst: /^[^_*]*?\\_\\_[^_*]*?\\*[^_*]*?(?=\\_\\_)|[^*]+(?=[^*])|[punct_](\\*+)(?=[\\s]|$)|[^punct*_\\s](\\*+)(?=[punct_\\s]|$)|[punct_\\s](\\*+)(?=[^punct*_\\s])|[\\s](\\*+)(?=[punct_])|[punct_](\\*+)(?=[punct_])|[^punct*_\\s](\\*+)(?=[^punct*_\\s])/,\n      rDelimUnd: /^[^_*]*?\\*\\*[^_*]*?\\_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|[punct*](\\_+)(?=[\\s]|$)|[^punct*_\\s](\\_+)(?=[punct*\\s]|$)|[punct*\\s](\\_+)(?=[^punct*_\\s])|[\\s](\\_+)(?=[punct*])|[punct*](\\_+)(?=[punct*])/ // ^- Not allowed for _\n\n    },\n    code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n    br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n    del: noopTest,\n    text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n    punctuation: /^([\\spunctuation])/\n  }; // list of punctuation marks from CommonMark spec\n  // without * and _ to handle the different emphasis markers * and _\n\n  inline._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\n  inline.punctuation = edit(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex(); // sequences em should skip over [title](link), `code`, <html>\n\n  inline.blockSkip = /\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>/g;\n  inline.escapedEmSt = /\\\\\\*|\\\\_/g;\n  inline._comment = edit(block._comment).replace('(?:-->|$)', '-->').getRegex();\n  inline.emStrong.lDelim = edit(inline.emStrong.lDelim).replace(/punct/g, inline._punctuation).getRegex();\n  inline.emStrong.rDelimAst = edit(inline.emStrong.rDelimAst, 'g').replace(/punct/g, inline._punctuation).getRegex();\n  inline.emStrong.rDelimUnd = edit(inline.emStrong.rDelimUnd, 'g').replace(/punct/g, inline._punctuation).getRegex();\n  inline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n  inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\n  inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n  inline.autolink = edit(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();\n  inline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n  inline.tag = edit(inline.tag).replace('comment', inline._comment).replace('attribute', inline._attribute).getRegex();\n  inline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\n  inline._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\n  inline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n  inline.link = edit(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();\n  inline.reflink = edit(inline.reflink).replace('label', inline._label).replace('ref', block._label).getRegex();\n  inline.nolink = edit(inline.nolink).replace('ref', block._label).getRegex();\n  inline.reflinkSearch = edit(inline.reflinkSearch, 'g').replace('reflink', inline.reflink).replace('nolink', inline.nolink).getRegex();\n  /**\n   * Normal Inline Grammar\n   */\n\n  inline.normal = merge({}, inline);\n  /**\n   * Pedantic Inline Grammar\n   */\n\n  inline.pedantic = merge({}, inline.normal, {\n    strong: {\n      start: /^__|\\*\\*/,\n      middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n      endAst: /\\*\\*(?!\\*)/g,\n      endUnd: /__(?!_)/g\n    },\n    em: {\n      start: /^_|\\*/,\n      middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n      endAst: /\\*(?!\\*)/g,\n      endUnd: /_(?!_)/g\n    },\n    link: edit(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline._label).getRegex(),\n    reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline._label).getRegex()\n  });\n  /**\n   * GFM Inline Grammar\n   */\n\n  inline.gfm = merge({}, inline.normal, {\n    escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n    url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n    _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n    del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n    text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/\n  });\n  inline.gfm.url = edit(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();\n  /**\n   * GFM + Line Breaks Inline Grammar\n   */\n\n  inline.breaks = merge({}, inline.gfm, {\n    br: edit(inline.br).replace('{2,}', '*').getRegex(),\n    text: edit(inline.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n  });\n\n  /**\n   * smartypants text replacement\n   * @param {string} text\n   */\n\n  function smartypants(text) {\n    return text // em-dashes\n    .replace(/---/g, \"\\u2014\") // en-dashes\n    .replace(/--/g, \"\\u2013\") // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, \"$1\\u2018\") // closing singles & apostrophes\n    .replace(/'/g, \"\\u2019\") // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, \"$1\\u201C\") // closing doubles\n    .replace(/\"/g, \"\\u201D\") // ellipses\n    .replace(/\\.{3}/g, \"\\u2026\");\n  }\n  /**\n   * mangle email addresses\n   * @param {string} text\n   */\n\n\n  function mangle(text) {\n    var out = '',\n        i,\n        ch;\n    var l = text.length;\n\n    for (i = 0; i < l; i++) {\n      ch = text.charCodeAt(i);\n\n      if (Math.random() > 0.5) {\n        ch = 'x' + ch.toString(16);\n      }\n\n      out += '&#' + ch + ';';\n    }\n\n    return out;\n  }\n  /**\n   * Block Lexer\n   */\n\n\n  var Lexer = /*#__PURE__*/function () {\n    function Lexer(options) {\n      this.tokens = [];\n      this.tokens.links = Object.create(null);\n      this.options = options || exports.defaults;\n      this.options.tokenizer = this.options.tokenizer || new Tokenizer();\n      this.tokenizer = this.options.tokenizer;\n      this.tokenizer.options = this.options;\n      this.tokenizer.lexer = this;\n      this.inlineQueue = [];\n      this.state = {\n        inLink: false,\n        inRawBlock: false,\n        top: true\n      };\n      var rules = {\n        block: block.normal,\n        inline: inline.normal\n      };\n\n      if (this.options.pedantic) {\n        rules.block = block.pedantic;\n        rules.inline = inline.pedantic;\n      } else if (this.options.gfm) {\n        rules.block = block.gfm;\n\n        if (this.options.breaks) {\n          rules.inline = inline.breaks;\n        } else {\n          rules.inline = inline.gfm;\n        }\n      }\n\n      this.tokenizer.rules = rules;\n    }\n    /**\n     * Expose Rules\n     */\n\n\n    /**\n     * Static Lex Method\n     */\n    Lexer.lex = function lex(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.lex(src);\n    }\n    /**\n     * Static Lex Inline Method\n     */\n    ;\n\n    Lexer.lexInline = function lexInline(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.inlineTokens(src);\n    }\n    /**\n     * Preprocessing\n     */\n    ;\n\n    var _proto = Lexer.prototype;\n\n    _proto.lex = function lex(src) {\n      src = src.replace(/\\r\\n|\\r/g, '\\n');\n      this.blockTokens(src, this.tokens);\n      var next;\n\n      while (next = this.inlineQueue.shift()) {\n        this.inlineTokens(next.src, next.tokens);\n      }\n\n      return this.tokens;\n    }\n    /**\n     * Lexing\n     */\n    ;\n\n    _proto.blockTokens = function blockTokens(src, tokens) {\n      var _this = this;\n\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (this.options.pedantic) {\n        src = src.replace(/\\t/g, '    ').replace(/^ +$/gm, '');\n      } else {\n        src = src.replace(/^( *)(\\t+)/gm, function (_, leading, tabs) {\n          return leading + '    '.repeat(tabs.length);\n        });\n      }\n\n      var token, lastToken, cutSrc, lastParagraphClipped;\n\n      while (src) {\n        if (this.options.extensions && this.options.extensions.block && this.options.extensions.block.some(function (extTokenizer) {\n          if (token = extTokenizer.call({\n            lexer: _this\n          }, src, tokens)) {\n            src = src.substring(token.raw.length);\n            tokens.push(token);\n            return true;\n          }\n\n          return false;\n        })) {\n          continue;\n        } // newline\n\n\n        if (token = this.tokenizer.space(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.raw.length === 1 && tokens.length > 0) {\n            // if there's a single \\n as a spacer, it's terminating the last line,\n            // so move it there so that we don't get unecessary paragraph tags\n            tokens[tokens.length - 1].raw += '\\n';\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.code(src)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.\n\n          if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n            this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        } // fences\n\n\n        if (token = this.tokenizer.fences(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // heading\n\n\n        if (token = this.tokenizer.heading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // hr\n\n\n        if (token = this.tokenizer.hr(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // blockquote\n\n\n        if (token = this.tokenizer.blockquote(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // list\n\n\n        if (token = this.tokenizer.list(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // html\n\n\n        if (token = this.tokenizer.html(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // def\n\n\n        if (token = this.tokenizer.def(src)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.raw;\n            this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n          } else if (!this.tokens.links[token.tag]) {\n            this.tokens.links[token.tag] = {\n              href: token.href,\n              title: token.title\n            };\n          }\n\n          continue;\n        } // table (gfm)\n\n\n        if (token = this.tokenizer.table(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // lheading\n\n\n        if (token = this.tokenizer.lheading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // top-level paragraph\n        // prevent paragraph consuming extensions by clipping 'src' to extension start\n\n\n        cutSrc = src;\n\n        if (this.options.extensions && this.options.extensions.startBlock) {\n          (function () {\n            var startIndex = Infinity;\n            var tempSrc = src.slice(1);\n            var tempStart = void 0;\n\n            _this.options.extensions.startBlock.forEach(function (getStartIndex) {\n              tempStart = getStartIndex.call({\n                lexer: this\n              }, tempSrc);\n\n              if (typeof tempStart === 'number' && tempStart >= 0) {\n                startIndex = Math.min(startIndex, tempStart);\n              }\n            });\n\n            if (startIndex < Infinity && startIndex >= 0) {\n              cutSrc = src.substring(0, startIndex + 1);\n            }\n          })();\n        }\n\n        if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastParagraphClipped && lastToken.type === 'paragraph') {\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n            this.inlineQueue.pop();\n            this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n          } else {\n            tokens.push(token);\n          }\n\n          lastParagraphClipped = cutSrc.length !== src.length;\n          src = src.substring(token.raw.length);\n          continue;\n        } // text\n\n\n        if (token = this.tokenizer.text(src)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && lastToken.type === 'text') {\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n            this.inlineQueue.pop();\n            this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      this.state.top = true;\n      return tokens;\n    };\n\n    _proto.inline = function inline(src, tokens) {\n      this.inlineQueue.push({\n        src: src,\n        tokens: tokens\n      });\n    }\n    /**\n     * Lexing/Compiling\n     */\n    ;\n\n    _proto.inlineTokens = function inlineTokens(src, tokens) {\n      var _this2 = this;\n\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      var token, lastToken, cutSrc; // String with links masked to avoid interference with em and strong\n\n      var maskedSrc = src;\n      var match;\n      var keepPrevChar, prevChar; // Mask out reflinks\n\n      if (this.tokens.links) {\n        var links = Object.keys(this.tokens.links);\n\n        if (links.length > 0) {\n          while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n            if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n              maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n            }\n          }\n        }\n      } // Mask out other blocks\n\n\n      while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n        maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n      } // Mask out escaped em & strong delimiters\n\n\n      while ((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null) {\n        maskedSrc = maskedSrc.slice(0, match.index) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);\n      }\n\n      while (src) {\n        if (!keepPrevChar) {\n          prevChar = '';\n        }\n\n        keepPrevChar = false; // extensions\n\n        if (this.options.extensions && this.options.extensions.inline && this.options.extensions.inline.some(function (extTokenizer) {\n          if (token = extTokenizer.call({\n            lexer: _this2\n          }, src, tokens)) {\n            src = src.substring(token.raw.length);\n            tokens.push(token);\n            return true;\n          }\n\n          return false;\n        })) {\n          continue;\n        } // escape\n\n\n        if (token = this.tokenizer.escape(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // tag\n\n\n        if (token = this.tokenizer.tag(src)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n            lastToken.raw += token.raw;\n            lastToken.text += token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        } // link\n\n\n        if (token = this.tokenizer.link(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // reflink, nolink\n\n\n        if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n            lastToken.raw += token.raw;\n            lastToken.text += token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        } // em & strong\n\n\n        if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.codespan(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // br\n\n\n        if (token = this.tokenizer.br(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // del (gfm)\n\n\n        if (token = this.tokenizer.del(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // autolink\n\n\n        if (token = this.tokenizer.autolink(src, mangle)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // url (gfm)\n\n\n        if (!this.state.inLink && (token = this.tokenizer.url(src, mangle))) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // text\n        // prevent inlineText consuming extensions by clipping 'src' to extension start\n\n\n        cutSrc = src;\n\n        if (this.options.extensions && this.options.extensions.startInline) {\n          (function () {\n            var startIndex = Infinity;\n            var tempSrc = src.slice(1);\n            var tempStart = void 0;\n\n            _this2.options.extensions.startInline.forEach(function (getStartIndex) {\n              tempStart = getStartIndex.call({\n                lexer: this\n              }, tempSrc);\n\n              if (typeof tempStart === 'number' && tempStart >= 0) {\n                startIndex = Math.min(startIndex, tempStart);\n              }\n            });\n\n            if (startIndex < Infinity && startIndex >= 0) {\n              cutSrc = src.substring(0, startIndex + 1);\n            }\n          })();\n        }\n\n        if (token = this.tokenizer.inlineText(cutSrc, smartypants)) {\n          src = src.substring(token.raw.length);\n\n          if (token.raw.slice(-1) !== '_') {\n            // Track prevChar before string of ____ started\n            prevChar = token.raw.slice(-1);\n          }\n\n          keepPrevChar = true;\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && lastToken.type === 'text') {\n            lastToken.raw += token.raw;\n            lastToken.text += token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _createClass(Lexer, null, [{\n      key: \"rules\",\n      get: function get() {\n        return {\n          block: block,\n          inline: inline\n        };\n      }\n    }]);\n\n    return Lexer;\n  }();\n\n  /**\n   * Renderer\n   */\n\n  var Renderer = /*#__PURE__*/function () {\n    function Renderer(options) {\n      this.options = options || exports.defaults;\n    }\n\n    var _proto = Renderer.prototype;\n\n    _proto.code = function code(_code, infostring, escaped) {\n      var lang = (infostring || '').match(/\\S*/)[0];\n\n      if (this.options.highlight) {\n        var out = this.options.highlight(_code, lang);\n\n        if (out != null && out !== _code) {\n          escaped = true;\n          _code = out;\n        }\n      }\n\n      _code = _code.replace(/\\n$/, '') + '\\n';\n\n      if (!lang) {\n        return '<pre><code>' + (escaped ? _code : escape(_code, true)) + '</code></pre>\\n';\n      }\n\n      return '<pre><code class=\"' + this.options.langPrefix + escape(lang, true) + '\">' + (escaped ? _code : escape(_code, true)) + '</code></pre>\\n';\n    }\n    /**\n     * @param {string} quote\n     */\n    ;\n\n    _proto.blockquote = function blockquote(quote) {\n      return \"<blockquote>\\n\" + quote + \"</blockquote>\\n\";\n    };\n\n    _proto.html = function html(_html) {\n      return _html;\n    }\n    /**\n     * @param {string} text\n     * @param {string} level\n     * @param {string} raw\n     * @param {any} slugger\n     */\n    ;\n\n    _proto.heading = function heading(text, level, raw, slugger) {\n      if (this.options.headerIds) {\n        var id = this.options.headerPrefix + slugger.slug(raw);\n        return \"<h\" + level + \" id=\\\"\" + id + \"\\\">\" + text + \"</h\" + level + \">\\n\";\n      } // ignore IDs\n\n\n      return \"<h\" + level + \">\" + text + \"</h\" + level + \">\\n\";\n    };\n\n    _proto.hr = function hr() {\n      return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n    };\n\n    _proto.list = function list(body, ordered, start) {\n      var type = ordered ? 'ol' : 'ul',\n          startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n      return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n    }\n    /**\n     * @param {string} text\n     */\n    ;\n\n    _proto.listitem = function listitem(text) {\n      return \"<li>\" + text + \"</li>\\n\";\n    };\n\n    _proto.checkbox = function checkbox(checked) {\n      return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n    }\n    /**\n     * @param {string} text\n     */\n    ;\n\n    _proto.paragraph = function paragraph(text) {\n      return \"<p>\" + text + \"</p>\\n\";\n    }\n    /**\n     * @param {string} header\n     * @param {string} body\n     */\n    ;\n\n    _proto.table = function table(header, body) {\n      if (body) body = \"<tbody>\" + body + \"</tbody>\";\n      return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n    }\n    /**\n     * @param {string} content\n     */\n    ;\n\n    _proto.tablerow = function tablerow(content) {\n      return \"<tr>\\n\" + content + \"</tr>\\n\";\n    };\n\n    _proto.tablecell = function tablecell(content, flags) {\n      var type = flags.header ? 'th' : 'td';\n      var tag = flags.align ? \"<\" + type + \" align=\\\"\" + flags.align + \"\\\">\" : \"<\" + type + \">\";\n      return tag + content + (\"</\" + type + \">\\n\");\n    }\n    /**\n     * span level renderer\n     * @param {string} text\n     */\n    ;\n\n    _proto.strong = function strong(text) {\n      return \"<strong>\" + text + \"</strong>\";\n    }\n    /**\n     * @param {string} text\n     */\n    ;\n\n    _proto.em = function em(text) {\n      return \"<em>\" + text + \"</em>\";\n    }\n    /**\n     * @param {string} text\n     */\n    ;\n\n    _proto.codespan = function codespan(text) {\n      return \"<code>\" + text + \"</code>\";\n    };\n\n    _proto.br = function br() {\n      return this.options.xhtml ? '<br/>' : '<br>';\n    }\n    /**\n     * @param {string} text\n     */\n    ;\n\n    _proto.del = function del(text) {\n      return \"<del>\" + text + \"</del>\";\n    }\n    /**\n     * @param {string} href\n     * @param {string} title\n     * @param {string} text\n     */\n    ;\n\n    _proto.link = function link(href, title, text) {\n      href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<a href=\"' + escape(href) + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += '>' + text + '</a>';\n      return out;\n    }\n    /**\n     * @param {string} href\n     * @param {string} title\n     * @param {string} text\n     */\n    ;\n\n    _proto.image = function image(href, title, text) {\n      href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = \"<img src=\\\"\" + href + \"\\\" alt=\\\"\" + text + \"\\\"\";\n\n      if (title) {\n        out += \" title=\\\"\" + title + \"\\\"\";\n      }\n\n      out += this.options.xhtml ? '/>' : '>';\n      return out;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    return Renderer;\n  }();\n\n  /**\n   * TextRenderer\n   * returns only the textual part of the token\n   */\n  var TextRenderer = /*#__PURE__*/function () {\n    function TextRenderer() {}\n\n    var _proto = TextRenderer.prototype;\n\n    // no need for block level renderers\n    _proto.strong = function strong(text) {\n      return text;\n    };\n\n    _proto.em = function em(text) {\n      return text;\n    };\n\n    _proto.codespan = function codespan(text) {\n      return text;\n    };\n\n    _proto.del = function del(text) {\n      return text;\n    };\n\n    _proto.html = function html(text) {\n      return text;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    _proto.link = function link(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.image = function image(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.br = function br() {\n      return '';\n    };\n\n    return TextRenderer;\n  }();\n\n  /**\n   * Slugger generates header id\n   */\n  var Slugger = /*#__PURE__*/function () {\n    function Slugger() {\n      this.seen = {};\n    }\n    /**\n     * @param {string} value\n     */\n\n\n    var _proto = Slugger.prototype;\n\n    _proto.serialize = function serialize(value) {\n      return value.toLowerCase().trim() // remove html tags\n      .replace(/<[!\\/a-z].*?>/ig, '') // remove unwanted chars\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n    }\n    /**\n     * Finds the next safe (unique) slug to use\n     * @param {string} originalSlug\n     * @param {boolean} isDryRun\n     */\n    ;\n\n    _proto.getNextSafeSlug = function getNextSafeSlug(originalSlug, isDryRun) {\n      var slug = originalSlug;\n      var occurenceAccumulator = 0;\n\n      if (this.seen.hasOwnProperty(slug)) {\n        occurenceAccumulator = this.seen[originalSlug];\n\n        do {\n          occurenceAccumulator++;\n          slug = originalSlug + '-' + occurenceAccumulator;\n        } while (this.seen.hasOwnProperty(slug));\n      }\n\n      if (!isDryRun) {\n        this.seen[originalSlug] = occurenceAccumulator;\n        this.seen[slug] = 0;\n      }\n\n      return slug;\n    }\n    /**\n     * Convert string to unique id\n     * @param {object} [options]\n     * @param {boolean} [options.dryrun] Generates the next unique slug without\n     * updating the internal accumulator.\n     */\n    ;\n\n    _proto.slug = function slug(value, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      var slug = this.serialize(value);\n      return this.getNextSafeSlug(slug, options.dryrun);\n    };\n\n    return Slugger;\n  }();\n\n  /**\n   * Parsing & Compiling\n   */\n\n  var Parser = /*#__PURE__*/function () {\n    function Parser(options) {\n      this.options = options || exports.defaults;\n      this.options.renderer = this.options.renderer || new Renderer();\n      this.renderer = this.options.renderer;\n      this.renderer.options = this.options;\n      this.textRenderer = new TextRenderer();\n      this.slugger = new Slugger();\n    }\n    /**\n     * Static Parse Method\n     */\n\n\n    Parser.parse = function parse(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parse(tokens);\n    }\n    /**\n     * Static Parse Inline Method\n     */\n    ;\n\n    Parser.parseInline = function parseInline(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parseInline(tokens);\n    }\n    /**\n     * Parse Loop\n     */\n    ;\n\n    var _proto = Parser.prototype;\n\n    _proto.parse = function parse(tokens, top) {\n      if (top === void 0) {\n        top = true;\n      }\n\n      var out = '',\n          i,\n          j,\n          k,\n          l2,\n          l3,\n          row,\n          cell,\n          header,\n          body,\n          token,\n          ordered,\n          start,\n          loose,\n          itemBody,\n          item,\n          checked,\n          task,\n          checkbox,\n          ret;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i]; // Run any renderer extensions\n\n        if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n          ret = this.options.extensions.renderers[token.type].call({\n            parser: this\n          }, token);\n\n          if (ret !== false || !['space', 'hr', 'heading', 'code', 'table', 'blockquote', 'list', 'html', 'paragraph', 'text'].includes(token.type)) {\n            out += ret || '';\n            continue;\n          }\n        }\n\n        switch (token.type) {\n          case 'space':\n            {\n              continue;\n            }\n\n          case 'hr':\n            {\n              out += this.renderer.hr();\n              continue;\n            }\n\n          case 'heading':\n            {\n              out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape(this.parseInline(token.tokens, this.textRenderer)), this.slugger);\n              continue;\n            }\n\n          case 'code':\n            {\n              out += this.renderer.code(token.text, token.lang, token.escaped);\n              continue;\n            }\n\n          case 'table':\n            {\n              header = ''; // header\n\n              cell = '';\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                cell += this.renderer.tablecell(this.parseInline(token.header[j].tokens), {\n                  header: true,\n                  align: token.align[j]\n                });\n              }\n\n              header += this.renderer.tablerow(cell);\n              body = '';\n              l2 = token.rows.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.rows[j];\n                cell = '';\n                l3 = row.length;\n\n                for (k = 0; k < l3; k++) {\n                  cell += this.renderer.tablecell(this.parseInline(row[k].tokens), {\n                    header: false,\n                    align: token.align[k]\n                  });\n                }\n\n                body += this.renderer.tablerow(cell);\n              }\n\n              out += this.renderer.table(header, body);\n              continue;\n            }\n\n          case 'blockquote':\n            {\n              body = this.parse(token.tokens);\n              out += this.renderer.blockquote(body);\n              continue;\n            }\n\n          case 'list':\n            {\n              ordered = token.ordered;\n              start = token.start;\n              loose = token.loose;\n              l2 = token.items.length;\n              body = '';\n\n              for (j = 0; j < l2; j++) {\n                item = token.items[j];\n                checked = item.checked;\n                task = item.task;\n                itemBody = '';\n\n                if (item.task) {\n                  checkbox = this.renderer.checkbox(checked);\n\n                  if (loose) {\n                    if (item.tokens.length > 0 && item.tokens[0].type === 'paragraph') {\n                      item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n\n                      if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                      }\n                    } else {\n                      item.tokens.unshift({\n                        type: 'text',\n                        text: checkbox\n                      });\n                    }\n                  } else {\n                    itemBody += checkbox;\n                  }\n                }\n\n                itemBody += this.parse(item.tokens, loose);\n                body += this.renderer.listitem(itemBody, task, checked);\n              }\n\n              out += this.renderer.list(body, ordered, start);\n              continue;\n            }\n\n          case 'html':\n            {\n              // TODO parse inline content if parameter markdown=1\n              out += this.renderer.html(token.text);\n              continue;\n            }\n\n          case 'paragraph':\n            {\n              out += this.renderer.paragraph(this.parseInline(token.tokens));\n              continue;\n            }\n\n          case 'text':\n            {\n              body = token.tokens ? this.parseInline(token.tokens) : token.text;\n\n              while (i + 1 < l && tokens[i + 1].type === 'text') {\n                token = tokens[++i];\n                body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n              }\n\n              out += top ? this.renderer.paragraph(body) : body;\n              continue;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    }\n    /**\n     * Parse Inline Tokens\n     */\n    ;\n\n    _proto.parseInline = function parseInline(tokens, renderer) {\n      renderer = renderer || this.renderer;\n      var out = '',\n          i,\n          token,\n          ret;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i]; // Run any renderer extensions\n\n        if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n          ret = this.options.extensions.renderers[token.type].call({\n            parser: this\n          }, token);\n\n          if (ret !== false || !['escape', 'html', 'link', 'image', 'strong', 'em', 'codespan', 'br', 'del', 'text'].includes(token.type)) {\n            out += ret || '';\n            continue;\n          }\n        }\n\n        switch (token.type) {\n          case 'escape':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          case 'html':\n            {\n              out += renderer.html(token.text);\n              break;\n            }\n\n          case 'link':\n            {\n              out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'image':\n            {\n              out += renderer.image(token.href, token.title, token.text);\n              break;\n            }\n\n          case 'strong':\n            {\n              out += renderer.strong(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'em':\n            {\n              out += renderer.em(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'codespan':\n            {\n              out += renderer.codespan(token.text);\n              break;\n            }\n\n          case 'br':\n            {\n              out += renderer.br();\n              break;\n            }\n\n          case 'del':\n            {\n              out += renderer.del(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'text':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    };\n\n    return Parser;\n  }();\n\n  /**\n   * Marked\n   */\n\n  function marked(src, opt, callback) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    if (typeof opt === 'function') {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n\n    if (callback) {\n      var highlight = opt.highlight;\n      var tokens;\n\n      try {\n        tokens = Lexer.lex(src, opt);\n      } catch (e) {\n        return callback(e);\n      }\n\n      var done = function done(err) {\n        var out;\n\n        if (!err) {\n          try {\n            if (opt.walkTokens) {\n              marked.walkTokens(tokens, opt.walkTokens);\n            }\n\n            out = Parser.parse(tokens, opt);\n          } catch (e) {\n            err = e;\n          }\n        }\n\n        opt.highlight = highlight;\n        return err ? callback(err) : callback(null, out);\n      };\n\n      if (!highlight || highlight.length < 3) {\n        return done();\n      }\n\n      delete opt.highlight;\n      if (!tokens.length) return done();\n      var pending = 0;\n      marked.walkTokens(tokens, function (token) {\n        if (token.type === 'code') {\n          pending++;\n          setTimeout(function () {\n            highlight(token.text, token.lang, function (err, code) {\n              if (err) {\n                return done(err);\n              }\n\n              if (code != null && code !== token.text) {\n                token.text = code;\n                token.escaped = true;\n              }\n\n              pending--;\n\n              if (pending === 0) {\n                done();\n              }\n            });\n          }, 0);\n        }\n      });\n\n      if (pending === 0) {\n        done();\n      }\n\n      return;\n    }\n\n    try {\n      var _tokens = Lexer.lex(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(_tokens, opt.walkTokens);\n      }\n\n      return Parser.parse(_tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  }\n  /**\n   * Options\n   */\n\n  marked.options = marked.setOptions = function (opt) {\n    merge(marked.defaults, opt);\n    changeDefaults(marked.defaults);\n    return marked;\n  };\n\n  marked.getDefaults = getDefaults;\n  marked.defaults = exports.defaults;\n  /**\n   * Use Extension\n   */\n\n  marked.use = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var opts = merge.apply(void 0, [{}].concat(args));\n    var extensions = marked.defaults.extensions || {\n      renderers: {},\n      childTokens: {}\n    };\n    var hasExtensions;\n    args.forEach(function (pack) {\n      // ==-- Parse \"addon\" extensions --== //\n      if (pack.extensions) {\n        hasExtensions = true;\n        pack.extensions.forEach(function (ext) {\n          if (!ext.name) {\n            throw new Error('extension name required');\n          }\n\n          if (ext.renderer) {\n            // Renderer extensions\n            var prevRenderer = extensions.renderers ? extensions.renderers[ext.name] : null;\n\n            if (prevRenderer) {\n              // Replace extension with func to run new extension but fall back if false\n              extensions.renderers[ext.name] = function () {\n                for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                  args[_key2] = arguments[_key2];\n                }\n\n                var ret = ext.renderer.apply(this, args);\n\n                if (ret === false) {\n                  ret = prevRenderer.apply(this, args);\n                }\n\n                return ret;\n              };\n            } else {\n              extensions.renderers[ext.name] = ext.renderer;\n            }\n          }\n\n          if (ext.tokenizer) {\n            // Tokenizer Extensions\n            if (!ext.level || ext.level !== 'block' && ext.level !== 'inline') {\n              throw new Error(\"extension level must be 'block' or 'inline'\");\n            }\n\n            if (extensions[ext.level]) {\n              extensions[ext.level].unshift(ext.tokenizer);\n            } else {\n              extensions[ext.level] = [ext.tokenizer];\n            }\n\n            if (ext.start) {\n              // Function to check for start of token\n              if (ext.level === 'block') {\n                if (extensions.startBlock) {\n                  extensions.startBlock.push(ext.start);\n                } else {\n                  extensions.startBlock = [ext.start];\n                }\n              } else if (ext.level === 'inline') {\n                if (extensions.startInline) {\n                  extensions.startInline.push(ext.start);\n                } else {\n                  extensions.startInline = [ext.start];\n                }\n              }\n            }\n          }\n\n          if (ext.childTokens) {\n            // Child tokens to be visited by walkTokens\n            extensions.childTokens[ext.name] = ext.childTokens;\n          }\n        });\n      } // ==-- Parse \"overwrite\" extensions --== //\n\n\n      if (pack.renderer) {\n        (function () {\n          var renderer = marked.defaults.renderer || new Renderer();\n\n          var _loop = function _loop(prop) {\n            var prevRenderer = renderer[prop]; // Replace renderer with func to run extension, but fall back if false\n\n            renderer[prop] = function () {\n              for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                args[_key3] = arguments[_key3];\n              }\n\n              var ret = pack.renderer[prop].apply(renderer, args);\n\n              if (ret === false) {\n                ret = prevRenderer.apply(renderer, args);\n              }\n\n              return ret;\n            };\n          };\n\n          for (var prop in pack.renderer) {\n            _loop(prop);\n          }\n\n          opts.renderer = renderer;\n        })();\n      }\n\n      if (pack.tokenizer) {\n        (function () {\n          var tokenizer = marked.defaults.tokenizer || new Tokenizer();\n\n          var _loop2 = function _loop2(prop) {\n            var prevTokenizer = tokenizer[prop]; // Replace tokenizer with func to run extension, but fall back if false\n\n            tokenizer[prop] = function () {\n              for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n                args[_key4] = arguments[_key4];\n              }\n\n              var ret = pack.tokenizer[prop].apply(tokenizer, args);\n\n              if (ret === false) {\n                ret = prevTokenizer.apply(tokenizer, args);\n              }\n\n              return ret;\n            };\n          };\n\n          for (var prop in pack.tokenizer) {\n            _loop2(prop);\n          }\n\n          opts.tokenizer = tokenizer;\n        })();\n      } // ==-- Parse WalkTokens extensions --== //\n\n\n      if (pack.walkTokens) {\n        var _walkTokens = marked.defaults.walkTokens;\n\n        opts.walkTokens = function (token) {\n          pack.walkTokens.call(this, token);\n\n          if (_walkTokens) {\n            _walkTokens.call(this, token);\n          }\n        };\n      }\n\n      if (hasExtensions) {\n        opts.extensions = extensions;\n      }\n\n      marked.setOptions(opts);\n    });\n  };\n  /**\n   * Run callback for every token\n   */\n\n\n  marked.walkTokens = function (tokens, callback) {\n    var _loop3 = function _loop3() {\n      var token = _step.value;\n      callback.call(marked, token);\n\n      switch (token.type) {\n        case 'table':\n          {\n            for (var _iterator2 = _createForOfIteratorHelperLoose(token.header), _step2; !(_step2 = _iterator2()).done;) {\n              var cell = _step2.value;\n              marked.walkTokens(cell.tokens, callback);\n            }\n\n            for (var _iterator3 = _createForOfIteratorHelperLoose(token.rows), _step3; !(_step3 = _iterator3()).done;) {\n              var row = _step3.value;\n\n              for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {\n                var _cell = _step4.value;\n                marked.walkTokens(_cell.tokens, callback);\n              }\n            }\n\n            break;\n          }\n\n        case 'list':\n          {\n            marked.walkTokens(token.items, callback);\n            break;\n          }\n\n        default:\n          {\n            if (marked.defaults.extensions && marked.defaults.extensions.childTokens && marked.defaults.extensions.childTokens[token.type]) {\n              // Walk any extensions\n              marked.defaults.extensions.childTokens[token.type].forEach(function (childTokens) {\n                marked.walkTokens(token[childTokens], callback);\n              });\n            } else if (token.tokens) {\n              marked.walkTokens(token.tokens, callback);\n            }\n          }\n      }\n    };\n\n    for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {\n      _loop3();\n    }\n  };\n  /**\n   * Parse Inline\n   * @param {string} src\n   */\n\n\n  marked.parseInline = function (src, opt) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked.parseInline(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked.parseInline(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n\n    try {\n      var tokens = Lexer.lexInline(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(tokens, opt.walkTokens);\n      }\n\n      return Parser.parseInline(tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  };\n  /**\n   * Expose\n   */\n\n\n  marked.Parser = Parser;\n  marked.parser = Parser.parse;\n  marked.Renderer = Renderer;\n  marked.TextRenderer = TextRenderer;\n  marked.Lexer = Lexer;\n  marked.lexer = Lexer.lex;\n  marked.Tokenizer = Tokenizer;\n  marked.Slugger = Slugger;\n  marked.parse = marked;\n  var options = marked.options;\n  var setOptions = marked.setOptions;\n  var use = marked.use;\n  var walkTokens = marked.walkTokens;\n  var parseInline = marked.parseInline;\n  var parse = marked;\n  var parser = Parser.parse;\n  var lexer = Lexer.lex;\n\n  exports.Lexer = Lexer;\n  exports.Parser = Parser;\n  exports.Renderer = Renderer;\n  exports.Slugger = Slugger;\n  exports.TextRenderer = TextRenderer;\n  exports.Tokenizer = Tokenizer;\n  exports.getDefaults = getDefaults;\n  exports.lexer = lexer;\n  exports.marked = marked;\n  exports.options = options;\n  exports.parse = parse;\n  exports.parseInline = parseInline;\n  exports.parser = parser;\n  exports.setOptions = setOptions;\n  exports.use = use;\n  exports.walkTokens = walkTokens;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","import { GridCellKind } from \"@glideapps/glide-data-grid\";\nimport range from \"lodash/range.js\";\nimport * as React from \"react\";\n\nfunction cellToSortData(c) {\n  var _c$data$toString, _c$data, _c$data$toString2, _c$data2, _c$data3;\n\n  switch (c.kind) {\n    case GridCellKind.Number:\n      return (_c$data$toString = (_c$data = c.data) === null || _c$data === void 0 ? void 0 : _c$data.toString()) !== null && _c$data$toString !== void 0 ? _c$data$toString : \"\";\n\n    case GridCellKind.Boolean:\n      return (_c$data$toString2 = (_c$data2 = c.data) === null || _c$data2 === void 0 ? void 0 : _c$data2.toString()) !== null && _c$data$toString2 !== void 0 ? _c$data$toString2 : \"\";\n\n    case GridCellKind.Markdown:\n    case GridCellKind.RowID:\n    case GridCellKind.Text:\n    case GridCellKind.Uri:\n      return (_c$data3 = c.data) !== null && _c$data3 !== void 0 ? _c$data3 : \"\";\n\n    case GridCellKind.Bubble:\n    case GridCellKind.Image:\n      return c.data.join(\"\");\n\n    case GridCellKind.Drilldown:\n      return c.data.map(x => x.text).join(\"\");\n\n    case GridCellKind.Protected:\n    case GridCellKind.Loading:\n      return \"\";\n\n    case GridCellKind.Custom:\n      return c.copyData;\n  }\n}\n\nfunction tryParse(val) {\n  if (typeof val === \"number\") return val;\n\n  if (val.length > 0) {\n    const x = parseFloat(val);\n\n    if (!isNaN(x)) {\n      val = x;\n    }\n  }\n\n  return val;\n}\n\nexport function compareSmart(a, b) {\n  a = tryParse(a);\n  b = tryParse(b);\n\n  if (typeof a === \"string\" && typeof b === \"string\") {\n    return a.localeCompare(b);\n  } else if (typeof a === \"number\" && typeof b === \"number\") {\n    if (a === b) return 0;\n    return a > b ? 1 : -1;\n  } else if (a == b) {\n    return 0;\n  }\n\n  return a > b ? 1 : -1;\n}\nexport function compareRaw(a, b) {\n  if (a > b) return 1;\n  if (a === b) return 0;\n  return -1;\n}\nexport function useColumnSort(p) {\n  var _sort$direction;\n\n  const {\n    sort,\n    rows,\n    getCellContent: getCellContentIn\n  } = p;\n  let sortCol = sort === undefined ? undefined : p.columns.findIndex(c => sort.column === c || c.id !== undefined && sort.column.id === c.id);\n  if (sortCol === -1) sortCol = undefined;\n  const dir = (_sort$direction = sort === null || sort === void 0 ? void 0 : sort.direction) !== null && _sort$direction !== void 0 ? _sort$direction : \"asc\";\n  const sortMap = React.useMemo(() => {\n    if (sortCol === undefined) return undefined;\n    const vals = new Array(rows);\n    const index = [sortCol, 0];\n\n    for (let i = 0; i < rows; i++) {\n      index[1] = i;\n      vals[i] = cellToSortData(getCellContentIn(index));\n    }\n\n    let result;\n\n    if ((sort === null || sort === void 0 ? void 0 : sort.mode) === \"raw\") {\n      result = range(rows).sort((a, b) => compareRaw(vals[a], vals[b]));\n    } else if ((sort === null || sort === void 0 ? void 0 : sort.mode) === \"smart\") {\n      result = range(rows).sort((a, b) => compareSmart(vals[a], vals[b]));\n    } else {\n      result = range(rows).sort((a, b) => vals[a].localeCompare(vals[b]));\n    }\n\n    if (dir === \"desc\") {\n      result.reverse();\n    }\n\n    return result;\n  }, [getCellContentIn, rows, sort === null || sort === void 0 ? void 0 : sort.mode, dir, sortCol]);\n  const getOriginalIndex = React.useCallback(index => {\n    if (sortMap === undefined) return index;\n    return sortMap[index];\n  }, [sortMap]);\n  const getCellContent = React.useCallback(_ref => {\n    let [col, row] = _ref;\n    if (sortMap === undefined) return getCellContentIn([col, row]);\n    row = sortMap[row];\n    return getCellContentIn([col, row]);\n  }, [getCellContentIn, sortMap]);\n\n  if (sortMap === undefined) {\n    return {\n      getCellContent: p.getCellContent,\n      getOriginalIndex\n    };\n  }\n\n  return {\n    getOriginalIndex,\n    getCellContent\n  };\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\nexport default class ClickOutsideContainer extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.wrapperRef = React.createRef();\n\n    this.clickOutside = event => {\n      if (this.wrapperRef.current !== null && !this.wrapperRef.current.contains(event.target)) {\n        let node = event.target;\n\n        while (node !== null) {\n          if (node.classList.contains(\"click-outside-ignore\")) {\n            return;\n          }\n\n          node = node.parentElement;\n        }\n\n        this.props.onClickOutside();\n      }\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.clickOutside, true);\n    document.addEventListener(\"contextmenu\", this.clickOutside, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.clickOutside);\n    document.removeEventListener(\"contextmenu\", this.clickOutside);\n  }\n\n  render() {\n    const {\n      onClickOutside,\n      ...rest\n    } = this.props;\n    return React.createElement(\"div\", _extends({}, rest, {\n      ref: this.wrapperRef\n    }), this.props.children);\n  }\n\n}","import * as React from \"react\";\nimport { css } from \"styled-components\";\nimport debounce from \"lodash/debounce.js\";\nexport function useEventListener(eventName, handler, element, passive, capture) {\n  var _capture;\n\n  capture = (_capture = capture) !== null && _capture !== void 0 ? _capture : false;\n  const savedHandler = React.useRef();\n  savedHandler.current = handler;\n  React.useEffect(() => {\n    if (element === null || element.addEventListener === undefined) return;\n    const el = element;\n\n    const eventListener = event => {\n      var _savedHandler$current;\n\n      (_savedHandler$current = savedHandler.current) === null || _savedHandler$current === void 0 ? void 0 : _savedHandler$current.call(el, event);\n    };\n\n    el.addEventListener(eventName, eventListener, {\n      passive,\n      capture\n    });\n    return () => {\n      el.removeEventListener(eventName, eventListener, {\n        capture\n      });\n    };\n  }, [eventName, element, passive, capture]);\n}\nconst PI = Math.PI;\nexport function degreesToRadians(degrees) {\n  return degrees * PI / 180;\n}\nexport const disabledProps = css([\"opacity:0.4;pointer-events:none;\"]);\nexport const EditPencil = props => {\n  var _props$fgColor;\n\n  const fg = (_props$fgColor = props.fgColor) !== null && _props$fgColor !== void 0 ? _props$fgColor : \"currentColor\";\n  return React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, React.createElement(\"path\", {\n    d: \"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929\",\n    stroke: fg,\n    strokeWidth: \"1.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    fill: \"none\",\n    vectorEffect: \"non-scaling-stroke\"\n  }), React.createElement(\"path\", {\n    d: \"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z\",\n    stroke: fg,\n    strokeWidth: \"1.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    fill: \"none\",\n    vectorEffect: \"non-scaling-stroke\"\n  }));\n};\nexport const Checkmark = props => {\n  var _props$fgColor2;\n\n  const fg = (_props$fgColor2 = props.fgColor) !== null && _props$fgColor2 !== void 0 ? _props$fgColor2 : \"currentColor\";\n  return React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, React.createElement(\"path\", {\n    d: \"M19 6L10.3802 17L5.34071 11.8758\",\n    vectorEffect: \"non-scaling-stroke\",\n    stroke: fg,\n    strokeWidth: \"1.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }));\n};\nexport function useDebouncedMemo(factory, deps, time) {\n  const [state, setState] = React.useState(factory);\n  const mountedRef = React.useRef(true);\n  React.useEffect(() => () => {\n    mountedRef.current = false;\n  }, []);\n  const debouncedSetState = React.useRef(debounce(x => {\n    if (mountedRef.current) {\n      setState(x);\n    }\n  }, time));\n  React.useLayoutEffect(() => {\n    if (mountedRef.current) {\n      debouncedSetState.current(() => factory());\n    }\n  }, deps);\n  return state;\n}\nconst rtlRange = \"\\u0591-\\u07FF\\uFB1D-\\uFDFD\\uFE70-\\uFEFC\";\nconst ltrRange = \"A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\" + \"\\u00F8-\\u02B8\\u0300-\\u0590\\u0800-\\u1FFF\\u200E\\u2C00-\\uFB1C\" + \"\\uFE00-\\uFE6F\\uFEFD-\\uFFFF\";\nconst rtl = new RegExp(\"^[^\" + ltrRange + \"]*[\" + rtlRange + \"]\");\nconst ltr = new RegExp(\"^[^\" + rtlRange + \"]*[\" + ltrRange + \"]\");\nexport function direction(value) {\n  return rtl.test(value) ? \"rtl\" : ltr.test(value) ? \"ltr\" : \"neutral\";\n}\nlet scrollbarWidthCache = undefined;\nexport function getScrollBarWidth() {\n  if (scrollbarWidthCache !== undefined) return scrollbarWidthCache;\n  const inner = document.createElement(\"p\");\n  inner.style.width = \"100%\";\n  inner.style.height = \"200px\";\n  const outer = document.createElement(\"div\");\n  outer.id = \"testScrollbar\";\n  outer.style.position = \"absolute\";\n  outer.style.top = \"0px\";\n  outer.style.left = \"0px\";\n  outer.style.visibility = \"hidden\";\n  outer.style.width = \"200px\";\n  outer.style.height = \"150px\";\n  outer.style.overflow = \"hidden\";\n  outer.appendChild(inner);\n  document.body.appendChild(outer);\n  const w1 = inner.offsetWidth;\n  outer.style.overflow = \"scroll\";\n  let w2 = inner.offsetWidth;\n\n  if (w1 === w2) {\n    w2 = outer.clientWidth;\n  }\n\n  document.body.removeChild(outer);\n  scrollbarWidthCache = w1 - w2;\n  return scrollbarWidthCache;\n}","import { BooleanEmpty, BooleanIndeterminate } from \"./data-grid-types.js\";\nimport { degreesToRadians, direction } from \"../common/utils.js\";\nimport React from \"react\";\nimport { assertNever } from \"../common/support.js\";\nexport function useMappedColumns(columns, freezeColumns) {\n  return React.useMemo(() => columns.map((c, i) => ({ ...c,\n    sourceIndex: i,\n    sticky: i < freezeColumns\n  })), [columns, freezeColumns]);\n}\nexport function isGroupEqual(left, right) {\n  return (left !== null && left !== void 0 ? left : \"\") === (right !== null && right !== void 0 ? right : \"\");\n}\nexport function cellIsSelected(location, cell, selection) {\n  if ((selection === null || selection === void 0 ? void 0 : selection.current) === undefined) return false;\n  const [col, row] = selection.current.cell;\n  const [cellCol, cellRow] = location;\n  if (cellRow !== row) return false;\n\n  if (cell.span === undefined) {\n    return col === cellCol;\n  }\n\n  return col >= cell.span[0] && col <= cell.span[1];\n}\n\nfunction cellIsInRect(location, cell, rect) {\n  const startX = rect.x;\n  const endX = rect.x + rect.width - 1;\n  const startY = rect.y;\n  const endY = rect.y + rect.height - 1;\n  const [cellCol, cellRow] = location;\n  if (cellRow < startY || cellRow > endY) return false;\n\n  if (cell.span === undefined) {\n    return cellCol >= startX && cellCol <= endX;\n  }\n\n  const [spanStart, spanEnd] = cell.span;\n  return spanStart >= startX && spanStart <= endX || spanEnd >= startX && spanStart <= endX || spanStart < startX && spanEnd > endX;\n}\n\nexport function cellIsInRange(location, cell, selection) {\n  let result = 0;\n  if (selection.current === undefined) return result;\n  if (cellIsInRect(location, cell, selection.current.range)) result++;\n\n  for (const r of selection.current.rangeStack) {\n    if (cellIsInRect(location, cell, r)) {\n      result++;\n    }\n  }\n\n  return result;\n}\n\nfunction remapForDnDState(columns, dndState) {\n  let mappedCols = columns;\n\n  if (dndState !== undefined) {\n    let writable = [...columns];\n    const temp = mappedCols[dndState.src];\n\n    if (dndState.src > dndState.dest) {\n      writable.splice(dndState.src, 1);\n      writable.splice(dndState.dest, 0, temp);\n    } else {\n      writable.splice(dndState.dest + 1, 0, temp);\n      writable.splice(dndState.src, 1);\n    }\n\n    writable = writable.map((c, i) => ({ ...c,\n      sticky: columns[i].sticky\n    }));\n    mappedCols = writable;\n  }\n\n  return mappedCols;\n}\n\nexport function getStickyWidth(columns, dndState) {\n  let result = 0;\n  const remapped = remapForDnDState(columns, dndState);\n\n  for (let i = 0; i < remapped.length; i++) {\n    const c = remapped[i];\n    if (c.sticky) result += c.width;else break;\n  }\n\n  return result;\n}\nexport function getEffectiveColumns(columns, cellXOffset, width, dndState, tx) {\n  const mappedCols = remapForDnDState(columns, dndState);\n  const sticky = [];\n\n  for (const c of mappedCols) {\n    if (c.sticky) {\n      sticky.push(c);\n    } else {\n      break;\n    }\n  }\n\n  if (sticky.length > 0) {\n    for (const c of sticky) {\n      width -= c.width;\n    }\n  }\n\n  let endIndex = cellXOffset;\n  let curX = tx !== null && tx !== void 0 ? tx : 0;\n\n  while (curX <= width && endIndex < mappedCols.length) {\n    curX += mappedCols[endIndex].width;\n    endIndex++;\n  }\n\n  for (let i = cellXOffset; i < endIndex; i++) {\n    const c = mappedCols[i];\n\n    if (!c.sticky) {\n      sticky.push(c);\n    }\n  }\n\n  return sticky;\n}\nexport function getColumnIndexForX(targetX, effectiveColumns, translateX) {\n  let x = 0;\n\n  for (const c of effectiveColumns) {\n    const cx = c.sticky ? x : x + (translateX !== null && translateX !== void 0 ? translateX : 0);\n\n    if (targetX <= cx + c.width) {\n      return c.sourceIndex;\n    }\n\n    x += c.width;\n  }\n\n  return -1;\n}\nexport function getRowIndexForY(targetY, height, hasGroups, headerHeight, groupHeaderHeight, rows, rowHeight, cellYOffset, translateY, lastRowSticky) {\n  const totalHeaderHeight = headerHeight + groupHeaderHeight;\n  if (hasGroups && targetY <= groupHeaderHeight) return -2;\n  if (targetY <= totalHeaderHeight) return -1;\n  const lastRowHeight = typeof rowHeight === \"number\" ? rowHeight : rowHeight(rows - 1);\n\n  if (lastRowSticky && targetY > height - lastRowHeight) {\n    return rows - 1;\n  }\n\n  const effectiveRows = rows - (lastRowSticky ? 1 : 0);\n  const ty = targetY - (translateY !== null && translateY !== void 0 ? translateY : 0);\n\n  if (typeof rowHeight === \"number\") {\n    const target = Math.floor((ty - totalHeaderHeight) / rowHeight) + cellYOffset;\n    if (target >= effectiveRows) return undefined;\n    return target;\n  } else {\n    let curY = totalHeaderHeight;\n\n    for (let i = cellYOffset; i < effectiveRows; i++) {\n      const rh = rowHeight(i);\n      if (ty <= curY + rh) return i;\n      curY += rh;\n    }\n\n    return undefined;\n  }\n}\nlet metricsSize = 0;\nlet metricsCache = {};\n\nasync function clearCacheOnLoad() {\n  var _document, _document$fonts;\n\n  if (((_document = document) === null || _document === void 0 ? void 0 : (_document$fonts = _document.fonts) === null || _document$fonts === void 0 ? void 0 : _document$fonts.ready) === undefined) return;\n  await document.fonts.ready;\n  metricsSize = 0;\n  metricsCache = {};\n}\n\nvoid clearCacheOnLoad();\n\nfunction makeCacheKey(s, ctx, baseline, font) {\n  return `${s}_${font !== null && font !== void 0 ? font : ctx.font}_${baseline}`;\n}\n\nexport function measureTextCached(s, ctx, font) {\n  const key = makeCacheKey(s, ctx, \"middle\", font);\n  let metrics = metricsCache[key];\n\n  if (metrics === undefined) {\n    metrics = ctx.measureText(s);\n    metricsCache[key] = metrics;\n    metricsSize++;\n  }\n\n  if (metricsSize > 10000) {\n    metricsCache = {};\n    metricsSize = 0;\n  }\n\n  return metrics;\n}\nexport function getMiddleCenterBias(ctx, font) {\n  if (typeof font !== \"string\") {\n    font = `${font.baseFontStyle} ${font.fontFamily}`;\n  }\n\n  return getMiddleCenterBiasInner(ctx, font);\n}\n\nfunction loadMetric(ctx, baseline) {\n  const sample = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n  ctx.save();\n  ctx.textBaseline = baseline;\n  const result = ctx.measureText(sample);\n  ctx.restore();\n  return result;\n}\n\nconst biasCache = [];\n\nfunction getMiddleCenterBiasInner(ctx, font) {\n  for (const x of biasCache) {\n    if (x.key === font) return x.val;\n  }\n\n  const alphabeticMetrics = loadMetric(ctx, \"alphabetic\");\n  const middleMetrics = loadMetric(ctx, \"middle\");\n  const bias = -(middleMetrics.actualBoundingBoxDescent - alphabeticMetrics.actualBoundingBoxDescent) + alphabeticMetrics.actualBoundingBoxAscent / 2;\n  biasCache.push({\n    key: font,\n    val: bias\n  });\n  return bias;\n}\n\nexport function drawWithLastUpdate(args, lastUpdate, frameTime, lastPrep, draw) {\n  const {\n    ctx,\n    x,\n    y,\n    w: width,\n    h: height,\n    theme\n  } = args;\n  let progress = Number.MAX_SAFE_INTEGER;\n  const animTime = 500;\n\n  if (lastUpdate !== undefined) {\n    progress = frameTime - lastUpdate;\n\n    if (progress < animTime) {\n      const fade = 1 - progress / animTime;\n      ctx.globalAlpha = fade;\n      ctx.fillStyle = theme.bgSearchResult;\n      ctx.fillRect(x, y, width, height);\n      ctx.globalAlpha = 1;\n\n      if (lastPrep !== undefined) {\n        lastPrep.fillStyle = theme.bgSearchResult;\n      }\n    }\n  }\n\n  draw();\n  return progress < animTime;\n}\nexport function prepTextCell(args, lastPrep, overrideColor) {\n  const {\n    ctx,\n    theme\n  } = args;\n  const result = lastPrep !== null && lastPrep !== void 0 ? lastPrep : {};\n  const newFill = overrideColor !== null && overrideColor !== void 0 ? overrideColor : theme.textDark;\n\n  if (newFill !== result.fillStyle) {\n    ctx.fillStyle = newFill;\n    result.fillStyle = newFill;\n  }\n\n  return result;\n}\nexport function drawTextCell(args, data, contentAlign) {\n  const {\n    ctx,\n    x,\n    y,\n    w,\n    h,\n    theme\n  } = args;\n\n  if (data.includes(\"\\n\")) {\n    data = data.split(/\\r?\\n/)[0];\n  }\n\n  const max = w / 4;\n\n  if (data.length > max) {\n    data = data.slice(0, max);\n  }\n\n  if (data.length > 0) {\n    let changed = false;\n\n    if (contentAlign === undefined && direction(data) === \"rtl\") {\n      ctx.textAlign = \"right\";\n      changed = true;\n    } else if (contentAlign !== undefined && contentAlign !== \"left\") {\n      ctx.textAlign = contentAlign;\n      changed = true;\n    }\n\n    const bias = getMiddleCenterBias(ctx, theme);\n\n    if (contentAlign === \"right\") {\n      ctx.fillText(data, x + w - (theme.cellHorizontalPadding + 0.5), y + h / 2 + bias);\n    } else if (contentAlign === \"center\") {\n      ctx.fillText(data, x + w / 2, y + h / 2 + bias);\n    } else {\n      ctx.fillText(data, x + theme.cellHorizontalPadding + 0.5, y + h / 2 + bias);\n    }\n\n    if (changed) {\n      ctx.textAlign = \"start\";\n    }\n  }\n}\nexport function drawNewRowCell(args, data, icon) {\n  const {\n    ctx,\n    x,\n    y,\n    w,\n    h,\n    hoverAmount,\n    theme,\n    spriteManager\n  } = args;\n  ctx.beginPath();\n  ctx.globalAlpha = hoverAmount;\n  ctx.rect(x, y, w, h);\n  ctx.fillStyle = theme.bgHeaderHovered;\n  ctx.fill();\n  ctx.globalAlpha = 1;\n  ctx.beginPath();\n  const alwaysShowIcon = data !== \"\";\n\n  if (icon !== undefined) {\n    const padding = 8;\n    const size = h - padding;\n    const px = x + padding / 2;\n    const py = y + padding / 2;\n    spriteManager.drawSprite(icon, \"normal\", ctx, px, py, size, theme, alwaysShowIcon ? 1 : hoverAmount);\n  } else {\n    const finalLineSize = 12;\n    const lineSize = alwaysShowIcon ? finalLineSize : hoverAmount * finalLineSize;\n    const xTranslate = alwaysShowIcon ? 0 : (1 - hoverAmount) * finalLineSize * 0.5;\n    const padPlus = theme.cellHorizontalPadding + 4;\n\n    if (lineSize > 0) {\n      ctx.moveTo(x + padPlus + xTranslate, y + h / 2);\n      ctx.lineTo(x + padPlus + xTranslate + lineSize, y + h / 2);\n      ctx.moveTo(x + padPlus + xTranslate + lineSize * 0.5, y + h / 2 - lineSize * 0.5);\n      ctx.lineTo(x + padPlus + xTranslate + lineSize * 0.5, y + h / 2 + lineSize * 0.5);\n      ctx.lineWidth = 2;\n      ctx.strokeStyle = theme.bgIconHeader;\n      ctx.lineCap = \"round\";\n      ctx.stroke();\n    }\n  }\n\n  ctx.fillStyle = theme.textMedium;\n  ctx.fillText(data, 24 + x + theme.cellHorizontalPadding + 0.5, y + h / 2 + getMiddleCenterBias(ctx, theme));\n  ctx.beginPath();\n}\n\nfunction drawCheckbox(ctx, theme, checked, x, y, width, height, highlighted) {\n  let hoverX = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : -20;\n  let hoverY = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : -20;\n  const centerX = x + width / 2;\n  const centerY = y + height / 2;\n  const hovered = Math.abs(hoverX - width / 2) < 10 && Math.abs(hoverY - height / 2) < 10;\n\n  switch (checked) {\n    case true:\n      {\n        ctx.beginPath();\n        roundedRect(ctx, centerX - 9, centerY - 9, 18, 18, 4);\n        ctx.fillStyle = highlighted ? theme.accentColor : theme.textMedium;\n        ctx.fill();\n        ctx.beginPath();\n        ctx.moveTo(centerX - 8 + 3.65005, centerY - 8 + 7.84995);\n        ctx.lineTo(centerX - 8 + 6.37587, centerY - 8 + 10.7304);\n        ctx.lineTo(centerX - 8 + 11.9999, centerY - 8 + 4.74995);\n        ctx.strokeStyle = theme.bgCell;\n        ctx.lineJoin = \"round\";\n        ctx.lineCap = \"round\";\n        ctx.lineWidth = 1.9;\n        ctx.stroke();\n        break;\n      }\n\n    case BooleanEmpty:\n    case false:\n      {\n        ctx.beginPath();\n        roundedRect(ctx, centerX - 8.5, centerY - 8.5, 17, 17, 4);\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = hovered ? theme.textDark : theme.textMedium;\n        ctx.stroke();\n        break;\n      }\n\n    case BooleanIndeterminate:\n      {\n        ctx.beginPath();\n        roundedRect(ctx, centerX - 8.5, centerY - 8.5, 17, 17, 4);\n        ctx.fillStyle = hovered ? theme.textMedium : theme.textLight;\n        ctx.fill();\n        ctx.beginPath();\n        ctx.moveTo(centerX - 4, centerY);\n        ctx.lineTo(centerX + 4, centerY);\n        ctx.strokeStyle = theme.bgCell;\n        ctx.lineCap = \"round\";\n        ctx.lineWidth = 1.9;\n        ctx.stroke();\n        break;\n      }\n\n    default:\n      assertNever(checked);\n  }\n}\n\nexport function prepMarkerRowCell(args, lastPrep) {\n  const {\n    ctx,\n    theme\n  } = args;\n  const newFont = `9px ${theme.fontFamily}`;\n  const result = lastPrep !== null && lastPrep !== void 0 ? lastPrep : {};\n\n  if ((result === null || result === void 0 ? void 0 : result.font) !== newFont) {\n    ctx.font = newFont;\n    result.font = newFont;\n  }\n\n  ctx.textAlign = \"center\";\n  return result;\n}\nexport function deprepMarkerRowCell(args) {\n  const {\n    ctx\n  } = args;\n  ctx.textAlign = \"start\";\n}\nexport function drawMarkerRowCell(args, index, checked, markerKind) {\n  const {\n    ctx,\n    x,\n    y,\n    w: width,\n    h: height,\n    hoverAmount,\n    theme\n  } = args;\n  const checkedboxAlpha = checked ? 1 : hoverAmount;\n\n  if (markerKind !== \"number\" && checkedboxAlpha > 0) {\n    ctx.globalAlpha = checkedboxAlpha;\n    drawCheckbox(ctx, theme, checked, x, y, width, height, true);\n    ctx.globalAlpha = 1;\n  }\n\n  if (markerKind === \"number\" || markerKind === \"both\" && !checked) {\n    const text = index.toString();\n    const start = x + width / 2;\n\n    if (markerKind === \"both\" && hoverAmount !== 0) {\n      ctx.globalAlpha = 1 - hoverAmount;\n    }\n\n    ctx.fillStyle = theme.textLight;\n    ctx.fillText(text, start, y + height / 2 + getMiddleCenterBias(ctx, `9px ${theme.fontFamily}`));\n\n    if (hoverAmount !== 0) {\n      ctx.globalAlpha = 1;\n    }\n  }\n}\nexport function drawProtectedCell(args) {\n  const {\n    ctx,\n    theme,\n    x,\n    y,\n    w,\n    h,\n    highlighted\n  } = args;\n\n  if (!highlighted) {\n    ctx.beginPath();\n    ctx.rect(x + 1, y + 1, w - 1, h - 1);\n    ctx.fillStyle = theme.bgCellMedium;\n    ctx.fill();\n  }\n\n  ctx.beginPath();\n  const radius = 2.5;\n  let xStart = x + theme.cellHorizontalPadding + radius;\n  const center = y + h / 2;\n  const p = Math.cos(degreesToRadians(30)) * radius;\n  const q = Math.sin(degreesToRadians(30)) * radius;\n\n  for (let i = 0; i < 12; i++) {\n    ctx.moveTo(xStart, center - radius);\n    ctx.lineTo(xStart, center + radius);\n    ctx.moveTo(xStart + p, center - q);\n    ctx.lineTo(xStart - p, center + q);\n    ctx.moveTo(xStart - p, center - q);\n    ctx.lineTo(xStart + p, center + q);\n    xStart += 8;\n  }\n\n  ctx.lineWidth = 1.1;\n  ctx.lineCap = \"square\";\n  ctx.strokeStyle = theme.textLight;\n  ctx.stroke();\n}\n\nfunction roundedRect(ctx, x, y, width, height, radius) {\n  if (typeof radius === \"number\") {\n    radius = {\n      tl: radius,\n      tr: radius,\n      br: radius,\n      bl: radius\n    };\n  }\n\n  ctx.moveTo(x + radius.tl, y);\n  ctx.arcTo(x + width, y, x + width, y + radius.tr, radius.tr);\n  ctx.arcTo(x + width, y + height, x + width - radius.br, y + height, radius.br);\n  ctx.arcTo(x, y + height, x, y + height - radius.bl, radius.bl);\n  ctx.arcTo(x, y, x + radius.tl, y, radius.tl);\n}\n\nexport function drawBoolean(args, data, canEdit) {\n  if (!canEdit && data === BooleanEmpty) {\n    return;\n  }\n\n  const {\n    ctx,\n    hoverAmount,\n    theme,\n    x,\n    y,\n    w,\n    h,\n    highlighted,\n    hoverX,\n    hoverY\n  } = args;\n  const hoverEffect = 0.35;\n  let alpha = canEdit ? 1 - hoverEffect + hoverEffect * hoverAmount : 0.4;\n\n  if (data === BooleanEmpty) {\n    alpha *= hoverAmount;\n  }\n\n  if (alpha === 0) {\n    return;\n  }\n\n  ctx.globalAlpha = alpha;\n  drawCheckbox(ctx, theme, data, x, y, w, h, highlighted, hoverX, hoverY);\n  ctx.globalAlpha = 1;\n}\nconst itemMargin = 4;\nexport function drawBubbles(args, data) {\n  const {\n    x,\n    y,\n    w,\n    h,\n    theme,\n    ctx,\n    highlighted\n  } = args;\n  const bubbleHeight = 20;\n  const bubblePad = 8;\n  const bubbleMargin = itemMargin;\n  let renderX = x + theme.cellHorizontalPadding;\n  const renderBoxes = [];\n\n  for (const s of data) {\n    if (renderX > x + w) break;\n    const textWidth = measureTextCached(s, ctx, `${theme.baseFontStyle} ${theme.fontFamily}`).width;\n    renderBoxes.push({\n      x: renderX,\n      width: textWidth\n    });\n    renderX += textWidth + bubblePad * 2 + bubbleMargin;\n  }\n\n  ctx.beginPath();\n  renderBoxes.forEach(rectInfo => {\n    roundedRect(ctx, rectInfo.x, y + (h - bubbleHeight) / 2, rectInfo.width + bubblePad * 2, bubbleHeight, bubbleHeight / 2);\n  });\n  ctx.fillStyle = highlighted ? theme.bgBubbleSelected : theme.bgBubble;\n  ctx.fill();\n  renderBoxes.forEach((rectInfo, i) => {\n    ctx.beginPath();\n    ctx.fillStyle = theme.textBubble;\n    ctx.fillText(data[i], rectInfo.x + bubblePad, y + h / 2 + getMiddleCenterBias(ctx, theme));\n  });\n}\nconst drilldownCache = {};\n\nfunction getAndCacheDrilldownBorder(bgCell, border) {\n  const dpr = Math.ceil(window.devicePixelRatio);\n  const targetHeight = 24;\n  const shadowBlur = 5;\n  const middleWidth = 4;\n  const innerHeight = (targetHeight + shadowBlur * 2) * dpr;\n  const innerWidth = innerHeight + middleWidth * dpr;\n  const sideWidth = innerHeight / 2;\n  const key = `${bgCell},${border},${dpr}`;\n\n  if (drilldownCache[key] !== undefined) {\n    return {\n      el: drilldownCache[key],\n      height: innerHeight,\n      width: innerWidth,\n      middleWidth: middleWidth * dpr,\n      sideWidth\n    };\n  }\n\n  const canvas = document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  if (ctx === null) return null;\n  canvas.width = innerWidth;\n  canvas.height = innerHeight;\n  ctx.scale(dpr, dpr);\n  drilldownCache[key] = canvas;\n  ctx.beginPath();\n  roundedRect(ctx, shadowBlur, shadowBlur, targetHeight + middleWidth, targetHeight, 6);\n  ctx.shadowColor = \"rgba(24, 25, 34, 0.4)\";\n  ctx.shadowBlur = 1;\n  ctx.fillStyle = bgCell;\n  ctx.fill();\n  ctx.shadowColor = \"rgba(24, 25, 34, 0.3)\";\n  ctx.shadowOffsetY = 1;\n  ctx.shadowBlur = 5;\n  ctx.fillStyle = bgCell;\n  ctx.fill();\n  ctx.shadowOffsetY = 0;\n  ctx.shadowBlur = 0;\n  ctx.shadowBlur = 0;\n  ctx.beginPath();\n  roundedRect(ctx, shadowBlur + 0.5, shadowBlur + 0.5, targetHeight + middleWidth, targetHeight, 6);\n  ctx.strokeStyle = border;\n  ctx.lineWidth = 1;\n  ctx.stroke();\n  return {\n    el: canvas,\n    height: innerHeight,\n    width: innerWidth,\n    sideWidth,\n    middleWidth: middleWidth * dpr\n  };\n}\n\nexport function drawDrilldownCell(args, data) {\n  const {\n    x,\n    y,\n    w,\n    h,\n    theme,\n    ctx,\n    imageLoader,\n    col,\n    row\n  } = args;\n  const bubbleHeight = 24;\n  const bubblePad = 8;\n  const bubbleMargin = itemMargin;\n  let renderX = x + theme.cellHorizontalPadding;\n  const tileMap = getAndCacheDrilldownBorder(theme.bgCell, theme.drilldownBorder);\n  const renderBoxes = [];\n\n  for (const el of data) {\n    if (renderX > x + w) break;\n    const textWidth = measureTextCached(el.text, ctx, `${theme.baseFontStyle} ${theme.fontFamily}`).width;\n    let imgWidth = 0;\n\n    if (el.img !== undefined) {\n      const img = imageLoader.loadOrGetImage(el.img, col, row);\n\n      if (img !== undefined) {\n        imgWidth = bubbleHeight - 8 + 4;\n      }\n    }\n\n    const renderWidth = textWidth + imgWidth + bubblePad * 2;\n    renderBoxes.push({\n      x: renderX,\n      width: renderWidth\n    });\n    renderX += renderWidth + bubbleMargin;\n  }\n\n  if (tileMap !== null) {\n    const {\n      el,\n      height,\n      middleWidth,\n      sideWidth,\n      width\n    } = tileMap;\n    renderBoxes.forEach(rectInfo => {\n      const rx = Math.floor(rectInfo.x);\n      const rw = Math.floor(rectInfo.width);\n      ctx.imageSmoothingEnabled = false;\n      const maxSideWidth = Math.min(17, rw / 2 + 5);\n      ctx.drawImage(el, 0, 0, sideWidth, height, rx - 5, y + h / 2 - 17, maxSideWidth, 34);\n      if (rectInfo.width > 24) ctx.drawImage(el, sideWidth, 0, middleWidth, height, rx + 12, y + h / 2 - 17, rw - 24, 34);\n      ctx.drawImage(el, width - sideWidth, 0, sideWidth, height, rx + rw - (maxSideWidth - 5), y + h / 2 - 17, maxSideWidth, 34);\n      ctx.imageSmoothingEnabled = true;\n    });\n  }\n\n  ctx.beginPath();\n  renderBoxes.forEach((rectInfo, i) => {\n    const d = data[i];\n    let drawX = rectInfo.x + bubblePad;\n\n    if (d.img !== undefined) {\n      const img = imageLoader.loadOrGetImage(d.img, col, row);\n\n      if (img !== undefined) {\n        const imgSize = bubbleHeight - 8;\n        let srcX = 0;\n        let srcY = 0;\n        let srcWidth = img.width;\n        let srcHeight = img.height;\n\n        if (srcWidth > srcHeight) {\n          srcX += (srcWidth - srcHeight) / 2;\n          srcWidth = srcHeight;\n        } else if (srcHeight > srcWidth) {\n          srcY += (srcHeight - srcWidth) / 2;\n          srcHeight = srcWidth;\n        }\n\n        ctx.beginPath();\n        roundedRect(ctx, drawX, y + h / 2 - imgSize / 2, imgSize, imgSize, 3);\n        ctx.save();\n        ctx.clip();\n        ctx.drawImage(img, srcX, srcY, srcWidth, srcHeight, drawX, y + h / 2 - imgSize / 2, imgSize, imgSize);\n        ctx.restore();\n        drawX += imgSize + 4;\n      }\n    }\n\n    ctx.beginPath();\n    ctx.fillStyle = theme.textBubble;\n    ctx.fillText(d.text, drawX, y + h / 2 + getMiddleCenterBias(ctx, theme));\n  });\n}\nexport function drawImage(args, data) {\n  const {\n    x,\n    y,\n    h,\n    col,\n    row,\n    theme,\n    ctx,\n    imageLoader\n  } = args;\n  let drawX = x + theme.cellHorizontalPadding;\n\n  for (const i of data) {\n    if (i.length === 0) continue;\n    const img = imageLoader.loadOrGetImage(i, col, row);\n\n    if (img !== undefined) {\n      const imgHeight = h - theme.cellVerticalPadding * 2;\n      const imgWidth = img.width * (imgHeight / img.height);\n      roundedRect(ctx, drawX, y + theme.cellVerticalPadding, imgWidth, imgHeight, 4);\n      ctx.save();\n      ctx.clip();\n      ctx.drawImage(img, drawX, y + theme.cellVerticalPadding, imgWidth, imgHeight);\n      ctx.restore();\n      drawX += imgWidth + itemMargin;\n    }\n  }\n}\nexport function roundedPoly(ctx, points, radiusAll) {\n  const asVec = function (p, pp) {\n    const vx = pp.x - p.x;\n    const vy = pp.y - p.y;\n    const vlen = Math.sqrt(vx * vx + vy * vy);\n    const vnx = vx / vlen;\n    const vny = vy / vlen;\n    return {\n      x: vx,\n      y: pp.y - p.y,\n      len: vlen,\n      nx: vnx,\n      ny: vny,\n      ang: Math.atan2(vny, vnx)\n    };\n  };\n\n  let radius;\n  const len = points.length;\n  let p1 = points[len - 1];\n\n  for (let i = 0; i < len; i++) {\n    let p2 = points[i % len];\n    const p3 = points[(i + 1) % len];\n    const v1 = asVec(p2, p1);\n    const v2 = asVec(p2, p3);\n    const sinA = v1.nx * v2.ny - v1.ny * v2.nx;\n    const sinA90 = v1.nx * v2.nx - v1.ny * -v2.ny;\n    let angle = Math.asin(sinA < -1 ? -1 : sinA > 1 ? 1 : sinA);\n    let radDirection = 1;\n    let drawDirection = false;\n\n    if (sinA90 < 0) {\n      if (angle < 0) {\n        angle = Math.PI + angle;\n      } else {\n        angle = Math.PI - angle;\n        radDirection = -1;\n        drawDirection = true;\n      }\n    } else {\n      if (angle > 0) {\n        radDirection = -1;\n        drawDirection = true;\n      }\n    }\n\n    if (p2.radius !== undefined) {\n      radius = p2.radius;\n    } else {\n      radius = radiusAll;\n    }\n\n    const halfAngle = angle / 2;\n    let lenOut = Math.abs(Math.cos(halfAngle) * radius / Math.sin(halfAngle));\n    let cRadius;\n\n    if (lenOut > Math.min(v1.len / 2, v2.len / 2)) {\n      lenOut = Math.min(v1.len / 2, v2.len / 2);\n      cRadius = Math.abs(lenOut * Math.sin(halfAngle) / Math.cos(halfAngle));\n    } else {\n      cRadius = radius;\n    }\n\n    let x = p2.x + v2.nx * lenOut;\n    let y = p2.y + v2.ny * lenOut;\n    x += -v2.ny * cRadius * radDirection;\n    y += v2.nx * cRadius * radDirection;\n    ctx.arc(x, y, cRadius, v1.ang + Math.PI / 2 * radDirection, v2.ang - Math.PI / 2 * radDirection, drawDirection);\n    p1 = p2;\n    p2 = p3;\n  }\n\n  ctx.closePath();\n}\nexport function computeBounds(col, row, width, height, groupHeaderHeight, totalHeaderHeight, cellXOffset, cellYOffset, translateX, translateY, rows, freezeColumns, lastRowSticky, mappedColumns, rowHeight) {\n  const result = {\n    x: 0,\n    y: totalHeaderHeight + translateY,\n    width: 0,\n    height: 0\n  };\n  const headerHeight = totalHeaderHeight - groupHeaderHeight;\n\n  if (col >= freezeColumns) {\n    const dir = cellXOffset > col ? -1 : 1;\n    const freezeWidth = getStickyWidth(mappedColumns);\n    result.x += freezeWidth + translateX;\n\n    for (let i = cellXOffset; i !== col; i += dir) {\n      result.x += mappedColumns[dir === 1 ? i : i - 1].width * dir;\n    }\n  } else {\n    for (let i = 0; i < col; i++) {\n      result.x += mappedColumns[i].width;\n    }\n  }\n\n  result.width = mappedColumns[col].width + 1;\n\n  if (row === -1) {\n    result.y = groupHeaderHeight;\n    result.height = headerHeight;\n  } else if (row === -2) {\n    result.y = 0;\n    result.height = groupHeaderHeight;\n    let start = col;\n    const group = mappedColumns[col].group;\n    const sticky = mappedColumns[col].sticky;\n\n    while (start > 0 && isGroupEqual(mappedColumns[start - 1].group, group) && mappedColumns[start - 1].sticky === sticky) {\n      const c = mappedColumns[start - 1];\n      result.x -= c.width;\n      result.width += c.width;\n      start--;\n    }\n\n    let end = col;\n\n    while (end + 1 < mappedColumns.length && isGroupEqual(mappedColumns[end + 1].group, group) && mappedColumns[end + 1].sticky === sticky) {\n      const c = mappedColumns[end + 1];\n      result.width += c.width;\n      end++;\n    }\n\n    if (!sticky) {\n      const freezeWidth = getStickyWidth(mappedColumns);\n      const clip = result.x - freezeWidth;\n\n      if (clip < 0) {\n        result.x -= clip;\n        result.width += clip;\n      }\n\n      if (result.x + result.width > width) {\n        result.width = width - result.x;\n      }\n    }\n  } else if (lastRowSticky && row === rows - 1) {\n    const stickyHeight = typeof rowHeight === \"number\" ? rowHeight : rowHeight(row);\n    result.y = height - stickyHeight;\n    result.height = stickyHeight;\n  } else {\n    const dir = cellYOffset > row ? -1 : 1;\n\n    if (typeof rowHeight === \"number\") {\n      const delta = row - cellYOffset;\n      result.y += delta * rowHeight;\n    } else {\n      for (let r = cellYOffset; r !== row; r += dir) {\n        result.y += rowHeight(r) * dir;\n      }\n    }\n\n    result.height = (typeof rowHeight === \"number\" ? rowHeight : rowHeight(row)) + 1;\n  }\n\n  return result;\n}","import { drawBoolean } from \"../data-grid-lib.js\";\nimport { GridCellKind, booleanCellIsEditable } from \"../data-grid-types.js\";\nexport function toggleBoolean(data) {\n  return data !== true;\n}\nexport const booleanCellRenderer = {\n  getAccessibilityString: c => {\n    var _c$data$toString, _c$data;\n\n    return (_c$data$toString = (_c$data = c.data) === null || _c$data === void 0 ? void 0 : _c$data.toString()) !== null && _c$data$toString !== void 0 ? _c$data$toString : \"false\";\n  },\n  kind: GridCellKind.Boolean,\n  needsHover: true,\n  useLabel: false,\n  needsHoverPosition: true,\n  measure: () => 50,\n  render: a => drawBoolean(a, a.cell.data, booleanCellIsEditable(a.cell)),\n  onDelete: c => ({ ...c,\n    data: false\n  }),\n  onClick: (cell, x, y, bounds) => {\n    if (booleanCellIsEditable(cell) && Math.abs(x - bounds.width / 2) <= 10 && Math.abs(y - bounds.height / 2) <= 10) {\n      return { ...cell,\n        data: toggleBoolean(cell.data)\n      };\n    }\n\n    return undefined;\n  }\n};","import { styled } from \"../../common/styles.js\";\nexport const BubblesOverlayEditorStyle = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n\n    .boe-bubble {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        border-radius: 100px;\n\n        padding: 0 8px;\n        height: 20px;\n\n        background-color: ${p => p.theme.bgBubble};\n        color: ${p => p.theme.textDark};\n        margin: 2px;\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n`;","import * as React from \"react\";\nimport { BubblesOverlayEditorStyle } from \"./bubbles-overlay-editor-style.js\";\n\nconst BubblesOverlayEditor = p => {\n  const {\n    bubbles,\n    onKeyDown\n  } = p;\n  return React.createElement(BubblesOverlayEditorStyle, null, bubbles.map((b, i) => React.createElement(\"div\", {\n    key: i,\n    className: \"boe-bubble\"\n  }, b)), React.createElement(\"textarea\", {\n    className: \"gdg-input\",\n    autoFocus: true,\n    onKeyDown: onKeyDown\n  }));\n};\n\nexport default BubblesOverlayEditor;","import * as React from \"react\";\nimport BubblesOverlayEditor from \"../../data-grid-overlay-editor/private/bubbles-overlay-editor.js\";\nimport { drawBubbles } from \"../data-grid-lib.js\";\nimport { GridCellKind } from \"../data-grid-types.js\";\nexport const bubbleCellRenderer = {\n  getAccessibilityString: c => {\n    var _c$data$toString, _c$data;\n\n    return (_c$data$toString = (_c$data = c.data) === null || _c$data === void 0 ? void 0 : _c$data.toString()) !== null && _c$data$toString !== void 0 ? _c$data$toString : \"\";\n  },\n  kind: GridCellKind.Bubble,\n  needsHover: false,\n  useLabel: false,\n  needsHoverPosition: false,\n  measure: (ctx, cell) => cell.data.reduce((acc, data) => ctx.measureText(data).width + acc, 0) + 16,\n  render: a => drawBubbles(a, a.cell.data),\n  getEditor: () => p => {\n    const {\n      onKeyDown,\n      value\n    } = p;\n    return React.createElement(BubblesOverlayEditor, {\n      bubbles: value.data,\n      onKeyDown: onKeyDown\n    });\n  }\n};","import * as React from \"react\";\nimport { styled } from \"../../common/styles.js\";\nconst DrilldownOverlayEditorStyle = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n\n    .doe-bubble {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        border-radius: 100px;\n\n        padding: 0 8px;\n        height: 24px;\n\n        background-color: ${p => p.theme.bgCell};\n        color: ${p => p.theme.textDark};\n        margin: 2px;\n\n        border-radius: 6px;\n\n        box-shadow: 0 0 1px rgba(62, 65, 86, 0.4), 0 1px 3px rgba(62, 65, 86, 0.4);\n\n        img {\n            height: 16px;\n            object-fit: contain;\n\n            margin-right: 4px;\n        }\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n`;\n\nconst DrilldownOverlayEditor = p => {\n  const {\n    drilldowns,\n    onKeyDown\n  } = p;\n  return React.createElement(DrilldownOverlayEditorStyle, null, drilldowns.map((d, i) => React.createElement(\"div\", {\n    key: i,\n    className: \"doe-bubble\"\n  }, d.img !== undefined && React.createElement(\"img\", {\n    src: d.img\n  }), React.createElement(\"div\", null, d.text))), React.createElement(\"textarea\", {\n    className: \"gdg-input\",\n    autoFocus: true,\n    onKeyDown: onKeyDown\n  }));\n};\n\nexport default DrilldownOverlayEditor;","import * as React from \"react\";\nimport DrilldownOverlayEditor from \"../../data-grid-overlay-editor/private/drilldown-overlay-editor.js\";\nimport { drawDrilldownCell } from \"../data-grid-lib.js\";\nimport { GridCellKind } from \"../data-grid-types.js\";\nexport const drilldownCellRenderer = {\n  getAccessibilityString: c => c.data.map(d => d.text).join(\", \"),\n  kind: GridCellKind.Drilldown,\n  needsHover: false,\n  useLabel: false,\n  needsHoverPosition: false,\n  measure: (ctx, cell) => {\n    return cell.data.reduce((acc, data) => ctx.measureText(data.text).width + (data.img === undefined ? 0 : 20) + acc, 0) + 16;\n  },\n  render: a => drawDrilldownCell(a, a.cell.data),\n  getEditor: () => p => {\n    const {\n      onKeyDown,\n      value\n    } = p;\n    return React.createElement(DrilldownOverlayEditor, {\n      drilldowns: value.data,\n      onKeyDown: onKeyDown\n    });\n  }\n};","import { styled } from \"../../common/styles.js\";\nexport const ImageOverlayEditorStyle = styled.div`\n    display: flex;\n\n    height: 100%;\n\n    .centering-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        height: 100%;\n\n        img,\n        canvas {\n            max-height: calc(100vh - var(--overlay-top) - 20px);\n            object-fit: contain;\n            user-select: none;\n        }\n\n        canvas {\n            max-width: 380px;\n        }\n    }\n\n    .edit-icon {\n        position: absolute;\n        top: 12px;\n        right: 0;\n        width: 48px;\n        height: 48px;\n        color: ${p => p.theme.accentColor};\n\n        cursor: pointer;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        > * {\n            width: 24px;\n            height: 24px;\n        }\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n`;","import * as React from \"react\";\nimport { ImageOverlayEditorStyle } from \"./image-overlay-editor-style.js\";\nimport { Carousel } from \"react-responsive-carousel\";\nimport { EditPencil } from \"../../common/utils.js\";\n\nconst ImageOverlayEditor = p => {\n  const {\n    urls,\n    canWrite,\n    onKeyDown,\n    onEditClick,\n    renderImage\n  } = p;\n  const filtered = urls.filter(u => u !== \"\");\n\n  if (filtered.length === 0) {\n    return null;\n  }\n\n  const allowMove = filtered.length > 1;\n  return React.createElement(ImageOverlayEditorStyle, {\n    onKeyDown: onKeyDown,\n    \"data-testid\": \"GDG-default-image-overlay-editor\"\n  }, React.createElement(Carousel, {\n    showArrows: allowMove,\n    showThumbs: false,\n    swipeable: allowMove,\n    emulateTouch: allowMove,\n    infiniteLoop: allowMove\n  }, filtered.map(url => {\n    var _renderImage;\n\n    const innerContent = (_renderImage = renderImage === null || renderImage === void 0 ? void 0 : renderImage(url)) !== null && _renderImage !== void 0 ? _renderImage : React.createElement(\"img\", {\n      draggable: false,\n      src: url\n    });\n    return React.createElement(\"div\", {\n      className: \"centering-container\",\n      key: url\n    }, innerContent);\n  })), canWrite && onEditClick && React.createElement(\"button\", {\n    className: \"edit-icon\",\n    onClick: onEditClick\n  }, React.createElement(EditPencil, null)), React.createElement(\"textarea\", {\n    className: \"gdg-input\",\n    autoFocus: true,\n    onKeyDown: onKeyDown\n  }));\n};\n\nexport default ImageOverlayEditor;","import * as React from \"react\";\nimport ImageOverlayEditor from \"../../data-grid-overlay-editor/private/image-overlay-editor.js\";\nimport { drawImage } from \"../data-grid-lib.js\";\nimport { GridCellKind } from \"../data-grid-types.js\";\nexport const imageCellRenderer = {\n  getAccessibilityString: c => c.data.join(\", \"),\n  kind: GridCellKind.Image,\n  needsHover: false,\n  useLabel: false,\n  needsHoverPosition: false,\n  render: a => {\n    var _a$cell$displayData;\n\n    return drawImage(a, (_a$cell$displayData = a.cell.displayData) !== null && _a$cell$displayData !== void 0 ? _a$cell$displayData : a.cell.data);\n  },\n  measure: (_ctx, cell) => cell.data.length * 50,\n  onDelete: c => ({ ...c,\n    data: []\n  }),\n  getEditor: () => p => {\n    const {\n      onKeyDown,\n      value,\n      onFinishedEditing,\n      imageEditorOverride\n    } = p;\n    const ImageEditor = imageEditorOverride !== null && imageEditorOverride !== void 0 ? imageEditorOverride : ImageOverlayEditor;\n    return React.createElement(ImageEditor, {\n      urls: value.data,\n      canWrite: value.allowAdd,\n      onCancel: onFinishedEditing,\n      onChange: newImage => {\n        onFinishedEditing({ ...value,\n          data: [newImage]\n        });\n      },\n      onKeyDown: onKeyDown\n    });\n  }\n};","import { GridCellKind } from \"../data-grid-types.js\";\nexport const loadingCellRenderer = {\n  getAccessibilityString: () => \"\",\n  kind: GridCellKind.Loading,\n  needsHover: false,\n  useLabel: false,\n  needsHoverPosition: false,\n  measure: () => 150,\n  render: () => undefined\n};","import styled from \"styled-components\";\nexport const MarkdownContainer = styled.div.withConfig({\n  displayName: \"markdown-container__MarkdownContainer\",\n  componentId: \"sc-rncfxa-0\"\n})([\"word-break:break-word;-webkit-touch-callout:default;padding-top:6px;> *{margin:0;}& *:last-child{margin-bottom:0;}& p img{width:100%;}\"]);","import React from \"react\";\nimport { marked } from \"marked\";\nimport { MarkdownContainer } from \"./private/markdown-container.js\";\nexport default class MarkdownDiv extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.targetElement = null;\n\n    this.containerRefHook = element => {\n      this.targetElement = element;\n      this.renderMarkdownIntoDiv();\n    };\n  }\n\n  renderMarkdownIntoDiv() {\n    const {\n      targetElement\n    } = this;\n    if (targetElement === null) return;\n    const {\n      contents,\n      createNode\n    } = this.props;\n    const innerHTML = marked(contents);\n    const childRange = document.createRange();\n    childRange.selectNodeContents(targetElement);\n    childRange.deleteContents();\n    let newChild = createNode === null || createNode === void 0 ? void 0 : createNode(innerHTML);\n\n    if (newChild === undefined) {\n      const childDoc = document.createElement(\"template\");\n      childDoc.innerHTML = innerHTML;\n      newChild = childDoc.content;\n    }\n\n    targetElement.appendChild(newChild);\n    const tags = targetElement.getElementsByTagName(\"a\");\n\n    for (let i = 0; i < tags.length; i++) {\n      const tag = tags[i];\n      tag.target = \"_blank\";\n      tag.rel = \"noreferrer noopener\";\n    }\n  }\n\n  render() {\n    this.renderMarkdownIntoDiv();\n    return React.createElement(MarkdownContainer, {\n      ref: this.containerRefHook\n    });\n  }\n\n}","import { styled } from \"../common/styles.js\";\nimport { css } from \"styled-components\";\nconst inputProps = css([\"font-size:\", \";line-height:16px;font-family:\", \";color:\", \";padding:0;margin:0;\"], p => p.theme.editorFontSize, p => p.theme.fontFamily, p => p.theme.textDark);\nexport const InputBox = styled.textarea`\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n\n    border-radius: 0px;\n\n    resize: none;\n    white-space: pre-wrap;\n    min-width: 100%;\n    overflow: hidden;\n    border: 0;\n    background-color: transparent;\n\n    ::placeholder {\n        color: ${p => p.theme.textLight};\n    }\n\n    ${inputProps}\n`;\nexport const ShadowBox = styled.div`\n    visibility: hidden;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n\n    width: max-content;\n    max-width: 100%;\n\n    min-width: 100%;\n\n    ${inputProps}\n\n    padding-bottom: 2px;\n`;\nexport const GrowingEntryStyle = styled.div`\n    position: relative;\n    margin-top: 6px;\n`;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\nimport { GrowingEntryStyle, ShadowBox, InputBox } from \"./growing-entry-style.js\";\nimport { assert } from \"../common/support.js\";\n\nconst GrowingEntry = props => {\n  var _rest$className;\n\n  const {\n    placeholder,\n    value,\n    onKeyDown,\n    highlight,\n    altNewline,\n    ...rest\n  } = props;\n  const {\n    onChange,\n    className\n  } = rest;\n  const inputRef = React.useRef(null);\n  const useText = value !== null && value !== void 0 ? value : \"\";\n  assert(onChange !== undefined, \"GrowingEntry must be a controlled input area\");\n  React.useEffect(() => {\n    const ta = inputRef.current;\n    if (ta === null) return;\n    if (ta.disabled) return;\n    const length = useText.toString().length;\n    ta.focus();\n    ta.setSelectionRange(highlight ? 0 : length, length);\n  }, []);\n  const onKeyDownInner = React.useCallback(e => {\n    if (e.key === \"Enter\" && e.shiftKey && altNewline === true) {\n      return;\n    }\n\n    onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(e);\n  }, [altNewline, onKeyDown]);\n  return React.createElement(GrowingEntryStyle, null, React.createElement(ShadowBox, {\n    className: className\n  }, useText + \"\\n\"), React.createElement(InputBox, _extends({}, rest, {\n    className: ((_rest$className = rest.className) !== null && _rest$className !== void 0 ? _rest$className : \"\") + \" gdg-input\",\n    ref: inputRef,\n    onKeyDown: onKeyDownInner,\n    value: useText,\n    placeholder: placeholder,\n    dir: \"auto\"\n  })));\n};\n\nexport default GrowingEntry;","import { GrowingEntryStyle } from \"../../growing-entry/growing-entry-style.js\";\nimport { styled } from \"../../common/styles.js\";\nexport const MarkdownOverlayEditorStyle = styled.div`\n    min-width: ${p => p.targetRect.width}px;\n    width: 100%;\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    position: relative;\n    color: ${p => p.theme.textDark};\n\n    ${GrowingEntryStyle} {\n        flex-shrink: 1;\n        min-width: 0;\n    }\n\n    .spacer {\n        flex: 1;\n    }\n\n    .edit-icon {\n        position: relative;\n        cursor: pointer;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        color: ${p => p.theme.accentColor};\n\n        padding: 0;\n\n        height: 24px;\n        width: 24px;\n        flex-shrink: 0;\n\n        transition: all \"0.125s ease\";\n\n        border-radius: 6px;\n\n        > * {\n            width: 16px;\n            height: 16px;\n        }\n    }\n\n    .edit-hover {\n        :hover {\n            background-color: ${p => p.theme.accentLight};\n            transition: background-color 150ms;\n        }\n    }\n\n    .checkmark-hover {\n        :hover {\n            color: #ffffff;\n            background-color: ${p => p.theme.accentColor};\n        }\n    }\n\n    .md-edit-textarea {\n        position: relative;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n        margin-top: 25px;\n        opacity: 0;\n        padding: 0;\n    }\n\n    .ml-6 {\n        margin-left: 6px;\n    }\n`;","import * as React from \"react\";\nimport MarkdownDiv from \"../../markdown-div/markdown-div.js\";\nimport GrowingEntry from \"../../growing-entry/growing-entry.js\";\nimport { MarkdownOverlayEditorStyle } from \"./markdown-overlay-editor-style.js\";\nimport { EditPencil, Checkmark } from \"../../common/utils.js\";\nexport const MarkdownOverlayEditor = p => {\n  const {\n    markdown,\n    onChange,\n    onKeyDown,\n    forceEditMode,\n    createNode,\n    targetRect,\n    readonly,\n    onFinish\n  } = p;\n  const [editMode, setEditMode] = React.useState(markdown === \"\" || forceEditMode);\n  const onEditClick = React.useCallback(() => {\n    setEditMode(e => !e);\n  }, []);\n  const addLeftPad = markdown ? \"ml-6\" : \"\";\n\n  if (editMode) {\n    return React.createElement(MarkdownOverlayEditorStyle, {\n      targetRect: targetRect\n    }, React.createElement(GrowingEntry, {\n      autoFocus: true,\n      highlight: false,\n      onKeyDown: e => {\n        if (e.key !== \"Enter\") {\n          onKeyDown(e);\n        }\n      },\n      value: markdown,\n      onChange: onChange\n    }), React.createElement(\"div\", {\n      className: `edit-icon checkmark-hover ${addLeftPad}`,\n      onClick: () => onFinish()\n    }, React.createElement(Checkmark, null)));\n  }\n\n  return React.createElement(MarkdownOverlayEditorStyle, {\n    targetRect: targetRect\n  }, React.createElement(MarkdownDiv, {\n    contents: markdown,\n    createNode: createNode\n  }), !readonly && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"spacer\"\n  }), React.createElement(\"div\", {\n    className: `edit-icon edit-hover ${addLeftPad}`,\n    onClick: onEditClick\n  }, React.createElement(EditPencil, null))), React.createElement(\"textarea\", {\n    className: \"md-edit-textarea gdg-input\",\n    autoFocus: true,\n    onKeyDown: onKeyDown\n  }));\n};","import * as React from \"react\";\nimport { MarkdownOverlayEditor } from \"../../data-grid-overlay-editor/private/markdown-overlay-editor.js\";\nimport { drawTextCell, prepTextCell } from \"../data-grid-lib.js\";\nimport { GridCellKind } from \"../data-grid-types.js\";\nexport const markdownCellRenderer = {\n  getAccessibilityString: c => {\n    var _c$data$toString, _c$data;\n\n    return (_c$data$toString = (_c$data = c.data) === null || _c$data === void 0 ? void 0 : _c$data.toString()) !== null && _c$data$toString !== void 0 ? _c$data$toString : \"\";\n  },\n  kind: GridCellKind.Markdown,\n  needsHover: false,\n  needsHoverPosition: false,\n  renderPrep: prepTextCell,\n  measure: () => 200,\n  render: a => drawTextCell(a, a.cell.data, a.cell.contentAlign),\n  onDelete: c => ({ ...c,\n    data: \"\"\n  }),\n  getEditor: () => p => {\n    const {\n      onChange,\n      onKeyDown,\n      value,\n      target,\n      onFinishedEditing,\n      markdownDivCreateNode,\n      forceEditMode\n    } = p;\n    return React.createElement(MarkdownOverlayEditor, {\n      onFinish: onFinishedEditing,\n      targetRect: target,\n      readonly: value.readonly === true,\n      markdown: value.data,\n      onKeyDown: onKeyDown,\n      onChange: e => onChange({ ...value,\n        data: e.target.value\n      }),\n      forceEditMode: forceEditMode,\n      createNode: markdownDivCreateNode\n    });\n  }\n};","import { deprepMarkerRowCell, drawMarkerRowCell, prepMarkerRowCell } from \"../data-grid-lib.js\";\nimport { InnerGridCellKind } from \"../data-grid-types.js\";\nexport const markerCellRenderer = {\n  getAccessibilityString: c => c.row.toString(),\n  kind: InnerGridCellKind.Marker,\n  needsHover: true,\n  needsHoverPosition: false,\n  renderPrep: prepMarkerRowCell,\n  renderDeprep: deprepMarkerRowCell,\n  measure: () => 44,\n  render: a => drawMarkerRowCell(a, a.cell.row, a.cell.checked, a.cell.markerKind)\n};","import { drawNewRowCell } from \"../data-grid-lib.js\";\nimport { InnerGridCellKind } from \"../data-grid-types.js\";\nexport const newRowCellRenderer = {\n  getAccessibilityString: () => \"\",\n  kind: InnerGridCellKind.NewRow,\n  needsHover: true,\n  needsHoverPosition: false,\n  measure: () => 200,\n  render: a => drawNewRowCell(a, a.cell.hint, a.cell.icon)\n};","import * as React from \"react\";\nimport { drawTextCell, prepTextCell } from \"../data-grid-lib.js\";\nimport { GridCellKind } from \"../data-grid-types.js\";\nconst NumberOverlayEditor = React.lazy(async () => await import(\"../../data-grid-overlay-editor/private/number-overlay-editor.js\"));\nexport const numberCellRenderer = {\n  getAccessibilityString: c => {\n    var _c$data$toString, _c$data;\n\n    return (_c$data$toString = (_c$data = c.data) === null || _c$data === void 0 ? void 0 : _c$data.toString()) !== null && _c$data$toString !== void 0 ? _c$data$toString : \"\";\n  },\n  kind: GridCellKind.Number,\n  needsHover: false,\n  needsHoverPosition: false,\n  useLabel: true,\n  renderPrep: prepTextCell,\n  render: a => drawTextCell(a, a.cell.displayData, a.cell.contentAlign),\n  measure: (ctx, cell) => ctx.measureText(cell.displayData).width + 16,\n  onDelete: c => ({ ...c,\n    data: undefined\n  }),\n  getEditor: () => p => {\n    const {\n      isHighlighted,\n      onChange,\n      onKeyDown,\n      value\n    } = p;\n    return React.createElement(React.Suspense, {\n      fallback: null\n    }, React.createElement(NumberOverlayEditor, {\n      highlight: isHighlighted,\n      disabled: value.readonly === true,\n      value: value.data,\n      onKeyDown: onKeyDown,\n      onChange: x => onChange({ ...value,\n        data: x.floatValue\n      })\n    }));\n  }\n};","import { drawProtectedCell } from \"../data-grid-lib.js\";\nimport { GridCellKind } from \"../data-grid-types.js\";\nexport const protectedCellRenderer = {\n  getAccessibilityString: () => \"\",\n  measure: () => 150,\n  kind: GridCellKind.Protected,\n  needsHover: false,\n  needsHoverPosition: false,\n  render: drawProtectedCell\n};","import React from \"react\";\nimport GrowingEntry from \"../../growing-entry/growing-entry.js\";\nimport { drawTextCell, prepTextCell } from \"../data-grid-lib.js\";\nimport { GridCellKind } from \"../data-grid-types.js\";\nexport const rowIDCellRenderer = {\n  getAccessibilityString: c => {\n    var _c$data$toString, _c$data;\n\n    return (_c$data$toString = (_c$data = c.data) === null || _c$data === void 0 ? void 0 : _c$data.toString()) !== null && _c$data$toString !== void 0 ? _c$data$toString : \"\";\n  },\n  kind: GridCellKind.RowID,\n  needsHover: false,\n  needsHoverPosition: false,\n  renderPrep: (a, b) => prepTextCell(a, b, a.theme.textLight),\n  render: a => drawTextCell(a, a.cell.data, a.cell.contentAlign),\n  measure: (ctx, cell) => ctx.measureText(cell.data).width + 16,\n  getEditor: () => p => {\n    const {\n      isHighlighted,\n      onChange,\n      onKeyDown,\n      value\n    } = p;\n    return React.createElement(GrowingEntry, {\n      highlight: isHighlighted,\n      autoFocus: value.readonly !== true,\n      disabled: value.readonly !== false,\n      onKeyDown: onKeyDown,\n      value: value.data,\n      onChange: e => onChange({ ...value,\n        data: e.target.value\n      })\n    });\n  }\n};","import * as React from \"react\";\nimport GrowingEntry from \"../../growing-entry/growing-entry.js\";\nimport { drawTextCell, prepTextCell } from \"../data-grid-lib.js\";\nimport { GridCellKind } from \"../data-grid-types.js\";\nexport const textCellRenderer = {\n  getAccessibilityString: c => {\n    var _c$data$toString, _c$data;\n\n    return (_c$data$toString = (_c$data = c.data) === null || _c$data === void 0 ? void 0 : _c$data.toString()) !== null && _c$data$toString !== void 0 ? _c$data$toString : \"\";\n  },\n  kind: GridCellKind.Text,\n  needsHover: false,\n  needsHoverPosition: false,\n  renderPrep: prepTextCell,\n  useLabel: true,\n  render: a => drawTextCell(a, a.cell.displayData, a.cell.contentAlign),\n  measure: (ctx, cell) => ctx.measureText(cell.displayData).width + 16,\n  onDelete: c => ({ ...c,\n    data: \"\"\n  }),\n  getEditor: () => p => {\n    const {\n      isHighlighted,\n      onChange,\n      onKeyDown,\n      value\n    } = p;\n    return React.createElement(GrowingEntry, {\n      highlight: isHighlighted,\n      autoFocus: value.readonly !== true,\n      disabled: value.readonly === true,\n      onKeyDown: onKeyDown,\n      altNewline: true,\n      value: value.data,\n      onChange: e => onChange({ ...value,\n        data: e.target.value\n      })\n    });\n  }\n};","import { styled } from \"../../common/styles.js\";\nexport const UriOverlayEditorStyle = styled.div`\n    display: flex;\n\n    flex-grow: 1;\n\n    align-items: center;\n\n    min-height: 21px;\n\n    .link-area {\n        flex-grow: 1;\n        flex-shrink: 1;\n\n        cursor: pointer;\n\n        margin-right: 8px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n\n        color: ${p => p.theme.linkColor};\n        text-decoration: underline !important;\n    }\n\n    .edit-icon {\n        flex-shrink: 0;\n        width: 32px;\n        color: ${p => p.theme.accentColor};\n\n        cursor: pointer;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        > * {\n            width: 24px;\n            height: 24px;\n        }\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n`;","import { EditPencil } from \"../../common/utils.js\";\nimport * as React from \"react\";\nimport GrowingEntry from \"../../growing-entry/growing-entry.js\";\nimport { UriOverlayEditorStyle } from \"./uri-overlay-editor-style.js\";\n\nconst UriOverlayEditor = p => {\n  const {\n    uri,\n    onChange,\n    onKeyDown,\n    forceEditMode,\n    readonly\n  } = p;\n  const [editMode, setEditMode] = React.useState(uri === \"\" || forceEditMode);\n  const onEditClick = React.useCallback(() => {\n    setEditMode(true);\n  }, []);\n\n  if (editMode) {\n    return React.createElement(GrowingEntry, {\n      highlight: true,\n      autoFocus: true,\n      onKeyDown: onKeyDown,\n      value: uri,\n      onChange: onChange\n    });\n  }\n\n  return React.createElement(UriOverlayEditorStyle, null, React.createElement(\"a\", {\n    className: \"link-area\",\n    href: uri,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, uri), !readonly && React.createElement(\"div\", {\n    className: \"edit-icon\",\n    onClick: onEditClick\n  }, React.createElement(EditPencil, null)), React.createElement(\"textarea\", {\n    className: \"gdg-input\",\n    autoFocus: true,\n    onKeyDown: onKeyDown\n  }));\n};\n\nexport default UriOverlayEditor;","import * as React from \"react\";\nimport UriOverlayEditor from \"../../data-grid-overlay-editor/private/uri-overlay-editor.js\";\nimport { drawTextCell, prepTextCell } from \"../data-grid-lib.js\";\nimport { GridCellKind } from \"../data-grid-types.js\";\nexport const uriCellRenderer = {\n  getAccessibilityString: c => {\n    var _c$data$toString, _c$data;\n\n    return (_c$data$toString = (_c$data = c.data) === null || _c$data === void 0 ? void 0 : _c$data.toString()) !== null && _c$data$toString !== void 0 ? _c$data$toString : \"\";\n  },\n  kind: GridCellKind.Uri,\n  needsHover: false,\n  needsHoverPosition: false,\n  useLabel: true,\n  renderPrep: prepTextCell,\n  render: a => drawTextCell(a, a.cell.data, a.cell.contentAlign),\n  measure: (ctx, cell) => ctx.measureText(cell.data).width + 16,\n  onDelete: c => ({ ...c,\n    data: \"\"\n  }),\n  getEditor: () => p => {\n    const {\n      onChange,\n      onKeyDown,\n      value,\n      forceEditMode\n    } = p;\n    return React.createElement(UriOverlayEditor, {\n      forceEditMode: forceEditMode,\n      uri: value.data,\n      readonly: value.readonly === true,\n      onKeyDown: onKeyDown,\n      onChange: e => onChange({ ...value,\n        data: e.target.value\n      })\n    });\n  }\n};","import { GridCellKind, InnerGridCellKind } from \"../data-grid-types.js\";\nimport { booleanCellRenderer } from \"./boolean-cell.js\";\nimport { bubbleCellRenderer } from \"./bubble-cell.js\";\nimport { drilldownCellRenderer } from \"./drilldown-cell.js\";\nimport { imageCellRenderer } from \"./image-cell.js\";\nimport { loadingCellRenderer } from \"./loading-cell.js\";\nimport { markdownCellRenderer } from \"./markdown-cell.js\";\nimport { markerCellRenderer } from \"./marker-cell.js\";\nimport { newRowCellRenderer } from \"./new-row-cell.js\";\nimport { numberCellRenderer } from \"./number-cell.js\";\nimport { protectedCellRenderer } from \"./protected-cell.js\";\nimport { rowIDCellRenderer } from \"./row-id-cell.js\";\nimport { textCellRenderer } from \"./text-cell.js\";\nimport { uriCellRenderer } from \"./uri-cell.js\";\n\nconst asCollapsed = x => x;\n\nexport const CellRenderers = {\n  [InnerGridCellKind.Marker]: asCollapsed(markerCellRenderer),\n  [InnerGridCellKind.NewRow]: asCollapsed(newRowCellRenderer),\n  [GridCellKind.Boolean]: asCollapsed(booleanCellRenderer),\n  [GridCellKind.Bubble]: asCollapsed(bubbleCellRenderer),\n  [GridCellKind.Drilldown]: asCollapsed(drilldownCellRenderer),\n  [GridCellKind.Image]: asCollapsed(imageCellRenderer),\n  [GridCellKind.Loading]: asCollapsed(loadingCellRenderer),\n  [GridCellKind.Markdown]: asCollapsed(markdownCellRenderer),\n  [GridCellKind.Number]: asCollapsed(numberCellRenderer),\n  [GridCellKind.Protected]: asCollapsed(protectedCellRenderer),\n  [GridCellKind.RowID]: asCollapsed(rowIDCellRenderer),\n  [GridCellKind.Text]: asCollapsed(textCellRenderer),\n  [GridCellKind.Uri]: asCollapsed(uriCellRenderer)\n};","import { styled } from \"../common/styles.js\";\nimport { GrowingEntryStyle } from \"../growing-entry/growing-entry-style.js\";\nexport const DataGridOverlayEditorStyle = styled.div`\n    position: absolute;\n\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    box-sizing: border-box;\n\n    --overlay-top: ${p => p.targetRect.y}px;\n\n    left: ${p => p.targetRect.x - 1}px;\n    top: ${p => p.targetRect.y - 1}px;\n    min-width: ${p => p.targetRect.width + 2}px;\n    min-height: ${p => p.targetRect.height + 2}px;\n    width: max-content;\n    max-width: 400px;\n    max-height: calc(100vh - ${p => p.targetRect.y + 10}px);\n\n    font-family: ${p => p.theme.fontFamily};\n    font-size: ${p => p.theme.editorFontSize};\n\n    @keyframes glide_fade_in {\n        from {\n            opacity: 0%;\n        }\n\n        to {\n            opacity: 100%;\n        }\n    }\n\n    &.gdg-style {\n        border-radius: 2px;\n        background-color: ${p => p.theme.bgCell};\n        ${p => p.pad && `padding: ${Math.max(0, (p.targetRect.height - 28) / 2)}px 8.5px 3px;`}\n\n        box-shadow: 0 0 0 1px ${p => p.theme.accentColor}, 0px 0px 1px rgba(62, 65, 86, 0.4),\n            0px 6px 12px rgba(62, 65, 86, 0.15);\n\n        animation: glide_fade_in 60ms 1;\n    }\n\n    .clip-region {\n        display: flex;\n        flex-direction: column;\n        overflow-y: auto;\n        overflow-x: hidden;\n        border-radius: 2px;\n        flex-grow: 1;\n\n        ${GrowingEntryStyle} {\n            height: 100%;\n        }\n\n        & input.gdg-input {\n            width: 100%;\n            border: none;\n            border-width: 0;\n            outline: none;\n        }\n\n        & textarea.gdg-input {\n            border: none;\n            border-width: 0;\n            outline: none;\n        }\n    }\n\n    text-align: start;\n`;","import * as React from \"react\";\nexport function useRefState() {\n  const [refState, setRefState] = React.useState();\n  return [refState !== null && refState !== void 0 ? refState : undefined, setRefState];\n}\nexport function useStayOnScreen() {\n  const [ref, setRef] = useRefState();\n  const [xOffset, setXOffset] = React.useState(0);\n  const [isIntersecting, setIsIntersecting] = React.useState(true);\n  React.useLayoutEffect(() => {\n    if (ref === undefined) return;\n    if (!(\"IntersectionObserver\" in window)) return;\n    const observer = new IntersectionObserver(ents => {\n      if (ents.length < 1) return;\n      setIsIntersecting(ents[0].isIntersecting);\n    }, {\n      threshold: 1\n    });\n    observer.observe(ref);\n    return () => observer.disconnect();\n  }, [ref]);\n  React.useEffect(() => {\n    if (isIntersecting || ref === undefined) return;\n    let rafHandle;\n\n    const fn = () => {\n      const {\n        right: refRight\n      } = ref.getBoundingClientRect();\n      setXOffset(cv => Math.min(cv + window.innerWidth - refRight - 10, 0));\n      rafHandle = requestAnimationFrame(fn);\n    };\n\n    rafHandle = requestAnimationFrame(fn);\n    return () => {\n      if (rafHandle !== undefined) {\n        cancelAnimationFrame(rafHandle);\n      }\n    };\n  }, [ref, isIntersecting]);\n  const style = React.useMemo(() => {\n    return {\n      transform: `translateX(${xOffset}px)`\n    };\n  }, [xOffset]);\n  return {\n    ref: setRef,\n    style\n  };\n}","import * as React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { ThemeProvider } from \"styled-components\";\nimport ClickOutsideContainer from \"../click-outside-container/click-outside-container.js\";\nimport { CellRenderers } from \"../data-grid/cells/index.js\";\nimport { GridCellKind, isObjectEditorCallbackResult } from \"../data-grid/data-grid-types.js\";\nimport { DataGridOverlayEditorStyle } from \"./data-grid-overlay-editor-style.js\";\nimport { useStayOnScreen } from \"./use-stay-on-screen.js\";\n\nconst DataGridOverlayEditor = p => {\n  const {\n    target,\n    content,\n    onFinishEditing,\n    forceEditMode,\n    initialValue,\n    imageEditorOverride,\n    markdownDivCreateNode,\n    highlight,\n    className,\n    theme,\n    id,\n    provideEditor\n  } = p;\n  const [tempValue, setTempValue] = React.useState(forceEditMode ? content : undefined);\n  const finished = React.useRef(false);\n  const customMotion = React.useRef(undefined);\n  const onClickOutside = React.useCallback(() => {\n    onFinishEditing(tempValue, [0, 0]);\n    finished.current = true;\n  }, [tempValue, onFinishEditing]);\n  const onCustomFinishedEditing = React.useCallback(newValue => {\n    var _customMotion$current;\n\n    onFinishEditing(newValue, (_customMotion$current = customMotion.current) !== null && _customMotion$current !== void 0 ? _customMotion$current : [0, 0]);\n    finished.current = true;\n  }, [onFinishEditing]);\n  const onKeyDownCustom = React.useCallback(async event => {\n    let save = false;\n\n    if (event.key === \"Escape\") {\n      event.stopPropagation();\n      event.preventDefault();\n      customMotion.current = [0, 0];\n    } else if (event.key === \"Enter\" && !event.shiftKey) {\n      event.stopPropagation();\n      event.preventDefault();\n      customMotion.current = [0, 1];\n      save = true;\n    } else if (event.key === \"Tab\") {\n      event.stopPropagation();\n      event.preventDefault();\n      customMotion.current = [event.shiftKey ? -1 : 1, 0];\n      save = true;\n    }\n\n    await new Promise(r => window.setTimeout(r, 0));\n\n    if (!finished.current && customMotion.current !== undefined) {\n      onFinishEditing(save ? tempValue : undefined, customMotion.current);\n      finished.current = true;\n    }\n  }, [onFinishEditing, tempValue]);\n  const onKeyDown = React.useCallback(event => {\n    if (event.key === \"Escape\") {\n      onFinishEditing(undefined, [0, 0]);\n      event.stopPropagation();\n      event.preventDefault();\n    } else if (event.key === \"Enter\" && !event.ctrlKey) {\n      onFinishEditing(tempValue, [0, event.shiftKey ? -1 : 1]);\n      event.stopPropagation();\n      event.preventDefault();\n    } else if (event.key === \"Tab\") {\n      onFinishEditing(tempValue, [event.shiftKey ? -1 : 1, 0]);\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }, [onFinishEditing, tempValue]);\n  const targetValue = tempValue !== null && tempValue !== void 0 ? tempValue : content;\n  const customEditor = React.useMemo(() => {\n    return provideEditor === null || provideEditor === void 0 ? void 0 : provideEditor(content);\n  }, [content, provideEditor]);\n  const [CellEditor, useLabel] = React.useMemo(() => {\n    var _renderer$getEditor;\n\n    if (content.kind === GridCellKind.Custom) return [];\n    const renderer = CellRenderers[content.kind];\n    return [(_renderer$getEditor = renderer.getEditor) === null || _renderer$getEditor === void 0 ? void 0 : _renderer$getEditor.call(renderer, content), renderer.useLabel];\n  }, [content]);\n  const {\n    ref,\n    style: stayOnScreenStyle\n  } = useStayOnScreen();\n  let pad = true;\n  let editor;\n  let style = true;\n  let styleOverride;\n\n  if (customEditor !== undefined) {\n    pad = customEditor.disablePadding !== true;\n    style = customEditor.disableStyling !== true;\n    const isObjectEditor = isObjectEditorCallbackResult(customEditor);\n\n    if (isObjectEditor) {\n      styleOverride = customEditor.styleOverride;\n    }\n\n    const CustomEditor = isObjectEditor ? customEditor.editor : customEditor;\n    editor = React.createElement(CustomEditor, {\n      isHighlighted: highlight,\n      onChange: setTempValue,\n      value: targetValue,\n      initialValue: initialValue,\n      onFinishedEditing: onCustomFinishedEditing\n    });\n  } else if (CellEditor !== undefined) {\n    editor = React.createElement(CellEditor, {\n      forceEditMode: forceEditMode,\n      isHighlighted: highlight,\n      onChange: setTempValue,\n      value: targetValue,\n      onFinishedEditing: e => onFinishEditing(e !== null && e !== void 0 ? e : tempValue, [0, 0]),\n      onKeyDown: onKeyDown,\n      target: target,\n      imageEditorOverride: imageEditorOverride,\n      markdownDivCreateNode: markdownDivCreateNode\n    });\n  }\n\n  styleOverride = { ...styleOverride,\n    ...stayOnScreenStyle\n  };\n  const portalElement = document.getElementById(\"portal\");\n\n  if (portalElement === null) {\n    console.error('Cannot open Data Grid overlay editor, because portal not found.  Please add `<div id=\"portal\" />` as the last child of your `<body>`.');\n    return null;\n  }\n\n  const portal = createPortal(React.createElement(ThemeProvider, {\n    theme: theme\n  }, React.createElement(ClickOutsideContainer, {\n    className: className,\n    onClickOutside: onClickOutside\n  }, React.createElement(DataGridOverlayEditorStyle, {\n    ref: ref,\n    id: id,\n    className: style ? \"gdg-style\" : \"gdg-unstyle\",\n    style: styleOverride,\n    as: useLabel === true ? \"label\" : undefined,\n    targetRect: target,\n    pad: pad\n  }, React.createElement(\"div\", {\n    className: \"clip-region\",\n    onKeyDown: customEditor === undefined ? undefined : onKeyDownCustom\n  }, editor)))), portalElement);\n  return portal;\n};\n\nexport default DataGridOverlayEditor;","import throttle from \"lodash/throttle.js\";\nconst rowShift = 1 << 16;\nconst imgPool = [];\n\nfunction packColRowToNumber(col, row) {\n  return row * rowShift + col;\n}\n\nfunction unpackCol(packed) {\n  return packed % rowShift;\n}\n\nfunction unpackRow(packed, col) {\n  return (packed - col) / rowShift;\n}\n\nfunction unpackNumberToColRow(packed) {\n  const col = unpackCol(packed);\n  const row = unpackRow(packed, col);\n  return [col, row];\n}\n\nclass ImageWindowLoader {\n  constructor() {\n    this.imageLoaded = () => undefined;\n\n    this.loadedLocations = [];\n    this.visibleWindow = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n    this.freezeCols = 0;\n\n    this.isInWindow = packed => {\n      const col = unpackCol(packed);\n      const row = unpackRow(packed, col);\n      const w = this.visibleWindow;\n      if (col < this.freezeCols && row >= w.y && row <= w.y + w.height) return true;\n      return col >= w.x && col <= w.x + w.width && row >= w.y && row <= w.y + w.height;\n    };\n\n    this.cache = {};\n    this.sendLoaded = throttle(() => {\n      this.imageLoaded(this.loadedLocations);\n      this.loadedLocations = [];\n    }, 20);\n\n    this.clearOutOfWindow = () => {\n      const keys = Object.keys(this.cache);\n\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        const obj = this.cache[key];\n        let keep = false;\n\n        for (let j = 0; j < obj.cells.length; j++) {\n          const packed = obj.cells[j];\n\n          if (this.isInWindow(packed)) {\n            keep = true;\n            break;\n          }\n        }\n\n        if (keep) {\n          obj.cells = obj.cells.filter(this.isInWindow);\n        } else {\n          obj.cancel();\n          delete this.cache[key];\n        }\n      }\n    };\n  }\n\n  setCallback(imageLoaded) {\n    this.imageLoaded = imageLoaded;\n  }\n\n  setWindow(newWindow, freezeCols) {\n    if (this.visibleWindow.x === newWindow.x && this.visibleWindow.y === newWindow.y && this.visibleWindow.width === newWindow.width && this.visibleWindow.height === newWindow.height && this.freezeCols === freezeCols) return;\n    this.visibleWindow = newWindow;\n    this.freezeCols = freezeCols;\n    this.clearOutOfWindow();\n  }\n\n  loadOrGetImage(url, col, row) {\n    const key = url;\n    const current = this.cache[key];\n\n    if (current !== undefined) {\n      const packed = packColRowToNumber(col, row);\n\n      if (!current.cells.includes(packed)) {\n        current.cells.push(packed);\n      }\n\n      return current.img;\n    } else {\n      var _imgPool$pop;\n\n      let loaded = false;\n      const img = (_imgPool$pop = imgPool.pop()) !== null && _imgPool$pop !== void 0 ? _imgPool$pop : new Image();\n      let canceled = false;\n      const result = {\n        img: undefined,\n        cells: [packColRowToNumber(col, row)],\n        url,\n        cancel: () => {\n          if (canceled) return;\n          canceled = true;\n\n          if (imgPool.length < 12) {\n            imgPool.unshift(img);\n          } else if (!loaded) {\n            img.src = \"\";\n          }\n        }\n      };\n      const loadPromise = new Promise(r => img.onload = () => r(null));\n      requestAnimationFrame(async () => {\n        try {\n          img.src = url;\n          await loadPromise;\n          await img.decode();\n          const toWrite = this.cache[key];\n\n          if (toWrite !== undefined && !canceled) {\n            toWrite.img = img;\n\n            for (const packed of toWrite.cells) {\n              this.loadedLocations.push(unpackNumberToColRow(packed));\n            }\n\n            loaded = true;\n            this.sendLoaded();\n          }\n        } catch (e) {\n          result.cancel();\n        }\n      });\n      this.cache[key] = result;\n      return undefined;\n    }\n  }\n\n}\n\nexport default ImageWindowLoader;","const iconHead = `<svg width=\"20\" height=\"20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">`;\n\nconst headerRowID = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}<rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/><path d=\"M15.75 4h-1.5a.25.25 0 0 0-.177.074L9.308 8.838a3.75 3.75 0 1 0 1.854 1.854l1.155-1.157.967.322a.5.5 0 0 0 .65-.55l-.18-1.208.363-.363.727.331a.5.5 0 0 0 .69-.59l-.254-.904.647-.647A.25.25 0 0 0 16 5.75v-1.5a.25.25 0 0 0-.25-.25zM7.5 13.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z\" fill=\"${fg}\"/></svg>`;\n};\n\nconst headerCode = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}<rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"4\" fill=\"${bg}\"/><path d=\"m12.223 13.314 3.052-2.826a.65.65 0 0 0 0-.984l-3.052-2.822c-.27-.25-.634-.242-.865.022-.232.263-.206.636.056.882l2.601 2.41-2.601 2.41c-.262.245-.288.619-.056.882.231.263.595.277.865.026Zm-4.444.005c.266.25.634.241.866-.027.231-.263.206-.636-.06-.882L5.983 10l2.602-2.405c.266-.25.291-.62.06-.887-.232-.263-.596-.272-.866-.022L4.723 9.51a.653.653 0 0 0 0 .983l3.056 2.827Z\" fill=\"${fg}\"/></svg>`;\n};\n\nconst headerNumber = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n    <path d=\"M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z\" fill=\"${bg}\"/>\n    <path d=\"M6.52 12.78H5.51V8.74l-1.33.47v-.87l2.29-.83h.05v5.27zm5.2 0H8.15v-.69l1.7-1.83a6.38 6.38 0 0 0 .34-.4c.09-.11.16-.22.22-.32s.1-.19.12-.27a.9.9 0 0 0 0-.56.63.63 0 0 0-.15-.23.58.58 0 0 0-.22-.15.75.75 0 0 0-.29-.05c-.27 0-.48.08-.62.23a.95.95 0 0 0-.2.65H8.03c0-.24.04-.46.13-.67a1.67 1.67 0 0 1 .97-.91c.23-.1.49-.14.77-.14.26 0 .5.04.7.11.21.08.38.18.52.32.14.13.25.3.32.48a1.74 1.74 0 0 1 .03 1.13 2.05 2.05 0 0 1-.24.47 4.16 4.16 0 0 1-.35.47l-.47.5-1 1.05h2.32v.8zm1.8-3.08h.55c.28 0 .48-.06.61-.2a.76.76 0 0 0 .2-.55.8.8 0 0 0-.05-.28.56.56 0 0 0-.13-.22.6.6 0 0 0-.23-.15.93.93 0 0 0-.32-.05.92.92 0 0 0-.29.05.72.72 0 0 0-.23.12.57.57 0 0 0-.21.46H12.4a1.3 1.3 0 0 1 .5-1.04c.15-.13.33-.23.54-.3a2.48 2.48 0 0 1 1.4 0c.2.06.4.15.55.28.15.13.27.28.36.47.08.19.13.4.13.65a1.15 1.15 0 0 1-.2.65 1.36 1.36 0 0 1-.58.49c.15.05.28.12.38.2a1.14 1.14 0 0 1 .43.62c.03.13.05.26.05.4 0 .25-.05.47-.14.66a1.42 1.42 0 0 1-.4.49c-.16.13-.35.23-.58.3a2.51 2.51 0 0 1-.73.1c-.22 0-.44-.03-.65-.09a1.8 1.8 0 0 1-.57-.28 1.43 1.43 0 0 1-.4-.47 1.41 1.41 0 0 1-.15-.66h1a.66.66 0 0 0 .22.5.87.87 0 0 0 .58.2c.25 0 .45-.07.6-.2a.71.71 0 0 0 .21-.56.97.97 0 0 0-.06-.36.61.61 0 0 0-.18-.25.74.74 0 0 0-.28-.15 1.33 1.33 0 0 0-.37-.04h-.55V9.7z\" fill=\"${fg}\"/>\n  </svg>`;\n};\n\nconst headerString = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <path d=\"M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z\" fill=\"${bg}\"/>\n  <path d=\"M8.182 12.4h3.636l.655 1.6H14l-3.454-8H9.455L6 14h1.527l.655-1.6zM10 7.44l1.36 3.651H8.64L10 7.441z\" fill=\"${fg}\"/>\n</svg>`;\n};\n\nconst headerBoolean = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n    <path\n        d=\"M16.2222 2H3.77778C2.8 2 2 2.8 2 3.77778V16.2222C2 17.2 2.8 18 3.77778 18H16.2222C17.2 18 17.9911 17.2 17.9911 16.2222L18 3.77778C18 2.8 17.2 2 16.2222 2Z\"\n        fill=\"${bg}\"\n    />\n    <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M7.66667 6.66669C5.73368 6.66669 4.16667 8.15907 4.16667 10C4.16667 11.841 5.73368 13.3334 7.66667 13.3334H12.3333C14.2663 13.3334 15.8333 11.841 15.8333 10C15.8333 8.15907 14.2663 6.66669 12.3333 6.66669H7.66667ZM12.5 12.5C13.8807 12.5 15 11.3807 15 10C15 8.61931 13.8807 7.50002 12.5 7.50002C11.1193 7.50002 10 8.61931 10 10C10 11.3807 11.1193 12.5 12.5 12.5Z\"\n        fill=\"${fg}\"\n    />\n</svg>`;\n};\n\nconst headerUri = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n<path d=\"M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z\" fill=\"${bg}\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.29 4.947a3.368 3.368 0 014.723.04 3.375 3.375 0 01.041 4.729l-.009.009-1.596 1.597a3.367 3.367 0 01-5.081-.364.71.71 0 011.136-.85 1.95 1.95 0 002.942.21l1.591-1.593a1.954 1.954 0 00-.027-2.733 1.95 1.95 0 00-2.732-.027l-.91.907a.709.709 0 11-1.001-1.007l.915-.911.007-.007z\" fill=\"${fg}\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M6.55 8.678a3.368 3.368 0 015.082.364.71.71 0 01-1.136.85 1.95 1.95 0 00-2.942-.21l-1.591 1.593a1.954 1.954 0 00.027 2.733 1.95 1.95 0 002.73.028l.906-.906a.709.709 0 111.003 1.004l-.91.91-.008.01a3.368 3.368 0 01-4.724-.042 3.375 3.375 0 01-.041-4.728l.009-.009L6.55 8.678z\" fill=\"${fg}\"/>\n</svg>\n  `;\n};\n\nconst renameIcon = props => {\n  const bg = props.bgColor;\n  return `${iconHead}\n    <path stroke=\"${bg}\" stroke-width=\"2\" d=\"M12 3v14\"/>\n    <path stroke=\"${bg}\" stroke-width=\"2\" stroke-linecap=\"round\" d=\"M10 4h4m-4 12h4\"/>\n    <path d=\"M11 14h4a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-4v2h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4v2ZM9.5 8H5a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4.5v2H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h4.5v2Z\" fill=\"${bg}\"/>\n  </svg>\n`;\n};\n\nconst headerAudioUri = headerUri;\n\nconst headerVideoUri = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <path d=\"M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z\" fill=\"${bg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 13.138a.5.5 0 00.748.434l5.492-3.138a.5.5 0 000-.868L7.748 6.427A.5.5 0 007 6.862v6.276z\" fill=\"${fg}\"/>\n</svg>`;\n};\n\nconst headerEmoji = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <path d=\"M10 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 9.17A4.17 4.17 0 0 1 5.83 10 4.17 4.17 0 0 1 10 5.83 4.17 4.17 0 0 1 14.17 10 4.17 4.17 0 0 1 10 14.17z\" fill=\"${fg}\"/>\n    <path d=\"M8.33 8.21a.83.83 0 1 0-.03 1.67.83.83 0 0 0 .03-1.67zm3.34 0a.83.83 0 1 0-.04 1.67.83.83 0 0 0 .04-1.67z\" fill=\"${fg}\"/>\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.53 13.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z\" fill=\"${fg}\"/>\n    <path d=\"M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z\" fill=\"${bg}\"/>\n    <path d=\"M10 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 11a5 5 0 1 1 .01-10.01A5 5 0 0 1 10 15z\" fill=\"${fg}\"/>\n    <path d=\"M8 7.86a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2zm4 0a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2z\" fill=\"${fg}\"/>\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.53 11.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z\" fill=\"${fg}\"/>\n  </svg>`;\n};\n\nconst headerImage = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <path d=\"M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z\" fill=\"${bg}\"/>\n  <path opacity=\".5\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.499 10.801a.5.5 0 01.835 0l2.698 4.098a.5.5 0 01-.418.775H10.22a.5.5 0 01-.417-.775l2.697-4.098z\" fill=\"${fg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.07 8.934a.5.5 0 01.824 0l4.08 5.958a.5.5 0 01-.412.782h-8.16a.5.5 0 01-.413-.782l4.08-5.958zM13.75 8.333a2.083 2.083 0 100-4.166 2.083 2.083 0 000 4.166z\" fill=\"${fg}\"/>\n</svg>`;\n};\n\nconst headerPhone = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <path fill=\"${fg}\" d=\"M3 3h14v14H3z\"/>\n    <path d=\"M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2zm-7.24 9.78h1.23c.15 0 .27.06.36.18l.98 1.28a.43.43 0 0 1-.05.58l-1.2 1.21a.45.45 0 0 1-.6.04A6.72 6.72 0 0 1 7.33 10c0-.61.1-1.2.25-1.78a6.68 6.68 0 0 1 2.12-3.3.44.44 0 0 1 .6.04l1.2 1.2c.16.17.18.42.05.59l-.98 1.29a.43.43 0 0 1-.36.17H8.98A5.38 5.38 0 0 0 8.67 10c0 .62.11 1.23.3 1.79z\" fill=\"${bg}\"/>\n  </svg>`;\n};\n\nconst headerMarkdown = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <path d=\"M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z\" fill=\"${bg}\"/>\n    <path d=\"m13.49 13.15-2.32-3.27h1.4V7h1.86v2.88h1.4l-2.34 3.27zM11 13H9v-3l-1.5 1.92L6 10v3H4V7h2l1.5 2L9 7h2v6z\" fill=\"${fg}\"/>\n  </svg>`;\n};\n\nconst headerDate = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <path d=\"M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z\" fill=\"${bg}\"/>\n  <path d=\"M14.8 4.182h-.6V3H13v1.182H7V3H5.8v1.182h-.6c-.66 0-1.2.532-1.2 1.182v9.454C4 15.468 4.54 16 5.2 16h9.6c.66 0 1.2-.532 1.2-1.182V5.364c0-.65-.54-1.182-1.2-1.182zm0 10.636H5.2V7.136h9.6v7.682z\" fill=\"${fg}\"/>\n</svg>`;\n};\n\nconst headerTime = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <path d=\"M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z\" fill=\"${bg}\"/>\n    <path d=\"M10 4a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6zm0 10.8A4.8 4.8 0 0 1 5.2 10a4.8 4.8 0 1 1 4.8 4.8z\" fill=\"${fg}\"/>\n    <path d=\"M10 7H9v3.93L12.5 13l.5-.8-3-1.76V7z\" fill=\"${fg}\"/>\n  </svg>`;\n};\n\nconst headerEmail = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10 8.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zM7.357 10a2.643 2.643 0 115.286 0 2.643 2.643 0 01-5.286 0z\" fill=\"${fg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.589 4.898A5.643 5.643 0 0115.643 10v.5a2.143 2.143 0 01-4.286 0V8a.643.643 0 011.286 0v2.5a.857.857 0 001.714 0V10a4.357 4.357 0 10-1.708 3.46.643.643 0 01.782 1.02 5.643 5.643 0 11-5.842-9.582z\" fill=\"${fg}\"/>\n</svg>`;\n};\n\nconst headerReference = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <rect x=\"2\" y=\"8\" width=\"10\" height=\"8\" rx=\"2\" fill=\"${bg}\"/>\n    <rect x=\"8\" y=\"4\" width=\"10\" height=\"8\" rx=\"2\" fill=\"${bg}\"/>\n    <path d=\"M10.68 7.73V6l2.97 3.02-2.97 3.02v-1.77c-2.13 0-3.62.7-4.68 2.2.43-2.15 1.7-4.31 4.68-4.74z\" fill=\"${fg}\"/>\n  </svg>`;\n};\n\nconst headerIfThenElse = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <path fill=\"${fg}\" d=\"M4 3h12v14H4z\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.6 2A1.6 1.6 0 002 3.6v12.8A1.6 1.6 0 003.6 18h12.8a1.6 1.6 0 001.6-1.6V3.6A1.6 1.6 0 0016.4 2H3.6zm11.3 10.8a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7h-1.4a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.6-.693.117.117 0 00.1-.115V10.35a.117.117 0 00-.117-.116h-2.8a.117.117 0 00-.117.116v2.333c0 .064.053.117.117.117h.117a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7H9.3a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.117a.117.117 0 00.117-.117V10.35a.117.117 0 00-.117-.117h-2.8a.117.117 0 00-.117.117v2.342c0 .058.042.106.1.115a.7.7 0 01.6.693v1.4a.7.7 0 01-.7.7H5.1a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.35a.116.116 0 00.116-.117v-2.45c0-.515.418-.933.934-.933h2.917a.117.117 0 00.117-.117V6.85a.117.117 0 00-.117-.116h-2.45a.7.7 0 01-.7-.7V5.1a.7.7 0 01.7-.7h6.067a.7.7 0 01.7.7v.934a.7.7 0 01-.7.7h-2.45a.117.117 0 00-.118.116v2.333c0 .064.053.117.117.117H13.5c.516 0 .934.418.934.934v2.45c0 .063.052.116.116.116h.35z\" fill=\"${bg}\"/>\n</svg>`;\n};\n\nconst headerSingleValue = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n    <path d=\"M9.98 13.33c.45 0 .74-.3.73-.75l-.01-.1-.16-1.67 1.45 1.05a.81.81 0 0 0 .5.18c.37 0 .72-.32.72-.76 0-.3-.17-.54-.49-.68l-1.63-.77 1.63-.77c.32-.14.49-.37.49-.67 0-.45-.34-.76-.71-.76a.81.81 0 0 0-.5.18l-1.47 1.03.16-1.74.01-.08c.01-.46-.27-.76-.72-.76-.46 0-.76.32-.75.76l.01.08.16 1.74-1.47-1.03a.77.77 0 0 0-.5-.18.74.74 0 0 0-.72.76c0 .3.17.53.49.67l1.63.77-1.62.77c-.32.14-.5.37-.5.68 0 .44.35.75.72.75a.78.78 0 0 0 .5-.17L9.4 10.8l-.16 1.68v.09c-.02.44.28.75.74.75z\" fill=\"${fg}\"/>\n  </svg>`;\n};\n\nconst headerLookup = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n    <path d=\"M8 5.83H5.83a.83.83 0 0 0 0 1.67h1.69A4.55 4.55 0 0 1 8 5.83zm-.33 3.34H5.83a.83.83 0 0 0 0 1.66h2.72a4.57 4.57 0 0 1-.88-1.66zM5.83 12.5a.83.83 0 0 0 0 1.67h7.5a.83.83 0 1 0 0-1.67h-7.5zm8.8-2.9a3.02 3.02 0 0 0 .46-1.6c0-1.66-1.32-3-2.94-3C10.52 5 9.2 6.34 9.2 8s1.31 3 2.93 3c.58 0 1.11-.17 1.56-.47l2.04 2.08.93-.94-2.04-2.08zm-2.48.07c-.9 0-1.63-.75-1.63-1.67s.73-1.67 1.63-1.67c.9 0 1.63.75 1.63 1.67s-.73 1.67-1.63 1.67z\" fill=\"${fg}\"/>\n  </svg>`;\n};\n\nconst headerTextTemplate = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n  <path d=\"M7.676 4.726V3l2.976 3.021-2.976 3.022v-1.77c-2.125 0-3.613.69-4.676 2.201.425-2.158 1.7-4.316 4.676-4.748zM10.182 14.4h3.636l.655 1.6H16l-3.454-8h-1.091L8 16h1.527l.655-1.6zM12 9.44l1.36 3.65h-2.72L12 9.44z\" fill=\"${fg}\"/>\n</svg>`;\n};\n\nconst headerMath = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.167 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666H4.167z\" fill=\"${fg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.083 4.167a.833.833 0 10-1.666 0v4.166a.833.833 0 101.666 0V4.167zM11.667 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666h-4.166zM5.367 11.688a.833.833 0 00-1.179 1.179l2.947 2.946a.833.833 0 001.178-1.178l-2.946-2.947z\" fill=\"${fg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.313 12.867a.833.833 0 10-1.178-1.179l-2.947 2.947a.833.833 0 101.179 1.178l2.946-2.946z\" fill=\"${fg}\"/>\n  <path d=\"M10.833 12.5c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833zM10.833 15c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833z\" fill=\"${fg}\"/>\n</svg>`;\n};\n\nconst headerRollup = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <path d=\"M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z\" fill=\"${bg}\"/>\n    <path d=\"M10 8.84a1.16 1.16 0 1 0 0 2.32 1.16 1.16 0 0 0 0-2.32zm3.02 3.61a3.92 3.92 0 0 0 .78-3.28.49.49 0 1 0-.95.2c.19.87-.02 1.78-.58 2.47a2.92 2.92 0 1 1-4.13-4.08 2.94 2.94 0 0 1 2.43-.62.49.49 0 1 0 .17-.96 3.89 3.89 0 1 0 2.28 6.27zM10 4.17a5.84 5.84 0 0 0-5.44 7.93.49.49 0 1 0 .9-.35 4.86 4.86 0 1 1 2.5 2.67.49.49 0 1 0-.4.88c.76.35 1.6.54 2.44.53a5.83 5.83 0 0 0 0-11.66zm3.02 3.5a.7.7 0 1 0-1.4 0 .7.7 0 0 0 1.4 0zm-6.97 5.35a.7.7 0 1 1 0 1.4.7.7 0 0 1 0-1.4z\" fill=\"${fg}\"/>\n  </svg>`;\n};\n\nconst headerJoinStrings = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n  <path d=\"M12.4 13.565c1.865-.545 3.645-2.083 3.645-4.396 0-1.514-.787-2.604-2.071-2.604C12.69 6.565 12 7.63 12 8.939c1.114.072 1.865.726 1.865 1.683 0 .933-.8 1.647-1.84 2.023l.375.92zM4 5h6v2H4zM4 9h5v2H4zM4 13h4v2H4z\" fill=\"${fg}\"/>\n</svg>`;\n};\n\nconst headerSplitString = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    ${iconHead}\n    <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n    <path d=\"M12.4 13.56c1.86-.54 3.65-2.08 3.65-4.4 0-1.5-.8-2.6-2.08-2.6S12 7.64 12 8.95c1.11.07 1.86.73 1.86 1.68 0 .94-.8 1.65-1.83 2.03l.37.91zM4 5h6v2H4zm0 4h5v2H4zm0 4h4v2H4z\" fill=\"${fg}\"/>\n  </svg>`;\n};\n\nconst headerGeoDistance = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <path d=\"M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z\" fill=\"${bg}\"/>\n  <path d=\"M10 7a1 1 0 100-2v2zm0 6a1 1 0 100 2v-2zm0-8H7v2h3V5zm-3 6h5V9H7v2zm5 2h-2v2h2v-2zm1-1a1 1 0 01-1 1v2a3 3 0 003-3h-2zm-1-1a1 1 0 011 1h2a3 3 0 00-3-3v2zM4 8a3 3 0 003 3V9a1 1 0 01-1-1H4zm3-3a3 3 0 00-3 3h2a1 1 0 011-1V5z\" fill=\"${fg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.856 12.014a.5.5 0 00-.712.702L5.409 14l-1.265 1.284a.5.5 0 00.712.702l1.255-1.274 1.255 1.274a.5.5 0 00.712-.702L6.813 14l1.265-1.284a.5.5 0 00-.712-.702L6.11 13.288l-1.255-1.274zM12.856 4.014a.5.5 0 00-.712.702L13.409 6l-1.265 1.284a.5.5 0 10.712.702l1.255-1.274 1.255 1.274a.5.5 0 10.712-.702L14.813 6l1.265-1.284a.5.5 0 00-.712-.702L14.11 5.288l-1.255-1.274z\" fill=\"${fg}\"/>\n</svg>`;\n};\n\nconst headerArray = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `${iconHead}\n  <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\" rx=\"2\" fill=\"${bg}\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 100 1.5h6.5zM15 10a.75.75 0 01-.75.75h-6.5a.75.75 0 010-1.5h6.5A.75.75 0 0115 10zm-.75 4.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5zm-8.987-7a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 2.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 4.25a.75.75 0 100-1.5.75.75 0 000 1.5z\" fill=\"${fg}\"/>\n</svg>`;\n};\n\nconst rowOwnerOverlay = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    <svg width=\"18\" height=\"18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M2 15v1h14v-2.5c0-.87-.44-1.55-.98-2.04a6.19 6.19 0 0 0-1.9-1.14 12.1 12.1 0 0 0-2.48-.67A4 4 0 1 0 5 6a4 4 0 0 0 2.36 3.65c-.82.13-1.7.36-2.48.67-.69.28-1.37.65-1.9 1.13A2.8 2.8 0 0 0 2 13.5V15z\" fill=\"${bg}\" stroke=\"${fg}\" stroke-width=\"2\"/>\n  </svg>`;\n};\n\nconst protectedColumnOverlay = props => {\n  const fg = props.fgColor;\n  const bg = props.bgColor;\n  return `\n    <svg width=\"18\" height=\"18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M12.43 6.04v-.18a3.86 3.86 0 0 0-7.72 0v.18A2.15 2.15 0 0 0 3 8.14v5.72C3 15.04 3.96 16 5.14 16H12c1.18 0 2.14-.96 2.14-2.14V8.14c0-1.03-.73-1.9-1.71-2.1zM7.86 6v-.14a.71.71 0 1 1 1.43 0V6H7.86z\" fill=\"${bg}\" stroke=\"${fg}\" stroke-width=\"2\"/>\n  </svg>\n`;\n};\n\nexport const sprites = {\n  headerRowID,\n  headerNumber,\n  headerCode,\n  headerString,\n  headerBoolean,\n  headerAudioUri,\n  headerVideoUri,\n  headerEmoji,\n  headerImage,\n  headerUri,\n  headerPhone,\n  headerMarkdown,\n  headerDate,\n  headerTime,\n  headerEmail,\n  headerReference,\n  headerIfThenElse,\n  headerSingleValue,\n  headerLookup,\n  headerTextTemplate,\n  headerMath,\n  headerRollup,\n  headerJoinStrings,\n  headerSplitString,\n  headerGeoDistance,\n  headerArray,\n  rowOwnerOverlay,\n  protectedColumnOverlay,\n  renameIcon\n};","import { assert } from \"../common/support.js\";\nimport { sprites } from \"./sprites.js\";\nconst variantList = [\"normal\", \"selected\", \"special\"];\nconst renderSize = 40;\n\nfunction makeExtraMapIndex(bgColor, fgColor) {\n  return `${bgColor}|${fgColor}`;\n}\n\nfunction getColorsForIndex(str) {\n  const r = str.split(\"|\");\n  assert(r.length === 2);\n  return r;\n}\n\nfunction getColors(variant, theme) {\n  if (variant === \"normal\") {\n    return [theme.bgIconHeader, theme.fgIconHeader];\n  } else if (variant === \"selected\") {\n    return [\"white\", theme.accentColor];\n  } else {\n    return [theme.accentColor, theme.bgHeader];\n  }\n}\n\nexport class SpriteManager {\n  constructor(headerIcons) {\n    this.colorMap = [];\n    this.spriteCanvas = void 0;\n    this.spriteList = void 0;\n    this.headerIcons = void 0;\n    this.headerIcons = { ...sprites,\n      ...(headerIcons !== null && headerIcons !== void 0 ? headerIcons : {})\n    };\n    this.spriteList = Object.keys(this.headerIcons);\n  }\n\n  drawSprite(sprite, variant, ctx, x, y, size, theme) {\n    let alpha = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 1;\n    if (this.spriteCanvas === undefined) throw new Error();\n    const spriteIndex = this.spriteList.indexOf(sprite);\n    if (spriteIndex === -1) throw new Error(`Unknown header icon: ${sprite}`);\n    const [bgColor, fgColor] = getColors(variant, theme);\n    const variantIndex = this.colorMap.indexOf(makeExtraMapIndex(bgColor, fgColor));\n    const xOffset = spriteIndex * renderSize;\n    const yOffset = Math.max(0, variantIndex * renderSize);\n\n    if (alpha < 1) {\n      ctx.globalAlpha = alpha;\n    }\n\n    ctx.drawImage(this.spriteCanvas, xOffset, yOffset, renderSize, renderSize, x, y, size, size);\n\n    if (alpha < 1) {\n      ctx.globalAlpha = 1;\n    }\n  }\n\n  async buildSpriteMap(theme, cols) {\n    const map = new Set();\n\n    for (const v of variantList) {\n      const [bg, fg] = getColors(v, theme);\n      map.add(makeExtraMapIndex(bg, fg));\n    }\n\n    for (const c of cols) {\n      var _c$themeOverride, _c$themeOverride2;\n\n      if (((_c$themeOverride = c.themeOverride) === null || _c$themeOverride === void 0 ? void 0 : _c$themeOverride.bgIconHeader) !== undefined || ((_c$themeOverride2 = c.themeOverride) === null || _c$themeOverride2 === void 0 ? void 0 : _c$themeOverride2.fgIconHeader) !== undefined) {\n        const finalTheme = { ...theme,\n          ...c.themeOverride\n        };\n\n        for (const v of variantList) {\n          const [bg, fg] = getColors(v, finalTheme);\n          map.add(makeExtraMapIndex(bg, fg));\n        }\n      }\n    }\n\n    const newMap = [...map];\n    newMap.sort();\n    let hasDiff = false;\n\n    for (const [index, key] of newMap.entries()) {\n      if (key !== this.colorMap[index]) {\n        hasDiff = true;\n        break;\n      }\n    }\n\n    if (!hasDiff) return false;\n    this.colorMap = newMap;\n    this.spriteCanvas = document.createElement(\"canvas\");\n    this.spriteCanvas.width = this.spriteList.length * renderSize;\n    this.spriteCanvas.height = this.colorMap.length * renderSize;\n    const ctx = this.spriteCanvas.getContext(\"2d\");\n    if (ctx === null) return false;\n    let x = 0;\n\n    for (const key of this.spriteList) {\n      const sprite = this.headerIcons[key];\n      let y = 0;\n\n      for (const ex of this.colorMap) {\n        const [bgColor, fgColor] = getColorsForIndex(ex);\n        const imgSource = new Image();\n        imgSource.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(sprite({\n          fgColor,\n          bgColor\n        }))}`;\n        await imgSource.decode();\n        ctx.drawImage(imgSource, x, y, renderSize, renderSize);\n        y += renderSize;\n      }\n\n      x += renderSize;\n    }\n\n    return true;\n  }\n\n}","const cache = {};\nlet div = null;\n\nfunction createDiv() {\n  const d = document.createElement(\"div\");\n  d.classList.add(\"color2k-parser\");\n  d.style.opacity = \"0\";\n  d.style.pointerEvents = \"none\";\n  d.style.position = \"fixed\";\n  document.body.appendChild(d);\n  return d;\n}\n\nexport function parseToRgba(color) {\n  const normalizedColor = color.toLowerCase().trim();\n  if (cache[normalizedColor] !== undefined) return cache[normalizedColor];\n  div = div || createDiv();\n  div.style.color = \"#000\";\n  div.style.color = normalizedColor;\n  const control = getComputedStyle(div).color;\n  div.style.color = \"#fff\";\n  div.style.color = normalizedColor;\n  const computedColor = getComputedStyle(div).color;\n  if (computedColor !== control) throw new Error(\"Could not parse color\");\n  const result = computedColor.replace(/[^\\d.,]/g, \"\").split(\",\").map(parseFloat);\n\n  if (result.length < 4) {\n    result.push(1);\n  }\n\n  cache[normalizedColor] = result;\n  return result;\n}\nexport function withAlpha(color, alpha) {\n  const [r, g, b] = parseToRgba(color);\n  return `rgba(${r}, ${g}, ${b}, ${alpha})`;\n}\nexport function blend(color, background) {\n  if (background === undefined) return color;\n  const [r, g, b, a] = parseToRgba(color);\n  if (a === 1) return color;\n  const [br, bg, bb, ba] = parseToRgba(background);\n  const ao = a + ba * (1 - a);\n  const ro = (a * r + ba * br * (1 - a)) / ao;\n  const go = (a * g + ba * bg * (1 - a)) / ao;\n  const bo = (a * b + ba * bb * (1 - a)) / ao;\n  return `rgba(${ro}, ${go}, ${bo}, ${ao})`;\n}","import groupBy from \"lodash/groupBy.js\";\nimport { GridCellKind, isInnerOnlyCell } from \"./data-grid-types.js\";\nimport { getEffectiveColumns, getStickyWidth, roundedPoly, drawWithLastUpdate, isGroupEqual, cellIsSelected, cellIsInRange, computeBounds, getMiddleCenterBias } from \"./data-grid-lib.js\";\nimport { blend, withAlpha } from \"./color-parser.js\";\nimport { CellRenderers } from \"./cells/index.js\";\nconst loadingCell = {\n  kind: GridCellKind.Loading,\n  allowOverlay: false\n};\nexport function drawCell(ctx, row, cell, col, x, y, w, h, highlighted, theme, drawCustomCell, imageLoader, spriteManager, hoverAmount, hoverInfo, frameTime, lastPrep, enqueue) {\n  let hoverX;\n  let hoverY;\n\n  if (hoverInfo !== undefined && hoverInfo[0][0] === col && hoverInfo[0][1] === row) {\n    hoverX = hoverInfo[1][0];\n    hoverY = hoverInfo[1][1];\n  }\n\n  let result = undefined;\n  const args = {\n    ctx,\n    theme,\n    col,\n    row,\n    cell,\n    x,\n    y,\n    w,\n    h,\n    highlighted,\n    hoverAmount,\n    hoverX,\n    hoverY,\n    imageLoader,\n    spriteManager\n  };\n  let forceAnim = false;\n  const needsAnim = drawWithLastUpdate(args, cell.lastUpdated, frameTime, lastPrep, () => {\n    const drawn = isInnerOnlyCell(cell) ? false : (drawCustomCell === null || drawCustomCell === void 0 ? void 0 : drawCustomCell({\n      ctx,\n      cell,\n      theme,\n      rect: {\n        x,\n        y,\n        width: w,\n        height: h\n      },\n      col,\n      row,\n      hoverAmount,\n      hoverX,\n      hoverY,\n      highlighted,\n      imageLoader,\n      requestAnimationFrame: () => {\n        forceAnim = true;\n      }\n    })) === true;\n\n    if (!drawn && cell.kind !== GridCellKind.Custom) {\n      var _lastPrep, _r$renderPrep;\n\n      const r = CellRenderers[cell.kind];\n\n      if (((_lastPrep = lastPrep) === null || _lastPrep === void 0 ? void 0 : _lastPrep.renderer) !== r) {\n        var _lastPrep2, _lastPrep2$deprep;\n\n        (_lastPrep2 = lastPrep) === null || _lastPrep2 === void 0 ? void 0 : (_lastPrep2$deprep = _lastPrep2.deprep) === null || _lastPrep2$deprep === void 0 ? void 0 : _lastPrep2$deprep.call(_lastPrep2, args);\n        lastPrep = undefined;\n      }\n\n      const partialPrepResult = (_r$renderPrep = r.renderPrep) === null || _r$renderPrep === void 0 ? void 0 : _r$renderPrep.call(r, args, lastPrep);\n      r.render(args);\n      result = {\n        deprep: partialPrepResult === null || partialPrepResult === void 0 ? void 0 : partialPrepResult.deprep,\n        fillStyle: partialPrepResult === null || partialPrepResult === void 0 ? void 0 : partialPrepResult.fillStyle,\n        font: partialPrepResult === null || partialPrepResult === void 0 ? void 0 : partialPrepResult.font,\n        renderer: r\n      };\n    }\n  });\n  if (needsAnim || forceAnim) enqueue === null || enqueue === void 0 ? void 0 : enqueue([col, row]);\n  return result;\n}\n\nfunction blitLastFrame(ctx, canvas, last, cellXOffset, cellYOffset, translateX, translateY, lastRowSticky, width, height, rows, totalHeaderHeight, dpr, columns, effectiveCols, getRowHeight) {\n  const drawRegions = [];\n  let blittedYOnly = false;\n  ctx.imageSmoothingEnabled = false;\n  const minY = Math.min(last.cellYOffset, cellYOffset);\n  const maxY = Math.max(last.cellYOffset, cellYOffset);\n  let deltaY = 0;\n\n  if (typeof getRowHeight === \"number\") {\n    deltaY += (maxY - minY) * getRowHeight;\n  } else {\n    for (let i = minY; i < maxY; i++) {\n      deltaY += getRowHeight(i);\n    }\n  }\n\n  if (cellYOffset > last.cellYOffset) {\n    deltaY = -deltaY;\n  }\n\n  deltaY += translateY - last.translateY;\n  const minX = Math.min(last.cellXOffset, cellXOffset);\n  const maxX = Math.max(last.cellXOffset, cellXOffset);\n  let deltaX = 0;\n\n  for (let i = minX; i < maxX; i++) {\n    deltaX += columns[i].width;\n  }\n\n  if (cellXOffset > last.cellXOffset) {\n    deltaX = -deltaX;\n  }\n\n  deltaX += translateX - last.translateX;\n  let stickyWidth = getStickyWidth(effectiveCols);\n  if (stickyWidth > 0) stickyWidth++;\n\n  if (deltaX !== 0 && deltaY !== 0) {\n    return {\n      regions: [],\n      yOnly: false\n    };\n  }\n\n  const stickyRowHeight = lastRowSticky ? typeof getRowHeight === \"number\" ? getRowHeight : getRowHeight(rows - 1) : 0;\n  const blitWidth = width - stickyWidth - Math.abs(deltaX);\n  const blitHeight = height - totalHeaderHeight - stickyRowHeight - Math.abs(deltaY) - 1;\n\n  if (blitWidth > 150 && blitHeight > 150) {\n    blittedYOnly = deltaX === 0;\n    const args = {\n      sx: 0,\n      sy: 0,\n      sw: width * dpr,\n      sh: height * dpr,\n      dx: 0,\n      dy: 0,\n      dw: width * dpr,\n      dh: height * dpr\n    };\n\n    if (deltaY > 0) {\n      args.sy = (totalHeaderHeight + 1) * dpr;\n      args.sh = blitHeight * dpr;\n      args.dy = (deltaY + totalHeaderHeight + 1) * dpr;\n      args.dh = blitHeight * dpr;\n      drawRegions.push({\n        x: 0,\n        y: totalHeaderHeight,\n        width: width,\n        height: deltaY + 1\n      });\n    } else if (deltaY < 0) {\n      args.sy = (-deltaY + totalHeaderHeight + 1) * dpr;\n      args.sh = blitHeight * dpr;\n      args.dy = (totalHeaderHeight + 1) * dpr;\n      args.dh = blitHeight * dpr;\n      drawRegions.push({\n        x: 0,\n        y: height + deltaY - stickyRowHeight,\n        width: width,\n        height: -deltaY + stickyRowHeight\n      });\n    }\n\n    if (deltaX > 0) {\n      args.sx = stickyWidth * dpr;\n      args.sw = blitWidth * dpr;\n      args.dx = (deltaX + stickyWidth) * dpr;\n      args.dw = blitWidth * dpr;\n      drawRegions.push({\n        x: stickyWidth - 1,\n        y: 0,\n        width: deltaX + 2,\n        height: height\n      });\n    } else if (deltaX < 0) {\n      args.sx = (stickyWidth - deltaX) * dpr;\n      args.sw = blitWidth * dpr;\n      args.dx = stickyWidth * dpr;\n      args.dw = blitWidth * dpr;\n      drawRegions.push({\n        x: width + deltaX,\n        y: 0,\n        width: -deltaX,\n        height: height\n      });\n    }\n\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(canvas, args.sx, args.sy, args.sw, args.sh, args.dx, args.dy, args.dw, args.dh);\n    ctx.scale(dpr, dpr);\n  }\n\n  ctx.imageSmoothingEnabled = true;\n  return {\n    regions: drawRegions,\n    yOnly: blittedYOnly\n  };\n}\n\nfunction drawGridLines(ctx, effectiveCols, cellYOffset, translateX, translateY, width, height, drawRegions, spans, groupHeaderHeight, totalHeaderHeight, getRowHeight, getRowThemeOverride, verticalBorder, lastRowSticky, rows, theme) {\n  var _theme$horizontalBord;\n\n  let verticalOnly = arguments.length > 17 && arguments[17] !== undefined ? arguments[17] : false;\n\n  if (spans !== undefined) {\n    ctx.beginPath();\n    ctx.save();\n    ctx.rect(0, 0, width, height);\n\n    for (const span of spans) {\n      ctx.rect(span.x + 1, span.y + 1, span.width - 1, span.height - 1);\n    }\n\n    ctx.clip(\"evenodd\");\n  }\n\n  const hColor = (_theme$horizontalBord = theme.horizontalBorderColor) !== null && _theme$horizontalBord !== void 0 ? _theme$horizontalBord : theme.borderColor;\n  const vColor = theme.borderColor;\n  let minX = 0;\n  let maxX = width;\n  let minY = 0;\n  let maxY = height;\n\n  if (drawRegions !== undefined && drawRegions.length > 0) {\n    minX = Number.MAX_SAFE_INTEGER;\n    minY = Number.MAX_SAFE_INTEGER;\n    maxX = Number.MIN_SAFE_INTEGER;\n    maxY = Number.MIN_SAFE_INTEGER;\n\n    for (const r of drawRegions) {\n      minX = Math.min(minX, r.x - 1);\n      maxX = Math.max(maxX, r.x + r.width + 1);\n      minY = Math.min(minY, r.y - 1);\n      maxY = Math.max(maxY, r.y + r.height + 1);\n    }\n  }\n\n  const toDraw = [];\n  ctx.beginPath();\n  ctx.moveTo(minX, totalHeaderHeight + 0.5);\n  ctx.lineTo(maxX, totalHeaderHeight + 0.5);\n  ctx.strokeStyle = theme.bgHeader;\n  ctx.lineWidth = 1;\n  ctx.stroke();\n  ctx.beginPath();\n  let x = 0.5;\n\n  for (let index = 0; index < effectiveCols.length; index++) {\n    const c = effectiveCols[index];\n    if (c.width === 0) continue;\n    x += c.width;\n    const tx = c.sticky ? x : x + translateX;\n\n    if (tx >= minX && tx <= maxX - 1 && (index === effectiveCols.length - 1 || verticalBorder(index + 1))) {\n      toDraw.push({\n        x1: tx,\n        y1: Math.max(groupHeaderHeight, minY),\n        x2: tx,\n        y2: Math.min(height, maxY),\n        color: vColor\n      });\n    }\n  }\n\n  const stickyHeight = getRowHeight(rows - 1);\n  const stickyRowY = height - stickyHeight + 0.5;\n\n  if (lastRowSticky) {\n    toDraw.push({\n      x1: minX,\n      y1: stickyRowY,\n      x2: maxX,\n      y2: stickyRowY,\n      color: hColor\n    });\n  }\n\n  if (verticalOnly !== true) {\n    let y = totalHeaderHeight + 0.5;\n    let row = cellYOffset;\n    let isHeader = true;\n    const target = lastRowSticky ? height - stickyHeight : height;\n\n    while (y + translateY <= target) {\n      const ty = isHeader ? y : y + translateY;\n\n      if (ty >= minY && ty <= maxY - 1 && (!lastRowSticky || row !== rows - 1 || Math.abs(ty - stickyRowY) > 1)) {\n        var _ref, _rowTheme$horizontalB;\n\n        const rowTheme = isHeader ? undefined : getRowThemeOverride === null || getRowThemeOverride === void 0 ? void 0 : getRowThemeOverride(row);\n        toDraw.push({\n          x1: minX,\n          y1: ty,\n          x2: maxX,\n          y2: ty,\n          color: (_ref = (_rowTheme$horizontalB = rowTheme === null || rowTheme === void 0 ? void 0 : rowTheme.horizontalBorderColor) !== null && _rowTheme$horizontalB !== void 0 ? _rowTheme$horizontalB : rowTheme === null || rowTheme === void 0 ? void 0 : rowTheme.borderColor) !== null && _ref !== void 0 ? _ref : hColor\n        });\n      }\n\n      y += getRowHeight(row);\n      isHeader = false;\n      row++;\n    }\n  }\n\n  const groups = groupBy(toDraw, line => line.color);\n\n  for (const g of Object.keys(groups)) {\n    ctx.strokeStyle = g;\n\n    for (const line of groups[g]) {\n      ctx.moveTo(line.x1, line.y1);\n      ctx.lineTo(line.x2, line.y2);\n    }\n\n    ctx.stroke();\n    ctx.beginPath();\n  }\n\n  if (spans !== undefined) {\n    ctx.restore();\n  }\n}\n\nexport function getActionBoundsForGroup(box, actions) {\n  const result = [];\n  let x = box.x + box.width - 26 * actions.length;\n  const y = box.y + box.height / 2 - 13;\n  const height = 26;\n  const width = 26;\n\n  for (let i = 0; i < actions.length; i++) {\n    result.push({\n      x,\n      y,\n      width,\n      height\n    });\n    x += 26;\n  }\n\n  return result;\n}\nexport function pointInRect(rect, x, y) {\n  return x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;\n}\n\nfunction drawGroups(ctx, effectiveCols, width, translateX, groupHeaderHeight, hovered, theme, spriteManager, _hoverValues, verticalBorder, getGroupDetails, damage) {\n  var _hovered$;\n\n  const xPad = 8;\n  const [hCol, hRow] = (_hovered$ = hovered === null || hovered === void 0 ? void 0 : hovered[0]) !== null && _hovered$ !== void 0 ? _hovered$ : [];\n  let finalX = 0;\n  walkGroups(effectiveCols, width, translateX, groupHeaderHeight, (span, groupName, x, y, w, h) => {\n    var _groupTheme$textGroup;\n\n    if (damage !== undefined && !damage.some(d => d[1] === -2 && d[0] >= span[0] && d[0] <= span[1])) return;\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(x, y, w, h);\n    ctx.clip();\n    const group = getGroupDetails(groupName);\n    const groupTheme = (group === null || group === void 0 ? void 0 : group.overrideTheme) === undefined ? theme : { ...theme,\n      ...group.overrideTheme\n    };\n    const isHovered = hRow === -2 && hCol !== undefined && hCol >= span[0] && hCol <= span[1];\n    const fillColor = isHovered ? groupTheme.bgHeaderHovered : groupTheme.bgHeader;\n\n    if (fillColor !== theme.bgHeader) {\n      ctx.fillStyle = fillColor;\n      ctx.fill();\n    }\n\n    ctx.fillStyle = (_groupTheme$textGroup = groupTheme.textGroupHeader) !== null && _groupTheme$textGroup !== void 0 ? _groupTheme$textGroup : groupTheme.textHeader;\n\n    if (group !== undefined) {\n      let drawX = x;\n\n      if (group.icon !== undefined) {\n        spriteManager.drawSprite(group.icon, \"normal\", ctx, drawX + xPad, (groupHeaderHeight - 20) / 2, 20, groupTheme);\n        drawX += 26;\n      }\n\n      ctx.fillText(group.name, drawX + xPad, groupHeaderHeight / 2 + getMiddleCenterBias(ctx, `${theme.headerFontStyle} ${theme.fontFamily}`));\n\n      if (group.actions !== undefined && isHovered) {\n        var _hovered$2;\n\n        const actionBoxes = getActionBoundsForGroup({\n          x,\n          y,\n          width: w,\n          height: h\n        }, group.actions);\n        ctx.beginPath();\n        const fadeStartX = actionBoxes[0].x - 10;\n        const fadeWidth = x + w - fadeStartX;\n        ctx.rect(fadeStartX, 0, fadeWidth, groupHeaderHeight);\n        const grad = ctx.createLinearGradient(fadeStartX, 0, fadeStartX + fadeWidth, 0);\n        const trans = withAlpha(fillColor, 0);\n        grad.addColorStop(0, trans);\n        grad.addColorStop(10 / fadeWidth, fillColor);\n        grad.addColorStop(1, fillColor);\n        ctx.fillStyle = grad;\n        ctx.fill();\n        ctx.globalAlpha = 0.6;\n        const [mouseX, mouseY] = (_hovered$2 = hovered === null || hovered === void 0 ? void 0 : hovered[1]) !== null && _hovered$2 !== void 0 ? _hovered$2 : [-1, -1];\n\n        for (let i = 0; i < group.actions.length; i++) {\n          const action = group.actions[i];\n          const box = actionBoxes[i];\n          const actionHovered = pointInRect(box, mouseX + x, mouseY);\n\n          if (actionHovered) {\n            ctx.globalAlpha = 1;\n          }\n\n          spriteManager.drawSprite(action.icon, \"normal\", ctx, box.x + box.width / 2 - 10, box.y + box.height / 2 - 10, 20, groupTheme);\n\n          if (actionHovered) {\n            ctx.globalAlpha = 0.6;\n          }\n        }\n\n        ctx.globalAlpha = 1;\n      }\n    }\n\n    if (verticalBorder(span[0])) {\n      ctx.beginPath();\n      ctx.moveTo(x + 0.5, 0);\n      ctx.lineTo(x + 0.5, groupHeaderHeight);\n      ctx.strokeStyle = theme.borderColor;\n      ctx.lineWidth = 1;\n      ctx.stroke();\n    }\n\n    ctx.restore();\n    finalX = x + w;\n  });\n  ctx.beginPath();\n  ctx.moveTo(finalX + 0.5, 0);\n  ctx.lineTo(finalX + 0.5, groupHeaderHeight);\n  ctx.moveTo(0, groupHeaderHeight + 0.5);\n  ctx.lineTo(width, groupHeaderHeight + 0.5);\n  ctx.strokeStyle = theme.borderColor;\n  ctx.lineWidth = 1;\n  ctx.stroke();\n}\n\nconst menuButtonSize = 30;\nexport function getHeaderMenuBounds(x, y, width, height) {\n  return {\n    x: x + width - menuButtonSize,\n    y: Math.max(y, y + height / 2 - menuButtonSize / 2),\n    width: menuButtonSize,\n    height: Math.min(menuButtonSize, height)\n  };\n}\n\nfunction drawHeader(ctx, x, y, width, height, c, selected, theme, isHovered, hasSelectedCell, hoverAmount, spriteManager, drawHeaderCallback, touchMode) {\n  const menuBounds = getHeaderMenuBounds(x, y, width, height);\n\n  if (drawHeaderCallback !== undefined) {\n    if (drawHeaderCallback({\n      ctx,\n      theme,\n      rect: {\n        x,\n        y,\n        width,\n        height\n      },\n      column: c,\n      isSelected: selected,\n      hoverAmount,\n      isHovered,\n      hasSelectedCell,\n      spriteManager,\n      menuBounds\n    })) {\n      return;\n    }\n  }\n\n  const xPad = 8;\n  const fillStyle = selected ? theme.textHeaderSelected : theme.textHeader;\n  const shouldDrawMenu = c.hasMenu === true && (isHovered || touchMode && selected);\n  let drawX = x + xPad;\n\n  if (c.icon !== undefined) {\n    let variant = selected ? \"selected\" : \"normal\";\n\n    if (c.style === \"highlight\") {\n      variant = selected ? \"selected\" : \"special\";\n    }\n\n    spriteManager.drawSprite(c.icon, variant, ctx, drawX, y + (height - 20) / 2, 20, theme);\n\n    if (c.overlayIcon !== undefined) {\n      spriteManager.drawSprite(c.overlayIcon, selected ? \"selected\" : \"special\", ctx, drawX + 9, y + ((height - 18) / 2 + 6), 18, theme);\n    }\n\n    drawX += 26;\n  }\n\n  if (shouldDrawMenu && c.hasMenu === true && width > 35) {\n    const fadeWidth = 35;\n    const fadeStart = width - fadeWidth;\n    const fadeEnd = width - fadeWidth * 0.7;\n    const fadeStartPercent = fadeStart / width;\n    const fadeEndPercent = fadeEnd / width;\n    const grad = ctx.createLinearGradient(x, 0, x + width, 0);\n    const trans = withAlpha(fillStyle, 0);\n    grad.addColorStop(0, fillStyle);\n    grad.addColorStop(fadeStartPercent, fillStyle);\n    grad.addColorStop(fadeEndPercent, trans);\n    grad.addColorStop(1, trans);\n    ctx.fillStyle = grad;\n  } else {\n    ctx.fillStyle = fillStyle;\n  }\n\n  ctx.fillText(c.title, drawX, y + height / 2 + getMiddleCenterBias(ctx, `${theme.headerFontStyle} ${theme.fontFamily}`));\n\n  if (shouldDrawMenu && c.hasMenu === true) {\n    ctx.beginPath();\n    const triangleX = menuBounds.x + menuBounds.width / 2 - 5.5;\n    const triangleY = menuBounds.y + menuBounds.height / 2 - 3;\n    roundedPoly(ctx, [{\n      x: triangleX,\n      y: triangleY\n    }, {\n      x: triangleX + 11,\n      y: triangleY\n    }, {\n      x: triangleX + 5.5,\n      y: triangleY + 6\n    }], 1);\n    ctx.fillStyle = fillStyle;\n    ctx.fill();\n  }\n}\n\nfunction drawGridHeaders(ctx, effectiveCols, enableGroups, hovered, width, translateX, headerHeight, groupHeaderHeight, selectedColumns, dragAndDropState, isResizing, selectedCell, outerTheme, spriteManager, hoverValues, verticalBorder, getGroupDetails, damage, drawHeaderCallback, touchMode) {\n  var _hovered$3;\n\n  const totalHeaderHeight = headerHeight + groupHeaderHeight;\n  if (totalHeaderHeight <= 0) return;\n  ctx.fillStyle = outerTheme.bgHeader;\n  ctx.fillRect(0, 0, width, totalHeaderHeight);\n  const [hCol, hRow] = (_hovered$3 = hovered === null || hovered === void 0 ? void 0 : hovered[0]) !== null && _hovered$3 !== void 0 ? _hovered$3 : [];\n  const font = `${outerTheme.headerFontStyle} ${outerTheme.fontFamily}`;\n  ctx.font = font;\n  walkColumns(effectiveCols, 0, translateX, 0, totalHeaderHeight, (c, x, _y, clipX) => {\n    var _c$group, _hoverValues$find$hov, _hoverValues$find;\n\n    if (damage !== undefined && !damage.some(d => d[1] === -1 && d[0] === c.sourceIndex)) return;\n    const diff = Math.max(0, clipX - x);\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(x + diff, groupHeaderHeight, c.width - diff, headerHeight);\n    ctx.clip();\n    const groupTheme = getGroupDetails((_c$group = c.group) !== null && _c$group !== void 0 ? _c$group : \"\").overrideTheme;\n    const theme = c.themeOverride === undefined && groupTheme === undefined ? outerTheme : { ...outerTheme,\n      ...groupTheme,\n      ...c.themeOverride\n    };\n\n    if (theme.bgHeader !== outerTheme.bgHeader) {\n      ctx.fillStyle = theme.bgHeader;\n      ctx.fill();\n    }\n\n    const f = `${theme.headerFontStyle} ${theme.fontFamily}`;\n\n    if (font !== f) {\n      ctx.font = f;\n    }\n\n    const selected = selectedColumns.hasIndex(c.sourceIndex);\n    const noHover = dragAndDropState !== undefined || isResizing;\n    const hoveredBoolean = !noHover && hRow === -1 && hCol === c.sourceIndex;\n    const hover = noHover ? 0 : (_hoverValues$find$hov = (_hoverValues$find = hoverValues.find(s => s.item[0] === c.sourceIndex && s.item[1] === -1)) === null || _hoverValues$find === void 0 ? void 0 : _hoverValues$find.hoverAmount) !== null && _hoverValues$find$hov !== void 0 ? _hoverValues$find$hov : 0;\n    const hasSelectedCell = (selectedCell === null || selectedCell === void 0 ? void 0 : selectedCell.current) !== undefined && selectedCell.current.cell[0] === c.sourceIndex;\n    const bgFillStyle = selected ? theme.accentColor : hasSelectedCell ? theme.bgHeaderHasFocus : theme.bgHeader;\n    const y = enableGroups ? groupHeaderHeight : 0;\n    const xOffset = c.sourceIndex === 0 ? 0 : 1;\n\n    if (selected) {\n      ctx.fillStyle = bgFillStyle;\n      ctx.fillRect(x + xOffset, y, c.width - xOffset, headerHeight);\n    } else if (hasSelectedCell || hover > 0) {\n      ctx.beginPath();\n      ctx.rect(x + xOffset, y, c.width - xOffset, headerHeight);\n\n      if (hasSelectedCell) {\n        ctx.fillStyle = theme.bgHeaderHasFocus;\n        ctx.fill();\n      }\n\n      if (hover > 0) {\n        ctx.globalAlpha = hover;\n        ctx.fillStyle = theme.bgHeaderHovered;\n        ctx.fill();\n        ctx.globalAlpha = 1;\n      }\n    }\n\n    drawHeader(ctx, x, y, c.width, headerHeight, c, selected, theme, hoveredBoolean, hasSelectedCell, hover, spriteManager, drawHeaderCallback, touchMode);\n    ctx.restore();\n  });\n\n  if (enableGroups) {\n    drawGroups(ctx, effectiveCols, width, translateX, groupHeaderHeight, hovered, outerTheme, spriteManager, hoverValues, verticalBorder, getGroupDetails, damage);\n  }\n}\n\nfunction intersectRect(x1, y1, w1, h1, x2, y2, w2, h2) {\n  return x1 <= x2 + w2 && x2 <= x1 + w1 && y1 <= y2 + h2 && y2 <= y1 + h1;\n}\n\nfunction clipDamage(ctx, effectiveColumns, width, height, groupHeaderHeight, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, lastRowSticky, damage, includeCells) {\n  if (damage === undefined || damage.length === 0) return;\n  const stickyRowHeight = lastRowSticky ? getRowHeight(rows - 1) : 0;\n  ctx.beginPath();\n  walkGroups(effectiveColumns, width, translateX, groupHeaderHeight, (span, _group, x, y, w, h) => {\n    for (let i = 0; i < damage.length; i++) {\n      const d = damage[i];\n\n      if (d[1] === -2 && d[0] >= span[0] && d[0] <= span[1]) {\n        ctx.rect(x, y, w, h);\n        break;\n      }\n    }\n  });\n  walkColumns(effectiveColumns, cellYOffset, translateX, translateY, totalHeaderHeight, (c, drawX, colDrawY, clipX, startRow) => {\n    const diff = Math.max(0, clipX - drawX);\n    const finalX = drawX + diff + 1;\n    const finalWidth = c.width - diff - 1;\n\n    for (let i = 0; i < damage.length; i++) {\n      const d = damage[i];\n\n      if (d[0] === c.sourceIndex && (d[1] === -1 || d[1] === undefined)) {\n        ctx.rect(finalX, groupHeaderHeight, finalWidth, totalHeaderHeight - groupHeaderHeight);\n        break;\n      }\n    }\n\n    if (!includeCells) return;\n    walkRowsInCol(startRow, colDrawY, height, rows, getRowHeight, lastRowSticky, (drawY, row, rh, isSticky) => {\n      let isDamaged = false;\n\n      for (let i = 0; i < damage.length; i++) {\n        const d = damage[i];\n\n        if (d[0] === c.sourceIndex && d[1] === row) {\n          isDamaged = true;\n          break;\n        }\n      }\n\n      if (isDamaged) {\n        const top = drawY + 1;\n        const bottom = isSticky ? top + rh - 1 : Math.min(top + rh - 1, height - stickyRowHeight);\n        const h = bottom - top;\n\n        if (h > 0) {\n          ctx.rect(finalX, top, finalWidth, h);\n        }\n      }\n    });\n  });\n  ctx.clip();\n}\n\nfunction getSpanBounds(span, cellX, cellY, cellW, cellH, column, allColumns) {\n  var _allColumns$find$sour, _allColumns$find;\n\n  const [startCol, endCol] = span;\n  let frozenRect;\n  let contentRect;\n  const firstNonSticky = (_allColumns$find$sour = (_allColumns$find = allColumns.find(x => !x.sticky)) === null || _allColumns$find === void 0 ? void 0 : _allColumns$find.sourceIndex) !== null && _allColumns$find$sour !== void 0 ? _allColumns$find$sour : 0;\n\n  if (endCol > firstNonSticky) {\n    const renderFromCol = Math.max(startCol, firstNonSticky);\n    let tempX = cellX;\n    let tempW = cellW;\n\n    for (let x = column.sourceIndex - 1; x >= renderFromCol; x--) {\n      tempX -= allColumns[x].width;\n      tempW += allColumns[x].width;\n    }\n\n    for (let x = column.sourceIndex + 1; x <= endCol; x++) {\n      tempW += allColumns[x].width;\n    }\n\n    contentRect = {\n      x: tempX,\n      y: cellY,\n      width: tempW,\n      height: cellH\n    };\n  }\n\n  if (firstNonSticky > startCol) {\n    const renderToCol = Math.min(endCol, firstNonSticky - 1);\n    let tempX = cellX;\n    let tempW = cellW;\n\n    for (let x = column.sourceIndex - 1; x >= startCol; x--) {\n      tempX -= allColumns[x].width;\n      tempW += allColumns[x].width;\n    }\n\n    for (let x = column.sourceIndex + 1; x <= renderToCol; x++) {\n      tempW += allColumns[x].width;\n    }\n\n    frozenRect = {\n      x: tempX,\n      y: cellY,\n      width: tempW,\n      height: cellH\n    };\n  }\n\n  return [frozenRect, contentRect];\n}\n\nfunction drawCells(ctx, effectiveColumns, allColumns, height, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, getCellContent, getGroupDetails, getRowThemeOverride, selectedRows, disabledRows, isFocused, lastRowSticky, drawRegions, damage, selection, selectedColumns, prelightCells, highlightRegions, drawCustomCell, imageLoader, spriteManager, hoverValues, hoverInfo, outerTheme, enqueue) {\n  var _damage$length;\n\n  let toDraw = (_damage$length = damage === null || damage === void 0 ? void 0 : damage.length) !== null && _damage$length !== void 0 ? _damage$length : Number.MAX_SAFE_INTEGER;\n  const frameTime = performance.now();\n  let font = `${outerTheme.baseFontStyle} ${outerTheme.fontFamily}`;\n  ctx.font = font;\n  let result;\n  const handledSpans = new Set();\n  walkColumns(effectiveColumns, cellYOffset, translateX, translateY, totalHeaderHeight, (c, drawX, colDrawStartY, clipX, startRow) => {\n    var _c$group2;\n\n    const diff = Math.max(0, clipX - drawX);\n    const colDrawX = drawX + diff;\n    const colDrawY = totalHeaderHeight + 1;\n    const colWidth = c.width - diff;\n    const colHeight = height - totalHeaderHeight - 1;\n\n    if (drawRegions.length > 0) {\n      let found = false;\n\n      for (let i = 0; i < drawRegions.length; i++) {\n        const dr = drawRegions[i];\n\n        if (intersectRect(colDrawX, colDrawY, colWidth, colHeight, dr.x, dr.y, dr.width, dr.height)) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) return;\n    }\n\n    const reclip = () => {\n      ctx.save();\n      ctx.beginPath();\n      ctx.rect(colDrawX, colDrawY, colWidth, colHeight);\n      ctx.clip();\n    };\n\n    const colSelected = selectedColumns.hasIndex(c.sourceIndex);\n    const groupTheme = getGroupDetails((_c$group2 = c.group) !== null && _c$group2 !== void 0 ? _c$group2 : \"\").overrideTheme;\n    const colTheme = c.themeOverride === undefined && groupTheme === undefined ? outerTheme : { ...outerTheme,\n      ...groupTheme,\n      ...c.themeOverride\n    };\n    const colFont = `${colTheme.baseFontStyle} ${colTheme.fontFamily}`;\n\n    if (colFont !== font) {\n      font = colFont;\n      ctx.font = colFont;\n    }\n\n    reclip();\n    let prepResult = undefined;\n    walkRowsInCol(startRow, colDrawStartY, height, rows, getRowHeight, lastRowSticky, (drawY, row, rh, isSticky) => {\n      var _c$trailingRowOptions, _c$trailingRowOptions2;\n\n      if (damage !== undefined) {\n        let found = false;\n\n        for (let i = 0; i < damage.length; i++) {\n          const d = damage[i];\n\n          if (d[0] === c.sourceIndex && d[1] === row) {\n            found = true;\n            break;\n          }\n        }\n\n        if (!found) return;\n      }\n\n      if (drawRegions.length > 0) {\n        let found = false;\n\n        for (let i = 0; i < drawRegions.length; i++) {\n          const dr = drawRegions[i];\n\n          if (intersectRect(drawX, drawY, c.width, rh, dr.x, dr.y, dr.width, dr.height)) {\n            found = true;\n            break;\n          }\n        }\n\n        if (!found) return;\n      }\n\n      const rowSelected = selectedRows.hasIndex(row);\n      const rowDisabled = disabledRows.hasIndex(row);\n      const cell = row < rows ? getCellContent([c.sourceIndex, row]) : loadingCell;\n      let cellX = drawX;\n      let cellWidth = c.width;\n      let drawingSpan = false;\n      let skipContents = false;\n\n      if (cell.span !== undefined) {\n        const [startCol, endCol] = cell.span;\n        const spanKey = `${row},${startCol},${endCol},${c.sticky}`;\n\n        if (!handledSpans.has(spanKey)) {\n          const areas = getSpanBounds(cell.span, drawX, drawY, c.width, rh, c, allColumns);\n          const area = c.sticky ? areas[0] : areas[1];\n\n          if (!c.sticky && areas[0] !== undefined) {\n            skipContents = true;\n          }\n\n          if (area !== undefined) {\n            cellX = area.x;\n            cellWidth = area.width;\n            handledSpans.add(spanKey);\n            ctx.restore();\n            prepResult = undefined;\n            ctx.save();\n            ctx.beginPath();\n            const d = Math.max(0, clipX - area.x);\n            ctx.rect(area.x + d, drawY, area.width - d, rh);\n\n            if (result === undefined) {\n              result = [];\n            }\n\n            result.push({\n              x: area.x + d,\n              y: drawY,\n              width: area.width - d,\n              height: rh\n            });\n            ctx.clip();\n            drawingSpan = true;\n          }\n        } else {\n          toDraw--;\n          return;\n        }\n      }\n\n      const rowTheme = getRowThemeOverride === null || getRowThemeOverride === void 0 ? void 0 : getRowThemeOverride(row);\n      const trailingTheme = isSticky && ((_c$trailingRowOptions = c.trailingRowOptions) === null || _c$trailingRowOptions === void 0 ? void 0 : _c$trailingRowOptions.themeOverride) !== undefined ? (_c$trailingRowOptions2 = c.trailingRowOptions) === null || _c$trailingRowOptions2 === void 0 ? void 0 : _c$trailingRowOptions2.themeOverride : undefined;\n      const theme = cell.themeOverride === undefined && rowTheme === undefined && trailingTheme === undefined ? colTheme : { ...colTheme,\n        ...rowTheme,\n        ...trailingTheme,\n        ...cell.themeOverride\n      };\n      ctx.beginPath();\n      const cellIndex = [c.sourceIndex, row];\n      const isSelected = cellIsSelected(cellIndex, cell, selection);\n      let accentCount = cellIsInRange(cellIndex, cell, selection);\n      const spanIsHighlighted = cell.span !== undefined && selectedColumns.some(index => cell.span !== undefined && index >= cell.span[0] && index <= cell.span[1]);\n\n      if (isSelected && !isFocused) {\n        accentCount = 0;\n      } else if (isSelected) {\n        accentCount = Math.max(accentCount, 1);\n      }\n\n      if (spanIsHighlighted) {\n        accentCount++;\n      }\n\n      if (!isSelected) {\n        if (rowSelected) accentCount++;\n        if (colSelected && !isSticky) accentCount++;\n      }\n\n      let fill;\n\n      if (isSticky || theme.bgCell !== outerTheme.bgCell) {\n        fill = blend(theme.bgCell, fill);\n      }\n\n      if (accentCount > 0 || rowDisabled) {\n        if (rowDisabled) {\n          fill = blend(theme.bgHeader, fill);\n        }\n\n        for (let i = 0; i < accentCount; i++) {\n          fill = blend(theme.accentLight, fill);\n        }\n      } else {\n        if ((prelightCells === null || prelightCells === void 0 ? void 0 : prelightCells.some(pre => pre[0] === c.sourceIndex && pre[1] === row)) === true) {\n          fill = blend(theme.bgSearchResult, fill);\n        }\n      }\n\n      if (highlightRegions !== undefined) {\n        for (const region of highlightRegions) {\n          const r = region.range;\n\n          if (r.x <= c.sourceIndex && c.sourceIndex < r.x + r.width && r.y <= row && row < r.y + r.height) {\n            fill = blend(region.color, fill);\n          }\n        }\n      }\n\n      if (fill !== undefined) {\n        ctx.fillStyle = fill;\n\n        if (prepResult !== undefined) {\n          prepResult.fillStyle = fill;\n        }\n\n        ctx.fillRect(cellX, drawY, cellWidth, rh);\n      }\n\n      if (cell.style === \"faded\") {\n        ctx.globalAlpha = 0.6;\n      }\n\n      const hoverValue = hoverValues.find(hv => hv.item[0] === c.sourceIndex && hv.item[1] === row);\n\n      if (cellWidth > 10 && !skipContents) {\n        var _hoverValue$hoverAmou;\n\n        const cellFont = `${theme.baseFontStyle} ${theme.fontFamily}`;\n\n        if (cellFont !== font) {\n          ctx.font = cellFont;\n          font = cellFont;\n        }\n\n        prepResult = drawCell(ctx, row, cell, c.sourceIndex, cellX, drawY, cellWidth, rh, accentCount > 0, theme, drawCustomCell, imageLoader, spriteManager, (_hoverValue$hoverAmou = hoverValue === null || hoverValue === void 0 ? void 0 : hoverValue.hoverAmount) !== null && _hoverValue$hoverAmou !== void 0 ? _hoverValue$hoverAmou : 0, hoverInfo, frameTime, prepResult, enqueue);\n      }\n\n      if (cell.style === \"faded\") {\n        ctx.globalAlpha = 1;\n      }\n\n      toDraw--;\n\n      if (drawingSpan) {\n        var _prepResult, _prepResult$deprep;\n\n        ctx.restore();\n        (_prepResult = prepResult) === null || _prepResult === void 0 ? void 0 : (_prepResult$deprep = _prepResult.deprep) === null || _prepResult$deprep === void 0 ? void 0 : _prepResult$deprep.call(_prepResult, {\n          ctx\n        });\n        prepResult = undefined;\n        reclip();\n        font = colFont;\n        ctx.font = colFont;\n      }\n\n      return toDraw <= 0;\n    });\n    ctx.restore();\n    return toDraw <= 0;\n  });\n  return result;\n}\n\nfunction drawBlanks(ctx, effectiveColumns, allColumns, width, height, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, getRowTheme, selectedRows, disabledRows, lastRowSticky, drawRegions, damage, theme) {\n  if (damage !== undefined || effectiveColumns[effectiveColumns.length - 1] !== allColumns[effectiveColumns.length - 1]) return;\n  walkColumns(effectiveColumns, cellYOffset, translateX, translateY, totalHeaderHeight, (c, drawX, colDrawY, clipX, startRow) => {\n    if (c !== effectiveColumns[effectiveColumns.length - 1]) return;\n    drawX += c.width;\n    const x = Math.max(drawX, clipX);\n    if (x > width) return;\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(x, totalHeaderHeight + 1, 10000, height - totalHeaderHeight - 1);\n    ctx.clip();\n    walkRowsInCol(startRow, colDrawY, height, rows, getRowHeight, lastRowSticky, (drawY, row, rh, isSticky) => {\n      if (!isSticky && drawRegions.length > 0 && !drawRegions.some(dr => intersectRect(drawX, drawY, 10000, rh, dr.x, dr.y, dr.width, dr.height))) {\n        return;\n      }\n\n      const rowSelected = selectedRows.hasIndex(row);\n      const rowDisabled = disabledRows.hasIndex(row);\n      ctx.beginPath();\n      const rowTheme = getRowTheme === null || getRowTheme === void 0 ? void 0 : getRowTheme(row);\n      const blankTheme = rowTheme === undefined ? theme : { ...theme,\n        ...rowTheme\n      };\n\n      if (blankTheme.bgCell !== theme.bgCell) {\n        ctx.fillStyle = blankTheme.bgCell;\n        ctx.fillRect(drawX, drawY, 10000, rh);\n      }\n\n      if (rowDisabled) {\n        ctx.fillStyle = blankTheme.bgHeader;\n        ctx.fillRect(drawX, drawY, 10000, rh);\n      }\n\n      if (rowSelected) {\n        ctx.fillStyle = blankTheme.accentLight;\n        ctx.fillRect(drawX, drawY, 10000, rh);\n      }\n    });\n    ctx.restore();\n  });\n}\n\nfunction overdrawStickyBoundaries(ctx, effectiveCols, width, height, totalHeaderHeight, lastRowSticky, rows, getRowHeight, theme) {\n  const drawX = getStickyWidth(effectiveCols);\n  ctx.beginPath();\n  ctx.moveTo(0, totalHeaderHeight + 0.5);\n  ctx.lineTo(width, totalHeaderHeight + 0.5);\n  ctx.strokeStyle = theme.bgHeader;\n  ctx.stroke();\n  ctx.beginPath();\n  let doCell = false;\n\n  if (drawX !== 0) {\n    ctx.moveTo(drawX + 0.5, 0);\n    ctx.lineTo(drawX + 0.5, height);\n    doCell = true;\n  }\n\n  if (lastRowSticky) {\n    const h = getRowHeight(rows - 1);\n    ctx.moveTo(0, height - h + 0.5);\n    ctx.lineTo(width, height - h + 0.5);\n    doCell = true;\n  }\n\n  if (doCell) {\n    ctx.strokeStyle = theme.bgCell;\n    ctx.stroke();\n  }\n\n  ctx.moveTo(0, totalHeaderHeight + 0.5);\n  ctx.lineTo(width, totalHeaderHeight + 0.5);\n  ctx.strokeStyle = theme.borderColor;\n  ctx.stroke();\n}\n\nfunction drawHighlightRings(ctx, width, height, cellXOffset, cellYOffset, translateX, translateY, mappedColumns, freezeColumns, headerHeight, groupHeaderHeight, rowHeight, lastRowSticky, rows, highlightRegions) {\n  if (highlightRegions === undefined || highlightRegions.length === 0) return undefined;\n  const drawRects = highlightRegions.map(h => {\n    const r = h.range;\n    const topLeftBounds = computeBounds(r.x, r.y, width, height, groupHeaderHeight, headerHeight + groupHeaderHeight, cellXOffset, cellYOffset, translateX, translateY, rows, freezeColumns, lastRowSticky, mappedColumns, rowHeight);\n\n    if (r.width === 1 && r.height === 1) {\n      if (r.x < freezeColumns) {\n        return [{\n          color: h.color,\n          rect: topLeftBounds\n        }, undefined];\n      }\n\n      return [undefined, {\n        color: h.color,\n        rect: topLeftBounds\n      }];\n    }\n\n    const bottomRightBounds = computeBounds(r.x + r.width - 1, r.y + r.height - 1, width, height, groupHeaderHeight, headerHeight + groupHeaderHeight, cellXOffset, cellYOffset, translateX, translateY, rows, freezeColumns, lastRowSticky, mappedColumns, rowHeight);\n\n    if (r.x < freezeColumns && r.x + r.width >= freezeColumns) {\n      const freezeSectionRightBounds = computeBounds(freezeColumns - 1, r.y + r.height - 1, width, height, groupHeaderHeight, headerHeight + groupHeaderHeight, cellXOffset, cellYOffset, translateX, translateY, rows, freezeColumns, lastRowSticky, mappedColumns, rowHeight);\n      const unfreezeSectionleftBounds = computeBounds(freezeColumns, r.y + r.height - 1, width, height, groupHeaderHeight, headerHeight + groupHeaderHeight, cellXOffset, cellYOffset, translateX, translateY, rows, freezeColumns, lastRowSticky, mappedColumns, rowHeight);\n      return [{\n        color: h.color,\n        rect: {\n          x: topLeftBounds.x,\n          y: topLeftBounds.y,\n          width: freezeSectionRightBounds.x + freezeSectionRightBounds.width - topLeftBounds.x,\n          height: freezeSectionRightBounds.y + freezeSectionRightBounds.height - topLeftBounds.y\n        }\n      }, {\n        color: h.color,\n        rect: {\n          x: unfreezeSectionleftBounds.x,\n          y: unfreezeSectionleftBounds.y,\n          width: bottomRightBounds.x + bottomRightBounds.width - unfreezeSectionleftBounds.x,\n          height: bottomRightBounds.y + bottomRightBounds.height - unfreezeSectionleftBounds.y\n        }\n      }];\n    } else {\n      return [undefined, {\n        color: h.color,\n        rect: {\n          x: topLeftBounds.x,\n          y: topLeftBounds.y,\n          width: bottomRightBounds.x + bottomRightBounds.width - topLeftBounds.x,\n          height: bottomRightBounds.y + bottomRightBounds.height - topLeftBounds.y\n        }\n      }];\n    }\n  });\n  const stickyWidth = getStickyWidth(mappedColumns);\n\n  const drawCb = () => {\n    ctx.beginPath();\n    ctx.save();\n    ctx.setLineDash([7, 5]);\n    ctx.lineWidth = 2;\n\n    for (const dr of drawRects) {\n      const [s] = dr;\n\n      if (s !== undefined && intersectRect(0, 0, width, height, s.rect.x, s.rect.y, s.rect.width, s.rect.height)) {\n        ctx.strokeStyle = withAlpha(s.color, 1);\n        ctx.strokeRect(s.rect.x + 1, s.rect.y + 1, s.rect.width - 2, s.rect.height - 2);\n      }\n    }\n\n    let clipped = false;\n\n    for (const dr of drawRects) {\n      const [, s] = dr;\n\n      if (s !== undefined && intersectRect(0, 0, width, height, s.rect.x, s.rect.y, s.rect.width, s.rect.height)) {\n        if (!clipped && s.rect.x < stickyWidth) {\n          ctx.rect(stickyWidth, 0, width, height);\n          ctx.clip();\n          clipped = true;\n        }\n\n        ctx.strokeStyle = withAlpha(s.color, 1);\n        ctx.strokeRect(s.rect.x + 1, s.rect.y + 1, s.rect.width - 2, s.rect.height - 2);\n      }\n    }\n\n    ctx.restore();\n  };\n\n  drawCb();\n  return drawCb;\n}\n\nfunction drawFocusRing(ctx, width, height, cellYOffset, translateX, translateY, effectiveCols, allColumns, theme, totalHeaderHeight, selectedCell, getRowHeight, getCellContent, lastRowSticky, fillHandle, rows) {\n  var _cell$span;\n\n  if (selectedCell.current === undefined || effectiveCols.find(c => {\n    var _selectedCell$current;\n\n    return c.sourceIndex === ((_selectedCell$current = selectedCell.current) === null || _selectedCell$current === void 0 ? void 0 : _selectedCell$current.cell[0]) === undefined;\n  })) return undefined;\n  const [targetCol, targetRow] = selectedCell.current.cell;\n  const cell = getCellContent(selectedCell.current.cell);\n  const targetColSpan = (_cell$span = cell.span) !== null && _cell$span !== void 0 ? _cell$span : [targetCol, targetCol];\n  const isStickyRow = lastRowSticky && targetRow === rows - 1;\n  const stickRowHeight = lastRowSticky && !isStickyRow ? getRowHeight(rows - 1) - 1 : 0;\n  let drawCb = undefined;\n  walkColumns(effectiveCols, cellYOffset, translateX, translateY, totalHeaderHeight, (col, drawX, colDrawY, clipX, startRow) => {\n    if (col.sticky && targetCol > col.sourceIndex) return;\n\n    if (col.sourceIndex < targetColSpan[0] || col.sourceIndex > targetColSpan[1]) {\n      return;\n    }\n\n    walkRowsInCol(startRow, colDrawY, height, rows, getRowHeight, lastRowSticky, (drawY, row, rh) => {\n      if (row !== targetRow) return;\n      let cellX = drawX;\n      let cellWidth = col.width;\n\n      if (cell.span !== undefined) {\n        const areas = getSpanBounds(cell.span, drawX, drawY, col.width, rh, col, allColumns);\n        const area = col.sticky ? areas[0] : areas[1];\n\n        if (area !== undefined) {\n          cellX = area.x;\n          cellWidth = area.width;\n        }\n      }\n\n      drawCb = () => {\n        var _col$themeOverride$ac, _col$themeOverride;\n\n        if (clipX > cellX && !col.sticky) {\n          ctx.beginPath();\n          ctx.rect(clipX, 0, width - clipX, height);\n          ctx.clip();\n        }\n\n        ctx.beginPath();\n        ctx.rect(cellX + 0.5, drawY + 0.5, cellWidth, rh);\n        ctx.strokeStyle = (_col$themeOverride$ac = (_col$themeOverride = col.themeOverride) === null || _col$themeOverride === void 0 ? void 0 : _col$themeOverride.accentColor) !== null && _col$themeOverride$ac !== void 0 ? _col$themeOverride$ac : theme.accentColor;\n        ctx.lineWidth = 1;\n        ctx.stroke();\n\n        if (fillHandle) {\n          var _col$themeOverride$ac2, _col$themeOverride2;\n\n          ctx.beginPath();\n          ctx.rect(cellX + cellWidth - 4, drawY + rh - 4, 4, 4);\n          ctx.fillStyle = (_col$themeOverride$ac2 = (_col$themeOverride2 = col.themeOverride) === null || _col$themeOverride2 === void 0 ? void 0 : _col$themeOverride2.accentColor) !== null && _col$themeOverride$ac2 !== void 0 ? _col$themeOverride$ac2 : theme.accentColor;\n          ctx.fill();\n        }\n      };\n\n      return true;\n    });\n    return true;\n  });\n  if (drawCb === undefined) return undefined;\n\n  const result = () => {\n    var _drawCb;\n\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(0, totalHeaderHeight, width, height - totalHeaderHeight - stickRowHeight);\n    ctx.clip();\n    (_drawCb = drawCb) === null || _drawCb === void 0 ? void 0 : _drawCb();\n    ctx.restore();\n  };\n\n  result();\n  return result;\n}\n\nfunction getLastRow(effectiveColumns, height, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, lastRowSticky) {\n  let result = 0;\n  walkColumns(effectiveColumns, cellYOffset, translateX, translateY, totalHeaderHeight, (_c, __drawX, colDrawY, _clipX, startRow) => {\n    walkRowsInCol(startRow, colDrawY, height, rows, getRowHeight, lastRowSticky, (_drawY, row, _rh, isSticky) => {\n      if (!isSticky) {\n        result = Math.max(row, result);\n      }\n    });\n    return true;\n  });\n  return result;\n}\n\nexport function drawGrid(arg) {\n  var _window$devicePixelRa;\n\n  const {\n    canvas,\n    buffers,\n    width,\n    height,\n    cellXOffset,\n    cellYOffset,\n    translateX,\n    translateY,\n    columns,\n    mappedColumns,\n    enableGroups,\n    freezeColumns,\n    dragAndDropState,\n    theme,\n    headerHeight,\n    groupHeaderHeight,\n    selectedRows,\n    disabledRows,\n    rowHeight,\n    verticalBorder,\n    selectedColumns,\n    isResizing,\n    selectedCell,\n    fillHandle,\n    lastRowSticky,\n    rows,\n    getCellContent,\n    getGroupDetails,\n    getRowThemeOverride,\n    isFocused,\n    drawCustomCell,\n    drawHeaderCallback,\n    prelightCells,\n    highlightRegions,\n    imageLoader,\n    lastBlitData,\n    canBlit,\n    hoverValues,\n    hoverInfo,\n    spriteManager,\n    scrolling,\n    touchMode,\n    enqueue\n  } = arg;\n  let {\n    damage\n  } = arg;\n  if (width === 0 || height === 0) return;\n  const dpr = scrolling ? 1 : Math.ceil((_window$devicePixelRa = window.devicePixelRatio) !== null && _window$devicePixelRa !== void 0 ? _window$devicePixelRa : 1);\n\n  if (canvas.width !== width * dpr || canvas.height !== height * dpr) {\n    canvas.width = width * dpr;\n    canvas.height = height * dpr;\n    canvas.style.width = width + \"px\";\n    canvas.style.height = height + \"px\";\n  }\n\n  const overlayCanvas = buffers.overlay;\n  const totalHeaderHeight = enableGroups ? groupHeaderHeight + headerHeight : headerHeight;\n\n  if (overlayCanvas.width !== width * dpr || overlayCanvas.height !== totalHeaderHeight * dpr) {\n    overlayCanvas.width = width * dpr;\n    overlayCanvas.height = totalHeaderHeight * dpr;\n    overlayCanvas.style.width = width + \"px\";\n    overlayCanvas.style.height = totalHeaderHeight + \"px\";\n  }\n\n  const last = lastBlitData.current;\n  if (canBlit === true && cellXOffset === last.cellXOffset && cellYOffset === last.cellYOffset && translateX === last.translateX && translateY === last.translateY) return;\n  const targetCtx = canvas.getContext(\"2d\", {\n    alpha: false\n  });\n  const overlayCtx = overlayCanvas.getContext(\"2d\", {\n    alpha: false\n  });\n  if (overlayCtx === null || targetCtx === null) return;\n\n  const getRowHeight = r => typeof rowHeight === \"number\" ? rowHeight : rowHeight(r);\n\n  overlayCtx.save();\n  overlayCtx.beginPath();\n  targetCtx.save();\n  targetCtx.beginPath();\n  overlayCtx.textBaseline = \"middle\";\n  targetCtx.textBaseline = \"middle\";\n\n  if (dpr !== 1) {\n    overlayCtx.scale(dpr, dpr);\n    targetCtx.scale(dpr, dpr);\n  }\n\n  const effectiveCols = getEffectiveColumns(mappedColumns, cellXOffset, width, dragAndDropState, translateX);\n  let drawRegions = [];\n\n  const drawHeaderTexture = () => {\n    drawGridHeaders(overlayCtx, effectiveCols, enableGroups, hoverInfo, width, translateX, headerHeight, groupHeaderHeight, selectedColumns, dragAndDropState, isResizing, selectedCell, theme, spriteManager, hoverValues, verticalBorder, getGroupDetails, damage, drawHeaderCallback, touchMode);\n    drawGridLines(overlayCtx, effectiveCols, cellYOffset, translateX, translateY, width, height, undefined, undefined, groupHeaderHeight, totalHeaderHeight, getRowHeight, getRowThemeOverride, verticalBorder, lastRowSticky, rows, theme, true);\n  };\n\n  if (damage !== undefined) {\n    let doHeaders = false;\n    damage = damage.filter(x => {\n      doHeaders = doHeaders || x[1] < 0;\n      return x[1] < 0 || intersectRect(cellXOffset, cellYOffset, effectiveCols.length, 300, x[0], x[1], 1, 1) || intersectRect(0, cellYOffset, freezeColumns, 300, x[0], x[1], 1, 1) || lastRowSticky && intersectRect(cellXOffset, rows - 1, effectiveCols.length, 1, x[0], x[1], 1, 1);\n    });\n\n    if (damage.length > 0) {\n      clipDamage(targetCtx, effectiveCols, width, height, groupHeaderHeight, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, lastRowSticky, damage, true);\n      targetCtx.fillStyle = theme.bgCell;\n      targetCtx.fillRect(0, totalHeaderHeight + 1, width, height - totalHeaderHeight - 1);\n      drawCells(targetCtx, effectiveCols, mappedColumns, height, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, getCellContent, getGroupDetails, getRowThemeOverride, selectedRows, disabledRows, isFocused, lastRowSticky, drawRegions, damage, selectedCell, selectedColumns, prelightCells, highlightRegions, drawCustomCell, imageLoader, spriteManager, hoverValues, hoverInfo, theme, enqueue);\n\n      if (fillHandle && selectedCell.current !== undefined && damage.some(x => {\n        var _selectedCell$current2, _selectedCell$current3;\n\n        return x[0] === ((_selectedCell$current2 = selectedCell.current) === null || _selectedCell$current2 === void 0 ? void 0 : _selectedCell$current2.cell[0]) && x[1] === ((_selectedCell$current3 = selectedCell.current) === null || _selectedCell$current3 === void 0 ? void 0 : _selectedCell$current3.cell[1]);\n      })) {\n        drawFocusRing(targetCtx, width, height, cellYOffset, translateX, translateY, effectiveCols, mappedColumns, theme, totalHeaderHeight, selectedCell, getRowHeight, getCellContent, lastRowSticky, fillHandle, rows);\n      }\n    }\n\n    if (doHeaders) {\n      clipDamage(overlayCtx, effectiveCols, width, totalHeaderHeight, groupHeaderHeight, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, lastRowSticky, damage, false);\n      drawHeaderTexture();\n    }\n\n    targetCtx.restore();\n    overlayCtx.restore();\n    return;\n  }\n\n  if (!canBlit || cellXOffset !== last.cellXOffset || translateX !== last.translateX) {\n    drawHeaderTexture();\n  }\n\n  if (canBlit === true) {\n    const {\n      regions\n    } = blitLastFrame(targetCtx, canvas, last, cellXOffset, cellYOffset, translateX, translateY, lastRowSticky, width, height, rows, totalHeaderHeight, dpr, columns, effectiveCols, rowHeight);\n    drawRegions = regions;\n  }\n\n  overdrawStickyBoundaries(targetCtx, effectiveCols, width, height, totalHeaderHeight, lastRowSticky, rows, getRowHeight, theme);\n  const focusRedraw = drawFocusRing(targetCtx, width, height, cellYOffset, translateX, translateY, effectiveCols, mappedColumns, theme, totalHeaderHeight, selectedCell, getRowHeight, getCellContent, lastRowSticky, fillHandle, rows);\n  const highlightRedraw = drawHighlightRings(targetCtx, width, height, cellXOffset, cellYOffset, translateX, translateY, mappedColumns, freezeColumns, headerHeight, groupHeaderHeight, rowHeight, lastRowSticky, rows, highlightRegions);\n  targetCtx.fillStyle = theme.bgCell;\n\n  if (drawRegions.length > 0) {\n    targetCtx.beginPath();\n\n    for (const r of drawRegions) {\n      targetCtx.rect(r.x, r.y, r.width, r.height);\n    }\n\n    targetCtx.clip();\n    targetCtx.fill();\n    targetCtx.beginPath();\n  } else {\n    targetCtx.fillRect(0, 0, width, height);\n  }\n\n  const spans = drawCells(targetCtx, effectiveCols, mappedColumns, height, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, getCellContent, getGroupDetails, getRowThemeOverride, selectedRows, disabledRows, isFocused, lastRowSticky, drawRegions, damage, selectedCell, selectedColumns, prelightCells, highlightRegions, drawCustomCell, imageLoader, spriteManager, hoverValues, hoverInfo, theme, enqueue);\n  drawBlanks(targetCtx, effectiveCols, mappedColumns, width, height, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, getRowThemeOverride, selectedRows, disabledRows, lastRowSticky, drawRegions, damage, theme);\n  drawGridLines(targetCtx, effectiveCols, cellYOffset, translateX, translateY, width, height, drawRegions, spans, groupHeaderHeight, totalHeaderHeight, getRowHeight, getRowThemeOverride, verticalBorder, lastRowSticky, rows, theme);\n  focusRedraw === null || focusRedraw === void 0 ? void 0 : focusRedraw();\n  highlightRedraw === null || highlightRedraw === void 0 ? void 0 : highlightRedraw();\n  const lastRowDrawn = getLastRow(effectiveCols, height, totalHeaderHeight, translateX, translateY, cellYOffset, rows, getRowHeight, lastRowSticky);\n  imageLoader === null || imageLoader === void 0 ? void 0 : imageLoader.setWindow({\n    x: cellXOffset,\n    y: cellYOffset,\n    width: effectiveCols.length,\n    height: lastRowDrawn - cellYOffset\n  }, freezeColumns);\n  lastBlitData.current = {\n    cellXOffset,\n    cellYOffset,\n    translateX,\n    translateY\n  };\n  targetCtx.restore();\n  overlayCtx.restore();\n}\n\nfunction walkRowsInCol(startRow, drawY, height, rows, getRowHeight, lastRowSticky, cb) {\n  let y = drawY;\n  let row = startRow;\n  let doSticky = lastRowSticky;\n\n  while (y < height || doSticky) {\n    const doingSticky = doSticky && y >= height;\n\n    if (doingSticky) {\n      doSticky = false;\n      row = rows - 1;\n    }\n\n    const rh = getRowHeight(row);\n\n    if (doingSticky) {\n      y = height - rh;\n    }\n\n    const isMovedStickyRow = doSticky && row === rows - 1;\n\n    if (!isMovedStickyRow) {\n      if (cb(y, row, rh, doingSticky) === true) {\n        break;\n      }\n    }\n\n    if (doingSticky) {\n      break;\n    }\n\n    y += rh;\n    row++;\n  }\n}\n\nfunction walkColumns(effectiveCols, cellYOffset, translateX, translateY, totalHeaderHeight, cb) {\n  let x = 0;\n  let clipX = 0;\n  const drawY = totalHeaderHeight + translateY;\n\n  for (const c of effectiveCols) {\n    let drawX;\n\n    if (c.sticky) {\n      drawX = clipX;\n    } else {\n      drawX = x + translateX;\n    }\n\n    if (cb(c, drawX, drawY, clipX, cellYOffset) === true) {\n      break;\n    }\n\n    x += c.width;\n    clipX += c.sticky ? c.width : 0;\n  }\n}\n\nfunction walkGroups(effectiveCols, width, translateX, groupHeaderHeight, cb) {\n  let x = 0;\n  let clipX = 0;\n\n  for (let index = 0; index < effectiveCols.length; index++) {\n    var _startCol$group;\n\n    const startCol = effectiveCols[index];\n    let end = index + 1;\n    let boxWidth = startCol.width;\n\n    if (startCol.sticky) {\n      clipX += boxWidth;\n    }\n\n    while (end < effectiveCols.length && isGroupEqual(effectiveCols[end].group, startCol.group) && effectiveCols[end].sticky === effectiveCols[index].sticky) {\n      const endCol = effectiveCols[end];\n      boxWidth += endCol.width;\n      end++;\n      index++;\n\n      if (endCol.sticky) {\n        clipX += endCol.width;\n      }\n    }\n\n    const t = startCol.sticky ? 0 : translateX;\n    const localX = x + t;\n    const delta = startCol.sticky ? 0 : Math.max(0, clipX - localX);\n    const w = Math.min(boxWidth - delta, width - (localX + delta));\n    cb([startCol.sourceIndex, effectiveCols[end - 1].sourceIndex], (_startCol$group = startCol.group) !== null && _startCol$group !== void 0 ? _startCol$group : \"\", localX + delta, 0, w, groupHeaderHeight);\n    x += boxWidth;\n  }\n}","import clamp from \"lodash/clamp.js\";\nconst hoverTime = 80;\nexport function easeOutCubic(x) {\n  const x1 = x - 1;\n  return x1 * x1 * x1 + 1;\n}\nexport class AnimationManager {\n  constructor(callback) {\n    this.callback = callback;\n    this.currentHoveredItem = undefined;\n    this.leavingItems = [];\n    this.lastAnimationTime = void 0;\n\n    this.areSameItems = (left, right) => {\n      return (left === null || left === void 0 ? void 0 : left[0]) === (right === null || right === void 0 ? void 0 : right[0]) && (left === null || left === void 0 ? void 0 : left[1]) === (right === null || right === void 0 ? void 0 : right[1]);\n    };\n\n    this.addToLeavingItems = item => {\n      const isAlreadyLeaving = this.leavingItems.find(i => this.areSameItems(i.item, item.item)) !== undefined;\n\n      if (isAlreadyLeaving) {\n        return;\n      }\n\n      this.leavingItems.push(item);\n    };\n\n    this.removeFromLeavingItems = item => {\n      var _leavingItem$hoverAmo;\n\n      const leavingItem = this.leavingItems.find(e => this.areSameItems(e.item, item));\n      this.leavingItems = this.leavingItems.filter(i => i !== leavingItem);\n      return (_leavingItem$hoverAmo = leavingItem === null || leavingItem === void 0 ? void 0 : leavingItem.hoverAmount) !== null && _leavingItem$hoverAmo !== void 0 ? _leavingItem$hoverAmo : 0;\n    };\n\n    this.cleanUpLeavingElements = () => {\n      this.leavingItems = this.leavingItems.filter(i => i.hoverAmount > 0);\n    };\n\n    this.shouldStep = () => {\n      const hasLeavingItems = this.leavingItems.length > 0;\n      const currentHoveredIsAnimating = this.currentHoveredItem !== undefined && this.currentHoveredItem.hoverAmount < 1;\n      return hasLeavingItems || currentHoveredIsAnimating;\n    };\n\n    this.getAnimatingItems = () => {\n      if (this.currentHoveredItem !== undefined) {\n        return [...this.leavingItems, this.currentHoveredItem];\n      }\n\n      return this.leavingItems.map(x => ({ ...x,\n        hoverAmount: easeOutCubic(x.hoverAmount)\n      }));\n    };\n\n    this.step = timestamp => {\n      if (this.lastAnimationTime === undefined) {\n        this.lastAnimationTime = timestamp;\n      } else {\n        const step = timestamp - this.lastAnimationTime;\n        const delta = step / hoverTime;\n\n        for (const item of this.leavingItems) {\n          item.hoverAmount = clamp(item.hoverAmount - delta, 0, 1);\n        }\n\n        if (this.currentHoveredItem !== undefined) {\n          this.currentHoveredItem.hoverAmount = clamp(this.currentHoveredItem.hoverAmount + delta, 0, 1);\n        }\n\n        const animating = this.getAnimatingItems();\n        this.callback(animating);\n        this.cleanUpLeavingElements();\n      }\n\n      if (this.shouldStep()) {\n        this.lastAnimationTime = timestamp;\n        window.requestAnimationFrame(this.step);\n      } else {\n        this.lastAnimationTime = undefined;\n      }\n    };\n\n    this.setHovered = item => {\n      var _this$currentHoveredI;\n\n      if (this.areSameItems((_this$currentHoveredI = this.currentHoveredItem) === null || _this$currentHoveredI === void 0 ? void 0 : _this$currentHoveredI.item, item)) {\n        return;\n      }\n\n      if (this.currentHoveredItem !== undefined) {\n        this.addToLeavingItems(this.currentHoveredItem);\n      }\n\n      if (item !== undefined) {\n        const hoverAmount = this.removeFromLeavingItems(item);\n        this.currentHoveredItem = {\n          item,\n          hoverAmount\n        };\n      } else {\n        this.currentHoveredItem = undefined;\n      }\n\n      if (this.lastAnimationTime === undefined) {\n        window.requestAnimationFrame(this.step);\n      }\n    };\n  }\n\n}","const {\n  userAgent\n} = window.navigator;\n\nclass Lazy {\n  constructor(fn) {\n    this.fn = void 0;\n    this.val = void 0;\n    this.fn = fn;\n  }\n\n  get value() {\n    var _this$val;\n\n    return (_this$val = this.val) !== null && _this$val !== void 0 ? _this$val : this.val = this.fn();\n  }\n\n}\n\nfunction lazy(fn) {\n  return new Lazy(fn);\n}\n\nexport const browserIsFirefox = userAgent.includes(\"Firefox\");\nexport const browserIsSafari = userAgent.indexOf(\"Mac OS\") > -1 && userAgent.indexOf(\"Safari\") > -1 && userAgent.indexOf(\"Chrome\") < 0;\nexport const browserIsOSX = lazy(() => window.navigator.platform.toLowerCase().startsWith(\"mac\"));","import * as React from \"react\";\nimport { useTheme } from \"styled-components\";\nimport ImageWindowLoader from \"../common/image-window-loader.js\";\nimport { computeBounds, getColumnIndexForX, getEffectiveColumns, getRowIndexForY, getStickyWidth, useMappedColumns } from \"./data-grid-lib.js\";\nimport { GridCellKind, InnerGridCellKind, CompactSelection, isReadWriteCell, isInnerOnlyCell, booleanCellIsEditable } from \"./data-grid-types.js\";\nimport { SpriteManager } from \"./data-grid-sprites.js\";\nimport { useDebouncedMemo, useEventListener } from \"../common/utils.js\";\nimport makeRange from \"lodash/range.js\";\nimport { drawCell, drawGrid, getActionBoundsForGroup, getHeaderMenuBounds, pointInRect } from \"./data-grid-render.js\";\nimport { AnimationManager } from \"./animation-manager.js\";\nimport { browserIsFirefox } from \"../common/browser-detect.js\";\nimport { CellRenderers } from \"./cells/index.js\";\nimport { useAnimationQueue } from \"./use-animation-queue.js\";\n\nconst DataGrid = (p, forwardedRef) => {\n  var _p$translateX, _p$translateY, _p$experimental, _eventTargetRef$curre;\n\n  const {\n    width,\n    height,\n    accessibilityHeight,\n    className,\n    columns,\n    cellXOffset: cellXOffsetReal,\n    cellYOffset,\n    headerHeight,\n    fillHandle = false,\n    groupHeaderHeight,\n    rowHeight,\n    rows,\n    getCellContent,\n    getRowThemeOverride,\n    onHeaderMenuClick,\n    enableGroups,\n    isFilling,\n    onCanvasFocused,\n    onCanvasBlur,\n    isFocused,\n    selection,\n    freezeColumns,\n    lastRowSticky,\n    onMouseDown,\n    onMouseUp,\n    onMouseMoveRaw,\n    onMouseMove,\n    onItemHovered,\n    dragAndDropState,\n    firstColAccessible,\n    onKeyDown,\n    onKeyUp,\n    highlightRegions,\n    canvasRef,\n    onDragStart,\n    eventTargetRef,\n    isResizing,\n    isDragging,\n    isDraggable = false,\n    allowResize,\n    disabledRows,\n    getGroupDetails,\n    prelightCells,\n    headerIcons,\n    verticalBorder,\n    drawHeader,\n    drawCustomCell,\n    onCellFocused\n  } = p;\n  const translateX = (_p$translateX = p.translateX) !== null && _p$translateX !== void 0 ? _p$translateX : 0;\n  const translateY = (_p$translateY = p.translateY) !== null && _p$translateY !== void 0 ? _p$translateY : 0;\n  const cellXOffset = Math.max(freezeColumns, Math.min(columns.length - 1, cellXOffsetReal));\n  const theme = useTheme();\n  const ref = React.useRef(null);\n  const imageLoader = React.useMemo(() => new ImageWindowLoader(), []);\n  const canBlit = React.useRef();\n  const damageRegion = React.useRef(undefined);\n  const [scrolling, setScrolling] = React.useState(false);\n  const hoverValues = React.useRef([]);\n  const lastBlitData = React.useRef({\n    cellXOffset,\n    cellYOffset,\n    translateX,\n    translateY\n  });\n  const [hoveredItemInfo, setHoveredItemInfo] = React.useState();\n  const [hoveredOnEdge, setHoveredOnEdge] = React.useState();\n  const overlayRef = React.useRef(null);\n  const [lastWasTouch, setLastWasTouch] = React.useState(false);\n  const lastWasTouchRef = React.useRef(lastWasTouch);\n  lastWasTouchRef.current = lastWasTouch;\n  const spriteManager = React.useMemo(() => new SpriteManager(headerIcons), [headerIcons]);\n  const totalHeaderHeight = enableGroups ? groupHeaderHeight + headerHeight : headerHeight;\n  const scrollingStopRef = React.useRef(-1);\n  const disableFirefoxRescaling = ((_p$experimental = p.experimental) === null || _p$experimental === void 0 ? void 0 : _p$experimental.enableFirefoxRescaling) !== true;\n  React.useLayoutEffect(() => {\n    if (!browserIsFirefox || window.devicePixelRatio === 1 || disableFirefoxRescaling) return;\n\n    if (scrollingStopRef.current !== -1) {\n      setScrolling(true);\n    }\n\n    window.clearTimeout(scrollingStopRef.current);\n    scrollingStopRef.current = window.setTimeout(() => {\n      setScrolling(false);\n      scrollingStopRef.current = -1;\n    }, 200);\n  }, [cellYOffset, cellXOffset, translateX, translateY, disableFirefoxRescaling]);\n  React.useLayoutEffect(() => {\n    const fn = async () => {\n      const changed = await spriteManager.buildSpriteMap(theme, columns);\n\n      if (changed) {\n        lastDrawRef.current();\n      }\n    };\n\n    void fn();\n  }, [columns, spriteManager, theme]);\n  const mappedColumns = useMappedColumns(columns, freezeColumns);\n  const getBoundsForItem = React.useCallback((canvas, col, row) => {\n    const rect = canvas.getBoundingClientRect();\n    const result = computeBounds(col, row, width, height, groupHeaderHeight, totalHeaderHeight, cellXOffset, cellYOffset, translateX, translateY, rows, freezeColumns, lastRowSticky, mappedColumns, rowHeight);\n    result.x += rect.x;\n    result.y += rect.y;\n    return result;\n  }, [width, height, groupHeaderHeight, totalHeaderHeight, cellXOffset, cellYOffset, translateX, translateY, rows, freezeColumns, lastRowSticky, mappedColumns, rowHeight]);\n  const getMouseArgsForPosition = React.useCallback((canvas, posX, posY, ev) => {\n    const rect = canvas.getBoundingClientRect();\n    const x = posX - rect.left;\n    const y = posY - rect.top;\n    const edgeDetectionBuffer = 5;\n    const effectiveCols = getEffectiveColumns(mappedColumns, cellXOffset, width, undefined, translateX);\n    let button = 0;\n\n    if (ev instanceof MouseEvent) {\n      button = ev.button;\n    }\n\n    const col = getColumnIndexForX(x, effectiveCols, translateX);\n    const row = getRowIndexForY(y, height, enableGroups, headerHeight, groupHeaderHeight, rows, rowHeight, cellYOffset, translateY, lastRowSticky);\n    const shiftKey = (ev === null || ev === void 0 ? void 0 : ev.shiftKey) === true;\n    const ctrlKey = (ev === null || ev === void 0 ? void 0 : ev.ctrlKey) === true;\n    const metaKey = (ev === null || ev === void 0 ? void 0 : ev.metaKey) === true;\n    const isTouch = ev !== undefined && !(ev instanceof MouseEvent);\n    let result;\n\n    if (col === -1 || y < 0 || x < 0 || row === undefined || x > width || y > height) {\n      const horizontal = x > width ? -1 : x < 0 ? 1 : 0;\n      const vertical = y > height ? 1 : y < 0 ? -1 : 0;\n      let isEdge = false;\n\n      if (col === -1 && row === -1) {\n        const b = getBoundsForItem(canvas, mappedColumns.length - 1, -1);\n        isEdge = posX < b.x + b.width + edgeDetectionBuffer;\n      }\n\n      result = {\n        kind: \"out-of-bounds\",\n        location: [col !== -1 ? col : x < 0 ? 0 : mappedColumns.length - 1, row !== null && row !== void 0 ? row : rows - 1],\n        direction: [horizontal, vertical],\n        shiftKey,\n        ctrlKey,\n        metaKey,\n        isEdge,\n        isTouch,\n        button\n      };\n    } else if (row <= -1) {\n      let bounds = getBoundsForItem(canvas, col, row);\n      let isEdge = bounds !== undefined && bounds.x + bounds.width - posX <= edgeDetectionBuffer;\n      const previousCol = col - 1;\n\n      if (posX - bounds.x <= edgeDetectionBuffer && previousCol >= 0) {\n        var _mappedColumns$previo;\n\n        isEdge = true;\n        bounds = getBoundsForItem(canvas, previousCol, row);\n        result = {\n          kind: enableGroups && row === -2 ? \"group-header\" : \"header\",\n          location: [previousCol, row],\n          bounds: bounds,\n          group: (_mappedColumns$previo = mappedColumns[previousCol].group) !== null && _mappedColumns$previo !== void 0 ? _mappedColumns$previo : \"\",\n          isEdge,\n          shiftKey,\n          ctrlKey,\n          metaKey,\n          isTouch,\n          localEventX: posX - bounds.x,\n          localEventY: posY - bounds.y,\n          button\n        };\n      } else {\n        var _mappedColumns$col$gr;\n\n        result = {\n          kind: enableGroups && row === -2 ? \"group-header\" : \"header\",\n          group: (_mappedColumns$col$gr = mappedColumns[col].group) !== null && _mappedColumns$col$gr !== void 0 ? _mappedColumns$col$gr : \"\",\n          location: [col, row],\n          bounds: bounds,\n          isEdge,\n          shiftKey,\n          ctrlKey,\n          metaKey,\n          isTouch,\n          localEventX: posX - bounds.x,\n          localEventY: posY - bounds.y,\n          button\n        };\n      }\n    } else {\n      const bounds = getBoundsForItem(canvas, col, row);\n      const isEdge = bounds !== undefined && bounds.x + bounds.width - posX < edgeDetectionBuffer;\n      const isFillHandle = fillHandle && bounds !== undefined && bounds.x + bounds.width - posX < 6 && bounds.y + bounds.height - posY < 6;\n      result = {\n        kind: \"cell\",\n        location: [col, row],\n        bounds: bounds,\n        isEdge,\n        shiftKey,\n        ctrlKey,\n        isFillHandle,\n        metaKey,\n        isTouch,\n        localEventX: posX - bounds.x,\n        localEventY: posY - bounds.y,\n        button\n      };\n    }\n\n    return result;\n  }, [mappedColumns, cellXOffset, width, translateX, height, enableGroups, headerHeight, groupHeaderHeight, rows, rowHeight, cellYOffset, translateY, lastRowSticky, getBoundsForItem, fillHandle]);\n\n  function isSameItem(item, other) {\n    if (item === other) return true;\n    return (item === null || item === void 0 ? void 0 : item.kind) === (other === null || other === void 0 ? void 0 : other.kind) && (item === null || item === void 0 ? void 0 : item.location[0]) === (other === null || other === void 0 ? void 0 : other.location[0]) && (item === null || item === void 0 ? void 0 : item.location[1]) === (other === null || other === void 0 ? void 0 : other.location[1]);\n  }\n\n  const [hoveredItem] = hoveredItemInfo !== null && hoveredItemInfo !== void 0 ? hoveredItemInfo : [];\n  const enqueueRef = React.useRef(_item => {});\n  const hoverInfoRef = React.useRef(hoveredItemInfo);\n  hoverInfoRef.current = hoveredItemInfo;\n  const draw = React.useCallback(() => {\n    var _canBlit$current;\n\n    const canvas = ref.current;\n    const overlay = overlayRef.current;\n    if (canvas === null || overlay === null) return;\n    drawGrid({\n      canvas,\n      buffers: {\n        overlay\n      },\n      width,\n      height,\n      cellXOffset,\n      cellYOffset,\n      translateX: Math.round(translateX),\n      translateY: Math.round(translateY),\n      columns,\n      mappedColumns,\n      enableGroups,\n      freezeColumns,\n      dragAndDropState,\n      theme,\n      headerHeight,\n      groupHeaderHeight,\n      selectedRows: selection.rows,\n      disabledRows: disabledRows !== null && disabledRows !== void 0 ? disabledRows : CompactSelection.empty(),\n      rowHeight,\n      verticalBorder,\n      selectedColumns: selection.columns,\n      isResizing,\n      isFocused,\n      selectedCell: selection,\n      fillHandle,\n      lastRowSticky,\n      rows,\n      getCellContent,\n      getGroupDetails: getGroupDetails !== null && getGroupDetails !== void 0 ? getGroupDetails : name => ({\n        name\n      }),\n      getRowThemeOverride,\n      drawCustomCell,\n      drawHeaderCallback: drawHeader,\n      prelightCells,\n      highlightRegions,\n      imageLoader,\n      lastBlitData,\n      canBlit: (_canBlit$current = canBlit.current) !== null && _canBlit$current !== void 0 ? _canBlit$current : false,\n      damage: damageRegion.current,\n      hoverValues: hoverValues.current,\n      hoverInfo: hoverInfoRef.current,\n      spriteManager,\n      scrolling,\n      touchMode: lastWasTouch,\n      enqueue: enqueueRef.current\n    });\n  }, [width, height, cellXOffset, cellYOffset, translateX, translateY, columns, mappedColumns, enableGroups, freezeColumns, dragAndDropState, theme, headerHeight, isFocused, groupHeaderHeight, selection, disabledRows, rowHeight, verticalBorder, isResizing, fillHandle, lastRowSticky, rows, getCellContent, getGroupDetails, getRowThemeOverride, drawCustomCell, drawHeader, prelightCells, highlightRegions, imageLoader, spriteManager, scrolling, lastWasTouch]);\n  canBlit.current = canBlit.current !== undefined;\n  React.useLayoutEffect(() => {\n    canBlit.current = false;\n  }, [width, height, columns, theme, headerHeight, rowHeight, rows, isFocused, isResizing, verticalBorder, getCellContent, highlightRegions, lastWasTouch, selection, dragAndDropState, prelightCells, scrolling]);\n  const lastDrawRef = React.useRef(draw);\n  React.useLayoutEffect(() => {\n    draw();\n    lastDrawRef.current = draw;\n  }, [draw]);\n  React.useLayoutEffect(() => {\n    const fn = async () => {\n      var _document, _document$fonts;\n\n      if (((_document = document) === null || _document === void 0 ? void 0 : (_document$fonts = _document.fonts) === null || _document$fonts === void 0 ? void 0 : _document$fonts.ready) === undefined) return;\n      await document.fonts.ready;\n      const prev = canBlit.current;\n      canBlit.current = false;\n      lastDrawRef.current();\n      canBlit.current = prev;\n    };\n\n    void fn();\n  }, []);\n  const damageInternal = React.useCallback(locations => {\n    const last = canBlit.current;\n    canBlit.current = false;\n    damageRegion.current = locations;\n    lastDrawRef.current();\n    damageRegion.current = undefined;\n    canBlit.current = last;\n  }, []);\n  const enqueue = useAnimationQueue(damageInternal);\n  enqueueRef.current = enqueue;\n  const damage = React.useCallback(cells => {\n    damageInternal(cells.map(x => x.cell));\n  }, [damageInternal]);\n  imageLoader.setCallback(damageInternal);\n  const [overFill, setOverFill] = React.useState(false);\n  const [hCol, hRow] = hoveredItem !== null && hoveredItem !== void 0 ? hoveredItem : [];\n  const headerHovered = hCol !== undefined && hRow === -1;\n  const groupHeaderHovered = hCol !== undefined && hRow === -2;\n  let clickableInnerCellHovered = false;\n  let editableBoolHovered = false;\n\n  if (hCol !== undefined && hRow !== undefined && hRow > -1) {\n    const cell = getCellContent([hCol, hRow]);\n    clickableInnerCellHovered = cell.kind === InnerGridCellKind.NewRow || cell.kind === InnerGridCellKind.Marker && cell.markerKind !== \"number\";\n    editableBoolHovered = cell.kind === GridCellKind.Boolean && booleanCellIsEditable(cell);\n  }\n\n  const canDrag = hoveredOnEdge !== null && hoveredOnEdge !== void 0 ? hoveredOnEdge : false;\n  const cursor = isDragging ? \"grabbing\" : canDrag || isResizing ? \"col-resize\" : overFill || isFilling ? \"crosshair\" : headerHovered || clickableInnerCellHovered || editableBoolHovered || groupHeaderHovered ? \"pointer\" : \"default\";\n  const style = React.useMemo(() => ({\n    contain: \"strict\",\n    display: \"block\",\n    cursor\n  }), [cursor]);\n  const target = eventTargetRef === null || eventTargetRef === void 0 ? void 0 : eventTargetRef.current;\n\n  if (target !== null && target !== undefined) {\n    target.style.cursor = style.cursor;\n  }\n\n  const groupHeaderActionForEvent = React.useCallback((group, bounds, localEventX, localEventY) => {\n    if (getGroupDetails === undefined) return undefined;\n    const groupDesc = getGroupDetails(group);\n\n    if (groupDesc.actions !== undefined) {\n      const boxes = getActionBoundsForGroup(bounds, groupDesc.actions);\n\n      for (let i = 0; i < boxes.length; i++) {\n        const box = boxes[i];\n\n        if (pointInRect(box, localEventX + bounds.x, localEventY + box.y)) {\n          return groupDesc.actions[i];\n        }\n      }\n    }\n\n    return undefined;\n  }, [getGroupDetails]);\n  const isOverHeaderMenu = React.useCallback((canvas, col, clientX, clientY) => {\n    const header = columns[col];\n\n    if (!isDragging && !isResizing && header.hasMenu === true && !(hoveredOnEdge !== null && hoveredOnEdge !== void 0 ? hoveredOnEdge : false)) {\n      const headerBounds = getBoundsForItem(canvas, col, -1);\n      const menuBounds = getHeaderMenuBounds(headerBounds.x, headerBounds.y, headerBounds.width, headerBounds.height);\n\n      if (clientX > menuBounds.x && clientX < menuBounds.x + menuBounds.width && clientY > menuBounds.y && clientY < menuBounds.y + menuBounds.height) {\n        return headerBounds;\n      }\n    }\n\n    return undefined;\n  }, [columns, getBoundsForItem, hoveredOnEdge, isDragging, isResizing]);\n  const downTime = React.useRef(0);\n  const onMouseDownImpl = React.useCallback(ev => {\n    const canvas = ref.current;\n    const eventTarget = eventTargetRef === null || eventTargetRef === void 0 ? void 0 : eventTargetRef.current;\n    if (canvas === null || ev.target !== canvas && ev.target !== eventTarget) return;\n    let clientX;\n    let clientY;\n\n    if (ev instanceof MouseEvent) {\n      clientX = ev.clientX;\n      clientY = ev.clientY;\n    } else {\n      clientX = ev.touches[0].clientX;\n      clientY = ev.touches[0].clientY;\n    }\n\n    if (ev.target === eventTarget && eventTarget !== null) {\n      const bounds = eventTarget.getBoundingClientRect();\n      if (clientX > bounds.left + eventTarget.clientWidth) return;\n      if (clientY > bounds.top + eventTarget.clientHeight) return;\n    }\n\n    const args = getMouseArgsForPosition(canvas, clientX, clientY, ev);\n\n    if (args.isTouch) {\n      downTime.current = Date.now();\n    }\n\n    if (lastWasTouchRef.current !== args.isTouch) {\n      setLastWasTouch(args.isTouch);\n    }\n\n    if (args.kind === \"header\" && isOverHeaderMenu(canvas, args.location[0], clientX, clientY) !== undefined) {\n      return;\n    } else if (args.kind === \"group-header\") {\n      const action = groupHeaderActionForEvent(args.group, args.bounds, args.localEventX, args.localEventY);\n\n      if (action !== undefined) {\n        return;\n      }\n    }\n\n    onMouseDown === null || onMouseDown === void 0 ? void 0 : onMouseDown(args);\n\n    if (!args.isTouch && !isDraggable) {\n      ev.preventDefault();\n    }\n  }, [eventTargetRef, isDraggable, getMouseArgsForPosition, groupHeaderActionForEvent, isOverHeaderMenu, onMouseDown]);\n  useEventListener(\"touchstart\", onMouseDownImpl, window, false);\n  useEventListener(\"mousedown\", onMouseDownImpl, window, false);\n  const onMouseUpImpl = React.useCallback(ev => {\n    const canvas = ref.current;\n    if (onMouseUp === undefined || canvas === null) return;\n    const eventTarget = eventTargetRef === null || eventTargetRef === void 0 ? void 0 : eventTargetRef.current;\n    const isOutside = ev.target !== canvas && ev.target !== eventTarget;\n    let clientX;\n    let clientY;\n\n    if (ev instanceof MouseEvent) {\n      clientX = ev.clientX;\n      clientY = ev.clientY;\n    } else {\n      clientX = ev.changedTouches[0].clientX;\n      clientY = ev.changedTouches[0].clientY;\n    }\n\n    let args = getMouseArgsForPosition(canvas, clientX, clientY, ev);\n\n    if (args.isTouch && downTime.current !== 0 && Date.now() - downTime.current > 500) {\n      args = { ...args,\n        isLongTouch: true\n      };\n    }\n\n    if (lastWasTouchRef.current !== args.isTouch) {\n      setLastWasTouch(args.isTouch);\n    }\n\n    if (!isOutside && ev.cancelable) {\n      ev.preventDefault();\n    }\n\n    if (args.kind === \"header\" && isOverHeaderMenu(canvas, args.location[0], clientX, clientY)) {\n      const [col] = args.location;\n      const headerBounds = isOverHeaderMenu(canvas, col, clientX, clientY);\n\n      if (headerBounds !== undefined) {\n        if (args.button === 0) {\n          onHeaderMenuClick === null || onHeaderMenuClick === void 0 ? void 0 : onHeaderMenuClick(col, headerBounds);\n        }\n\n        return;\n      }\n    } else if (args.kind === \"group-header\") {\n      const action = groupHeaderActionForEvent(args.group, args.bounds, args.localEventX, args.localEventY);\n\n      if (action !== undefined) {\n        if (args.button === 0) {\n          action.onClick(args);\n        }\n\n        return;\n      }\n    }\n\n    onMouseUp(args, isOutside);\n  }, [onMouseUp, eventTargetRef, getMouseArgsForPosition, isOverHeaderMenu, onHeaderMenuClick, groupHeaderActionForEvent]);\n  useEventListener(\"mouseup\", onMouseUpImpl, window, false);\n  useEventListener(\"touchend\", onMouseUpImpl, window, false);\n  const onAnimationFrame = React.useCallback(values => {\n    const last = canBlit.current;\n    canBlit.current = false;\n    damageRegion.current = values.map(x => x.item);\n    hoverValues.current = values;\n    lastDrawRef.current();\n    damageRegion.current = undefined;\n    canBlit.current = last;\n  }, []);\n  const animManagerValue = React.useMemo(() => new AnimationManager(onAnimationFrame), [onAnimationFrame]);\n  const animationManager = React.useRef(animManagerValue);\n  animationManager.current = animManagerValue;\n  React.useLayoutEffect(() => {\n    const am = animationManager.current;\n\n    if (hoveredItem === undefined || hoveredItem[1] < 0) {\n      am.setHovered(hoveredItem);\n      return;\n    }\n\n    const cell = getCellContent(hoveredItem);\n    am.setHovered(cell.kind === GridCellKind.Custom || CellRenderers[cell.kind].needsHover ? hoveredItem : undefined);\n  }, [getCellContent, hoveredItem]);\n  const hoveredRef = React.useRef();\n  const onMouseMoveImpl = React.useCallback(ev => {\n    const canvas = ref.current;\n    if (canvas === null) return;\n    const args = getMouseArgsForPosition(canvas, ev.clientX, ev.clientY, ev);\n\n    if (!isSameItem(args, hoveredRef.current)) {\n      onItemHovered === null || onItemHovered === void 0 ? void 0 : onItemHovered(args);\n      setHoveredItemInfo(args.kind === \"out-of-bounds\" ? undefined : [args.location, [args.localEventX, args.localEventY]]);\n      hoveredRef.current = args;\n    } else if (args.kind === \"cell\" || args.kind === \"header\" || args.kind === \"group-header\") {\n      const newInfo = [args.location, [args.localEventX, args.localEventY]];\n      setHoveredItemInfo(newInfo);\n      hoverInfoRef.current = newInfo;\n\n      if (args.kind === \"cell\") {\n        const toCheck = getCellContent(args.location);\n\n        if (toCheck.kind === GridCellKind.Custom || CellRenderers[toCheck.kind].needsHoverPosition) {\n          damageInternal([args.location]);\n        }\n      } else if (args.kind === \"group-header\") {\n        damageInternal([args.location]);\n      }\n    }\n\n    setHoveredOnEdge(args.kind === \"header\" && args.isEdge && allowResize === true);\n\n    if (fillHandle && selection.current !== undefined) {\n      const [col, row] = selection.current.cell;\n      const sb = getBoundsForItem(canvas, col, row);\n      const x = ev.clientX;\n      const y = ev.clientY;\n      setOverFill(x >= sb.x + sb.width - 6 && x <= sb.x + sb.width && y >= sb.y + sb.height - 6 && y <= sb.y + sb.height);\n    } else {\n      setOverFill(false);\n    }\n\n    onMouseMoveRaw === null || onMouseMoveRaw === void 0 ? void 0 : onMouseMoveRaw(ev);\n    onMouseMove(args);\n  }, [getMouseArgsForPosition, allowResize, fillHandle, selection, onMouseMoveRaw, onMouseMove, onItemHovered, getCellContent, damageInternal, getBoundsForItem]);\n  useEventListener(\"mousemove\", onMouseMoveImpl, window, true);\n  const onKeyDownImpl = React.useCallback(event => {\n    const canvas = ref.current;\n    if (canvas === null) return;\n    let bounds;\n\n    if (selection.current !== undefined) {\n      bounds = getBoundsForItem(canvas, selection.current.cell[0], selection.current.cell[1]);\n    }\n\n    onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown({\n      bounds,\n      cancel: () => {\n        event.stopPropagation();\n        event.preventDefault();\n      },\n      ctrlKey: event.ctrlKey,\n      metaKey: event.metaKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      key: event.key,\n      keyCode: event.keyCode\n    });\n  }, [onKeyDown, selection, getBoundsForItem]);\n  const onKeyUpImpl = React.useCallback(event => {\n    const canvas = ref.current;\n    if (canvas === null) return;\n    let bounds;\n\n    if (selection.current !== undefined) {\n      bounds = getBoundsForItem(canvas, selection.current.cell[0], selection.current.cell[1]);\n    }\n\n    onKeyUp === null || onKeyUp === void 0 ? void 0 : onKeyUp({\n      bounds,\n      cancel: () => {\n        event.stopPropagation();\n        event.preventDefault();\n      },\n      ctrlKey: event.ctrlKey,\n      metaKey: event.metaKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      key: event.key,\n      keyCode: event.keyCode\n    });\n  }, [onKeyUp, selection, getBoundsForItem]);\n  const refImpl = React.useCallback(instance => {\n    ref.current = instance;\n\n    if (canvasRef !== undefined) {\n      canvasRef.current = instance;\n    }\n  }, [canvasRef]);\n  const onDragStartImpl = React.useCallback(event => {\n    const canvas = ref.current;\n    if (canvas === null || !isDraggable) return false;\n    let dragMime;\n    let dragData;\n    const args = getMouseArgsForPosition(canvas, event.clientX, event.clientY);\n\n    const setData = (mime, payload) => {\n      dragMime = mime;\n      dragData = payload;\n    };\n\n    let dragImage;\n    let dragImageX;\n    let dragImageY;\n\n    const setDragImage = (image, x, y) => {\n      dragImage = image;\n      dragImageX = x;\n      dragImageY = y;\n    };\n\n    onDragStart === null || onDragStart === void 0 ? void 0 : onDragStart({ ...args,\n      setData,\n      setDragImage\n    });\n\n    if (dragMime !== undefined && dragData !== undefined && event.dataTransfer !== null) {\n      event.dataTransfer.setData(dragMime, dragData);\n      event.dataTransfer.effectAllowed = \"link\";\n\n      if (dragImage !== undefined && dragImageX !== undefined && dragImageY !== undefined) {\n        event.dataTransfer.setDragImage(dragImage, dragImageX, dragImageY);\n      } else {\n        const [col, row] = args.location;\n\n        if (row !== undefined) {\n          const offscreen = document.createElement(\"canvas\");\n          const boundsForDragTarget = getBoundsForItem(canvas, col, row);\n          offscreen.width = boundsForDragTarget.width;\n          offscreen.height = boundsForDragTarget.height;\n          const ctx = offscreen.getContext(\"2d\");\n\n          if (ctx !== null) {\n            ctx.fillStyle = theme.bgCell;\n            ctx.fillRect(0, 0, offscreen.width, offscreen.height);\n            drawCell(ctx, row, getCellContent([col, row]), 0, 0, 0, boundsForDragTarget.width, boundsForDragTarget.height, false, theme, drawCustomCell, imageLoader, spriteManager, 1, undefined, 0);\n          }\n\n          offscreen.style.left = \"-100%\";\n          offscreen.style.position = \"absolute\";\n          document.body.appendChild(offscreen);\n          event.dataTransfer.setDragImage(offscreen, boundsForDragTarget.width / 2, boundsForDragTarget.height / 2);\n          window.setTimeout(() => {\n            document.body.removeChild(offscreen);\n          }, 0);\n        }\n      }\n    } else {\n      event.preventDefault();\n    }\n  }, [isDraggable, getMouseArgsForPosition, onDragStart, getBoundsForItem, theme, getCellContent, drawCustomCell, imageLoader, spriteManager]);\n  useEventListener(\"dragstart\", onDragStartImpl, (_eventTargetRef$curre = eventTargetRef === null || eventTargetRef === void 0 ? void 0 : eventTargetRef.current) !== null && _eventTargetRef$curre !== void 0 ? _eventTargetRef$curre : null, false, false);\n  const selectionRef = React.useRef(selection);\n  selectionRef.current = selection;\n  const focusRef = React.useRef(null);\n  const focusElement = React.useCallback(el => {\n    if (ref.current === null || !ref.current.contains(document.activeElement)) return;\n\n    if (el === null && selectionRef.current.current !== undefined) {\n      var _canvasRef$current;\n\n      canvasRef === null || canvasRef === void 0 ? void 0 : (_canvasRef$current = canvasRef.current) === null || _canvasRef$current === void 0 ? void 0 : _canvasRef$current.focus({\n        preventScroll: true\n      });\n    } else if (el !== null) {\n      el.focus({\n        preventScroll: true\n      });\n    }\n\n    focusRef.current = el;\n  }, [canvasRef]);\n  React.useImperativeHandle(forwardedRef, () => ({\n    focus: () => {\n      const el = focusRef.current;\n\n      if (el === null || !document.contains(el)) {\n        var _canvasRef$current2;\n\n        canvasRef === null || canvasRef === void 0 ? void 0 : (_canvasRef$current2 = canvasRef.current) === null || _canvasRef$current2 === void 0 ? void 0 : _canvasRef$current2.focus({\n          preventScroll: true\n        });\n      } else {\n        el.focus({\n          preventScroll: true\n        });\n      }\n    },\n    getBounds: (col, row) => {\n      if (canvasRef === undefined || canvasRef.current === null) {\n        return undefined;\n      }\n\n      return getBoundsForItem(canvasRef.current, col, row !== null && row !== void 0 ? row : -1);\n    },\n    damage\n  }), [canvasRef, damage, getBoundsForItem]);\n  const lastFocusedSubdomNode = React.useRef();\n  const accessibilityTree = useDebouncedMemo(() => {\n    var _effectiveCols$, _selection$current$ce, _selection$current, _selection$current2;\n\n    if (width < 50) return null;\n    let effectiveCols = getEffectiveColumns(mappedColumns, cellXOffset, width, dragAndDropState, translateX);\n    const colOffset = firstColAccessible ? 0 : -1;\n\n    if (!firstColAccessible && ((_effectiveCols$ = effectiveCols[0]) === null || _effectiveCols$ === void 0 ? void 0 : _effectiveCols$.sourceIndex) === 0) {\n      effectiveCols = effectiveCols.slice(1);\n    }\n\n    const getRowData = cell => {\n      if (cell.kind === GridCellKind.Custom) {\n        return cell.copyData;\n      } else {\n        return CellRenderers[cell.kind].getAccessibilityString(cell);\n      }\n    };\n\n    const [fCol, fRow] = (_selection$current$ce = (_selection$current = selection.current) === null || _selection$current === void 0 ? void 0 : _selection$current.cell) !== null && _selection$current$ce !== void 0 ? _selection$current$ce : [];\n    const range = (_selection$current2 = selection.current) === null || _selection$current2 === void 0 ? void 0 : _selection$current2.range;\n    const visibleCols = effectiveCols.map(c => c.sourceIndex);\n    const visibleRows = makeRange(cellYOffset, Math.min(rows, cellYOffset + accessibilityHeight));\n\n    if (fCol !== undefined && fRow !== undefined && !(visibleCols.includes(fCol) && visibleRows.includes(fRow))) {\n      focusElement(null);\n    }\n\n    return React.createElement(\"table\", {\n      key: \"access-tree\",\n      role: \"grid\",\n      \"aria-rowcount\": rows + 1,\n      \"aria-multiselectable\": \"true\",\n      \"aria-colcount\": mappedColumns.length + colOffset\n    }, React.createElement(\"thead\", {\n      role: \"rowgroup\"\n    }, React.createElement(\"tr\", {\n      role: \"row\",\n      \"aria-rowindex\": 1\n    }, effectiveCols.map(c => React.createElement(\"th\", {\n      role: \"columnheader\",\n      \"aria-selected\": selection.columns.hasIndex(c.sourceIndex),\n      \"aria-colindex\": c.sourceIndex + 1 + colOffset,\n      tabIndex: -1,\n      onFocus: e => {\n        if (e.target === focusRef.current) return;\n        return onCellFocused === null || onCellFocused === void 0 ? void 0 : onCellFocused([c.sourceIndex, -1]);\n      },\n      key: c.sourceIndex\n    }, c.title)))), React.createElement(\"tbody\", {\n      role: \"rowgroup\"\n    }, visibleRows.map(row => React.createElement(\"tr\", {\n      role: \"row\",\n      \"aria-selected\": selection.rows.hasIndex(row),\n      key: row,\n      \"aria-rowindex\": row + 2\n    }, effectiveCols.map(c => {\n      const col = c.sourceIndex;\n      const key = `${col},${row}`;\n      const focused = fCol === col && fRow === row;\n      const selected = range !== undefined && col >= range.x && col < range.x + range.width && row >= range.y && row < range.y + range.height;\n      const id = `glide-cell-${col}-${row}`;\n      const cellContent = getCellContent([col, row]);\n      return React.createElement(\"td\", {\n        key: key,\n        role: \"gridcell\",\n        \"aria-colindex\": col + 1 + colOffset,\n        \"aria-selected\": selected,\n        \"aria-readonly\": isInnerOnlyCell(cellContent) || !isReadWriteCell(cellContent),\n        id: id,\n        \"data-testid\": id,\n        onClick: () => {\n          const canvas = canvasRef === null || canvasRef === void 0 ? void 0 : canvasRef.current;\n          if (canvas === null || canvas === undefined) return;\n          return onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown({\n            bounds: getBoundsForItem(canvas, col, row),\n            cancel: () => undefined,\n            ctrlKey: false,\n            key: \"Enter\",\n            keyCode: 13,\n            metaKey: false,\n            shiftKey: false,\n            altKey: false\n          });\n        },\n        onFocusCapture: e => {\n          var _lastFocusedSubdomNod, _lastFocusedSubdomNod2;\n\n          if (e.target === focusRef.current || ((_lastFocusedSubdomNod = lastFocusedSubdomNode.current) === null || _lastFocusedSubdomNod === void 0 ? void 0 : _lastFocusedSubdomNod[0]) === col && ((_lastFocusedSubdomNod2 = lastFocusedSubdomNode.current) === null || _lastFocusedSubdomNod2 === void 0 ? void 0 : _lastFocusedSubdomNod2[1]) === row) return;\n          lastFocusedSubdomNode.current = [col, row];\n          return onCellFocused === null || onCellFocused === void 0 ? void 0 : onCellFocused([col, row]);\n        },\n        ref: focused ? focusElement : undefined,\n        tabIndex: -1\n      }, getRowData(cellContent));\n    })))));\n  }, [width, mappedColumns, cellXOffset, dragAndDropState, translateX, rows, cellYOffset, accessibilityHeight, selection, focusElement, getCellContent, canvasRef, onKeyDown, getBoundsForItem, onCellFocused], 200);\n  const stickyShadow = React.useMemo(() => {\n    if (!mappedColumns[0].sticky) {\n      return null;\n    }\n\n    const stickyX = getStickyWidth(mappedColumns, dragAndDropState);\n    const props = {\n      position: \"absolute\",\n      top: 0,\n      left: stickyX,\n      width: width - stickyX,\n      height: height,\n      opacity: cellXOffset > freezeColumns || translateX !== 0 ? 1 : 0,\n      pointerEvents: \"none\",\n      boxShadow: \"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)\",\n      transition: \"opacity 150ms\"\n    };\n    return React.createElement(\"div\", {\n      style: props\n    });\n  }, [cellXOffset, dragAndDropState, freezeColumns, mappedColumns, height, width, translateX]);\n  const overlayStyle = React.useMemo(() => ({\n    position: \"absolute\",\n    top: 0,\n    left: 0\n  }), []);\n  return React.createElement(React.Fragment, null, React.createElement(\"canvas\", {\n    \"data-testid\": \"data-grid-canvas\",\n    tabIndex: 0,\n    onKeyDown: onKeyDownImpl,\n    onKeyUp: onKeyUpImpl,\n    onFocus: onCanvasFocused,\n    onBlur: onCanvasBlur,\n    className: className,\n    ref: refImpl,\n    style: style\n  }, accessibilityTree), React.createElement(\"canvas\", {\n    ref: overlayRef,\n    style: overlayStyle\n  }), stickyShadow);\n};\n\nexport default React.memo(React.forwardRef(DataGrid));","import * as React from \"react\";\n\nfunction hasItem(arr, item) {\n  for (let i = 0; i < arr.length; i++) {\n    if (arr[i][0] === item[0] && arr[i][1] === item[1]) return true;\n  }\n\n  return false;\n}\n\nexport function useAnimationQueue(draw) {\n  const queue = React.useRef([]);\n  const seq = React.useRef(0);\n  const drawRef = React.useRef(draw);\n  drawRef.current = draw;\n  const loop = React.useCallback(() => {\n    const requeue = () => window.requestAnimationFrame(fn);\n\n    const fn = () => {\n      const toDraw = queue.current;\n      queue.current = [];\n      drawRef.current(toDraw);\n\n      if (queue.current.length > 0) {\n        seq.current++;\n      } else {\n        seq.current = 0;\n      }\n    };\n\n    window.requestAnimationFrame(seq.current > 600 ? requeue : fn);\n  }, []);\n  const enqueue = React.useCallback(item => {\n    if (hasItem(queue.current, item)) return;\n\n    if (queue.current.length === 0) {\n      loop();\n    }\n\n    queue.current.push(item);\n  }, [loop]);\n  return enqueue;\n}","import clamp from \"lodash/clamp.js\";\nimport * as React from \"react\";\nimport DataGrid from \"../data-grid/data-grid.js\";\nlet warned = false;\n\nconst DataGridDnd = p => {\n  const [resizeColStartX, setResizeColStartX] = React.useState();\n  const [resizeCol, setResizeCol] = React.useState();\n  const [dragCol, setDragCol] = React.useState();\n  const [dropCol, setDropCol] = React.useState();\n  const [dragColActive, setDragColActive] = React.useState(false);\n  const [dragStartX, setDragStartX] = React.useState();\n  const [dragRow, setDragRow] = React.useState();\n  const [dropRow, setDropRow] = React.useState();\n  const [dragRowActive, setDragRowActive] = React.useState(false);\n  const [dragStartY, setDragStartY] = React.useState();\n  const {\n    onColumnMoved,\n    onColumnResized,\n    onColumnResize,\n    onColumnResizeStart,\n    onColumnResizeEnd,\n    gridRef,\n    maxColumnWidth,\n    minColumnWidth,\n    onHeaderMenuClick,\n    onRowMoved,\n    lockColumns,\n    getCellContent\n  } = p;\n\n  if (process.env.NODE_ENV !== \"production\" && onColumnResized !== undefined && !warned) {\n    console.warn(\"onColumnResized has been renamed to onColumnResize and will be removed in a future version.\");\n    warned = true;\n  }\n\n  const {\n    onMouseDown,\n    onMouseUp,\n    onItemHovered,\n    isDraggable = false,\n    columns,\n    selection\n  } = p;\n  const selectedColumns = selection.columns;\n  const onItemHoveredImpl = React.useCallback(args => {\n    const [col, row] = args.location;\n\n    if (dragCol !== undefined && dropCol !== col && col >= lockColumns) {\n      setDragColActive(true);\n      setDropCol(col);\n    } else if (dragRow !== undefined && row !== undefined) {\n      setDragRowActive(true);\n      setDropRow(Math.max(0, row));\n    } else {\n      onItemHovered === null || onItemHovered === void 0 ? void 0 : onItemHovered(args);\n    }\n  }, [dragCol, dragRow, dropCol, onItemHovered, lockColumns]);\n  const canDragCol = onColumnMoved !== undefined;\n  const onMouseDownImpl = React.useCallback(args => {\n    let shouldFireEvent = true;\n\n    if (args.button === 0) {\n      const [col, row] = args.location;\n\n      if (!isDraggable) {\n        if (args.kind === \"out-of-bounds\" && args.isEdge) {\n          var _gridRef$current;\n\n          const bounds = gridRef === null || gridRef === void 0 ? void 0 : (_gridRef$current = gridRef.current) === null || _gridRef$current === void 0 ? void 0 : _gridRef$current.getBounds(columns.length - 1, -1);\n\n          if (bounds !== undefined) {\n            setResizeColStartX(bounds.x);\n            setResizeCol(columns.length - 1);\n          }\n        } else if (args.kind === \"header\" && col >= lockColumns) {\n          if (args.isEdge) {\n            shouldFireEvent = false;\n            setResizeColStartX(args.bounds.x);\n            setResizeCol(col);\n            onColumnResizeStart === null || onColumnResizeStart === void 0 ? void 0 : onColumnResizeStart(columns[col], args.bounds.width);\n          } else if (args.kind === \"header\" && canDragCol) {\n            setDragStartX(args.bounds.x);\n            setDragCol(col);\n          }\n        } else if (args.kind === \"cell\" && lockColumns > 0 && col === 0 && row !== undefined && onRowMoved !== undefined) {\n          setDragStartY(args.bounds.y);\n          setDragRow(row);\n        }\n      }\n    }\n\n    if (shouldFireEvent) onMouseDown === null || onMouseDown === void 0 ? void 0 : onMouseDown(args);\n  }, [onMouseDown, isDraggable, lockColumns, onRowMoved, gridRef, columns, canDragCol, onColumnResizeStart]);\n  const onHeaderMenuClickMangled = React.useCallback((col, screenPosition) => {\n    if (dragColActive || dragRowActive) return;\n    onHeaderMenuClick === null || onHeaderMenuClick === void 0 ? void 0 : onHeaderMenuClick(col, screenPosition);\n  }, [dragColActive, dragRowActive, onHeaderMenuClick]);\n  const lastResizeWidthRef = React.useRef(-1);\n  const onMouseUpImpl = React.useCallback((args, isOutside) => {\n    if (args.button === 0) {\n      if (resizeCol !== undefined) {\n        if ((selectedColumns === null || selectedColumns === void 0 ? void 0 : selectedColumns.hasIndex(resizeCol)) === true) {\n          for (const c of selectedColumns) {\n            if (c === resizeCol) continue;\n            onColumnResized === null || onColumnResized === void 0 ? void 0 : onColumnResized(columns[c], lastResizeWidthRef.current);\n            onColumnResize === null || onColumnResize === void 0 ? void 0 : onColumnResize(columns[c], lastResizeWidthRef.current);\n          }\n        }\n\n        onColumnResizeEnd === null || onColumnResizeEnd === void 0 ? void 0 : onColumnResizeEnd(columns[resizeCol], lastResizeWidthRef.current);\n\n        for (const c of selectedColumns) {\n          if (c === resizeCol) continue;\n          onColumnResizeEnd === null || onColumnResizeEnd === void 0 ? void 0 : onColumnResizeEnd(columns[c], lastResizeWidthRef.current);\n        }\n      }\n\n      lastResizeWidthRef.current = -1;\n      setDragRow(undefined);\n      setDropRow(undefined);\n      setDragStartY(undefined);\n      setDragRowActive(false);\n      setDragCol(undefined);\n      setDropCol(undefined);\n      setDragStartX(undefined);\n      setDragColActive(false);\n      setResizeCol(undefined);\n      setResizeColStartX(undefined);\n\n      if (dragCol !== undefined && dropCol !== undefined) {\n        onColumnMoved === null || onColumnMoved === void 0 ? void 0 : onColumnMoved(dragCol, dropCol);\n      }\n\n      if (dragRow !== undefined && dropRow !== undefined) {\n        onRowMoved === null || onRowMoved === void 0 ? void 0 : onRowMoved(dragRow, dropRow);\n      }\n    }\n\n    onMouseUp === null || onMouseUp === void 0 ? void 0 : onMouseUp(args, isOutside);\n  }, [onMouseUp, resizeCol, selectedColumns, dragCol, dropCol, dragRow, dropRow, onColumnResizeEnd, columns, onColumnResized, onColumnResize, onColumnMoved, onRowMoved]);\n  const dragOffset = React.useMemo(() => {\n    if (dragCol === undefined || dropCol === undefined) return undefined;\n    if (dragCol === dropCol) return undefined;\n    return {\n      src: dragCol,\n      dest: dropCol\n    };\n  }, [dragCol, dropCol]);\n  const onMouseMove = React.useCallback(event => {\n    if (dragCol !== undefined && dragStartX !== undefined) {\n      const diff = Math.abs(event.clientX - dragStartX);\n\n      if (diff > 20) {\n        setDragColActive(true);\n      }\n    } else if (dragRow !== undefined && dragStartY !== undefined) {\n      const diff = Math.abs(event.clientY - dragStartY);\n\n      if (diff > 20) {\n        setDragRowActive(true);\n      }\n    } else if (resizeCol !== undefined && resizeColStartX !== undefined) {\n      const column = columns[resizeCol];\n      const newWidth = clamp(event.clientX - resizeColStartX, minColumnWidth, maxColumnWidth);\n      onColumnResized === null || onColumnResized === void 0 ? void 0 : onColumnResized(column, newWidth);\n      onColumnResize === null || onColumnResize === void 0 ? void 0 : onColumnResize(column, newWidth);\n      lastResizeWidthRef.current = newWidth;\n\n      if ((selectedColumns === null || selectedColumns === void 0 ? void 0 : selectedColumns.first()) === resizeCol) {\n        for (const c of selectedColumns) {\n          if (c === resizeCol) continue;\n          onColumnResized === null || onColumnResized === void 0 ? void 0 : onColumnResized(columns[c], lastResizeWidthRef.current);\n          onColumnResize === null || onColumnResize === void 0 ? void 0 : onColumnResize(columns[c], lastResizeWidthRef.current);\n        }\n      }\n    }\n  }, [dragCol, dragStartX, dragRow, dragStartY, resizeCol, resizeColStartX, columns, minColumnWidth, maxColumnWidth, onColumnResized, onColumnResize, selectedColumns]);\n  const getMangledCellContent = React.useCallback(cell => {\n    if (dragRow === undefined || dropRow === undefined) return getCellContent(cell);\n    let [col, row] = cell;\n\n    if (row === dropRow) {\n      row = dragRow;\n    } else {\n      if (row > dropRow) row -= 1;\n      if (row >= dragRow) row += 1;\n    }\n\n    return getCellContent([col, row]);\n  }, [dragRow, dropRow, getCellContent]);\n  return React.createElement(DataGrid, {\n    accessibilityHeight: p.accessibilityHeight,\n    cellXOffset: p.cellXOffset,\n    cellYOffset: p.cellYOffset,\n    columns: p.columns,\n    enableGroups: p.enableGroups,\n    freezeColumns: p.freezeColumns,\n    onCanvasFocused: p.onCanvasFocused,\n    onCanvasBlur: p.onCanvasBlur,\n    isFocused: p.isFocused,\n    onMouseMove: p.onMouseMove,\n    groupHeaderHeight: p.groupHeaderHeight,\n    fillHandle: p.fillHandle,\n    headerHeight: p.headerHeight,\n    height: p.height,\n    lastRowSticky: p.lastRowSticky,\n    rowHeight: p.rowHeight,\n    rows: p.rows,\n    highlightRegions: p.highlightRegions,\n    verticalBorder: p.verticalBorder,\n    width: p.width,\n    canvasRef: p.canvasRef,\n    className: p.className,\n    disabledRows: p.disabledRows,\n    isFilling: p.isFilling,\n    firstColAccessible: p.firstColAccessible,\n    drawCustomCell: p.drawCustomCell,\n    drawHeader: p.drawHeader,\n    eventTargetRef: p.eventTargetRef,\n    experimental: p.experimental,\n    getGroupDetails: p.getGroupDetails,\n    getRowThemeOverride: p.getRowThemeOverride,\n    headerIcons: p.headerIcons,\n    isDraggable: p.isDraggable,\n    onCellFocused: p.onCellFocused,\n    onDragStart: p.onDragStart,\n    onKeyDown: p.onKeyDown,\n    onKeyUp: p.onKeyUp,\n    prelightCells: p.prelightCells,\n    selection: p.selection,\n    translateX: p.translateX,\n    translateY: p.translateY,\n    getCellContent: getMangledCellContent,\n    isResizing: resizeCol !== undefined,\n    onHeaderMenuClick: onHeaderMenuClickMangled,\n    isDragging: dragColActive,\n    onItemHovered: onItemHoveredImpl,\n    onMouseDown: onMouseDownImpl,\n    allowResize: onColumnResized !== undefined || onColumnResize !== undefined,\n    onMouseUp: onMouseUpImpl,\n    dragAndDropState: dragOffset,\n    onMouseMoveRaw: onMouseMove,\n    ref: gridRef\n  });\n};\n\nexport default DataGridDnd;","import { styled } from \"../common/styles.js\";\nimport * as React from \"react\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport { browserIsSafari } from \"../common/browser-detect.js\";\nexport const ScrollRegionStyle = styled.div`\n    .dvn-scroller {\n        overflow: ${browserIsSafari ? \"scroll\" : \"auto\"};\n        transform: translate3d(0, 0, 0);\n    }\n\n    .hidden {\n        visibility: hidden;\n    }\n\n    .dvn-scroll-inner {\n        display: flex;\n        pointer-events: none;\n\n        > * {\n            flex-shrink: 0;\n        }\n\n        .dvn-spacer {\n            flex-grow: 1;\n        }\n\n        .dvn-stack {\n            display: flex;\n            flex-direction: column;\n        }\n    }\n\n    .dvn-underlay > * {\n        position: absolute;\n        left: 0;\n        top: 0;\n    }\n\n    canvas {\n        outline: none;\n\n        * {\n            height: 0;\n        }\n    }\n`;\nexport const InfiniteScroller = p => {\n  const {\n    children,\n    clientHeight,\n    scrollHeight,\n    scrollWidth,\n    update,\n    draggable,\n    className,\n    preventDiagonalScrolling = false,\n    paddingBottom = 0,\n    paddingRight = 0,\n    rightElement,\n    rightElementSticky = false,\n    scrollRef,\n    scrollToEnd,\n    minimap,\n    style\n  } = p;\n  const padders = [];\n  const offsetY = React.useRef(0);\n  const lastScrollY = React.useRef(0);\n  const scroller = React.useRef(null);\n  const dpr = window.devicePixelRatio;\n  React.useEffect(() => {\n    const el = scroller.current;\n    if (el === null || scrollToEnd !== true) return;\n    el.scrollLeft = el.scrollWidth - el.clientWidth;\n  }, [scrollToEnd]);\n  const lastScrollPosition = React.useRef({\n    scrollLeft: 0,\n    scrollTop: 0,\n    lockDirection: undefined\n  });\n  const resetHandle = React.useRef(0);\n  const onScroll = React.useCallback(() => {\n    var _lock$, _lock$2;\n\n    const el = scroller.current;\n    if (el === null) return;\n    let scrollTop = el.scrollTop;\n    let scrollLeft = el.scrollLeft;\n    const lastScrollTop = lastScrollPosition.current.scrollTop;\n    const lastScrollLeft = lastScrollPosition.current.scrollLeft;\n    const dx = scrollLeft - lastScrollLeft;\n    const dy = scrollTop - lastScrollTop;\n\n    if (dx !== 0 && dy !== 0 && preventDiagonalScrolling) {\n      if (lastScrollPosition.current.lockDirection === undefined) {\n        if (Math.abs(dx) > Math.abs(dy)) {\n          lastScrollPosition.current.lockDirection = [lastScrollLeft, undefined];\n        } else {\n          lastScrollPosition.current.lockDirection = [undefined, lastScrollTop];\n        }\n      }\n    }\n\n    const lock = lastScrollPosition.current.lockDirection;\n    scrollLeft = (_lock$ = lock === null || lock === void 0 ? void 0 : lock[0]) !== null && _lock$ !== void 0 ? _lock$ : scrollLeft;\n    scrollTop = (_lock$2 = lock === null || lock === void 0 ? void 0 : lock[1]) !== null && _lock$2 !== void 0 ? _lock$2 : scrollTop;\n    lastScrollPosition.current.scrollLeft = scrollLeft;\n    lastScrollPosition.current.scrollTop = scrollTop;\n    const newY = Math.max(0, scrollTop);\n    const delta = lastScrollY.current - newY;\n    const scrollableHeight = el.scrollHeight - el.clientHeight;\n    const maxFakeY = Math.max(0, scrollHeight - el.clientHeight);\n    lastScrollY.current = newY;\n\n    if (scrollableHeight > 0 && (Math.abs(delta) > 2000 || newY === 0 || newY === scrollableHeight) && scrollHeight > el.scrollHeight + 5) {\n      const prog = newY / scrollableHeight;\n      const recomputed = (scrollHeight - el.clientHeight) * prog;\n      offsetY.current = recomputed - newY;\n    }\n\n    if (resetHandle.current > 0) {\n      window.clearTimeout(resetHandle.current);\n    }\n\n    if (lock !== undefined) {\n      resetHandle.current = window.setTimeout(() => {\n        var _lastScrollPosition$c;\n\n        const [lx, ly] = (_lastScrollPosition$c = lastScrollPosition.current.lockDirection) !== null && _lastScrollPosition$c !== void 0 ? _lastScrollPosition$c : [];\n\n        if (lx !== undefined) {\n          el.scrollLeft = lx;\n        } else if (ly !== undefined) {\n          el.scrollTop = ly;\n        }\n\n        lastScrollPosition.current.lockDirection = undefined;\n        resetHandle.current = 0;\n      }, 200);\n    }\n\n    update({\n      x: Math.max(0, scrollLeft),\n      y: Math.min(maxFakeY, newY + offsetY.current),\n      width: el.clientWidth - paddingRight,\n      height: el.clientHeight - paddingBottom\n    });\n  }, [paddingBottom, paddingRight, scrollHeight, update, preventDiagonalScrolling]);\n  const onScrollRef = React.useRef(onScroll);\n  onScrollRef.current = onScroll;\n  const lastProps = React.useRef();\n  const nomEvent = React.useCallback(e => {\n    e.stopPropagation();\n  }, []);\n  React.useEffect(() => {\n    onScroll();\n  }, [onScroll, paddingBottom, paddingRight]);\n  const setRefs = React.useCallback(instance => {\n    scroller.current = instance;\n\n    if (scrollRef !== undefined) {\n      scrollRef.current = instance;\n    }\n  }, [scrollRef]);\n  let key = 0;\n  let h = 0;\n  padders.push(React.createElement(\"div\", {\n    key: key++,\n    style: {\n      width: scrollWidth,\n      height: 0\n    }\n  }));\n\n  while (h < scrollHeight) {\n    const toAdd = Math.min(5000000, scrollHeight - h);\n    padders.push(React.createElement(\"div\", {\n      key: key++,\n      style: {\n        width: 0,\n        height: toAdd\n      }\n    }));\n    h += toAdd;\n  }\n\n  return React.createElement(\"div\", {\n    style: style\n  }, React.createElement(AutoSizer, null, props => {\n    var _lastProps$current, _lastProps$current2;\n\n    if (props.width === 0 || props.height === 0) return null;\n\n    if (((_lastProps$current = lastProps.current) === null || _lastProps$current === void 0 ? void 0 : _lastProps$current.height) !== props.height || ((_lastProps$current2 = lastProps.current) === null || _lastProps$current2 === void 0 ? void 0 : _lastProps$current2.width) !== props.width) {\n      window.setTimeout(() => onScrollRef.current(), 0);\n      lastProps.current = props;\n    }\n\n    return React.createElement(ScrollRegionStyle, null, minimap, React.createElement(\"div\", {\n      className: \"dvn-underlay\"\n    }, children), React.createElement(\"div\", {\n      ref: setRefs,\n      style: props,\n      draggable: draggable,\n      onDragStart: e => {\n        if (!draggable) {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      },\n      className: \"dvn-scroller \" + (className !== null && className !== void 0 ? className : \"\"),\n      onScroll: onScroll\n    }, React.createElement(\"div\", {\n      className: \"dvn-scroll-inner\" + (rightElement === undefined ? \" hidden\" : \"\")\n    }, React.createElement(\"div\", {\n      className: \"dvn-stack\"\n    }, padders), rightElement !== undefined && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"dvn-spacer\"\n    }), React.createElement(\"div\", {\n      onMouseDown: nomEvent,\n      onMouseUp: nomEvent,\n      onMouseMove: nomEvent,\n      style: {\n        height: props.height,\n        maxHeight: clientHeight - Math.ceil(dpr % 1),\n        position: \"sticky\",\n        top: 0,\n        marginBottom: -40,\n        marginRight: paddingRight,\n        right: rightElementSticky ? paddingRight !== null && paddingRight !== void 0 ? paddingRight : 0 : undefined,\n        pointerEvents: \"auto\"\n      }\n    }, rightElement)))));\n  }));\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\nimport styled from \"styled-components\";\nimport DataGridDnd from \"../data-grid-dnd/data-grid-dnd.js\";\nimport { InfiniteScroller } from \"./infinite-scroller.js\";\nimport clamp from \"lodash/clamp.js\";\nconst MinimapStyle = styled.div.withConfig({\n  displayName: \"scrolling-data-grid__MinimapStyle\",\n  componentId: \"sc-r4h7c0-0\"\n})([\"position:absolute;right:44px;bottom:44px;background-color:\", \";background:linear-gradient(\", \",\", \");border-radius:4px;z-index:1;box-shadow:0 0 0 1px \", \",0 2px 5px rgba(0,0,0,0.08);overflow:hidden;.header{position:absolute;left:0;top:0;width:100%;height:4px;background-color:\", \";box-shadow:0 0 0 1px \", \";}.locationMarker{position:absolute;border:1px solid \", \";background-color:\", \";}\"], p => p.theme.bgCell, p => p.theme.bgCell, p => p.theme.bgCellMedium, p => p.theme.borderColor, p => p.theme.bgHeader, p => p.theme.borderColor, p => p.theme.accentColor, p => p.theme.accentLight);\n\nconst GridScroller = p => {\n  var _scrollRef$current, _scroller$scrollLeft, _scroller$scrollTop;\n\n  const {\n    columns,\n    rows,\n    rowHeight,\n    headerHeight,\n    groupHeaderHeight,\n    enableGroups,\n    freezeColumns,\n    experimental\n  } = p;\n  const {\n    paddingRight,\n    paddingBottom\n  } = experimental !== null && experimental !== void 0 ? experimental : {};\n  const {\n    className,\n    onVisibleRegionChanged,\n    scrollToEnd,\n    scrollRef,\n    preventDiagonalScrolling,\n    rightElement,\n    rightElementSticky,\n    overscrollX,\n    overscrollY,\n    showMinimap = false,\n    ...dataGridProps\n  } = p;\n  const {\n    smoothScrollX = false,\n    smoothScrollY = false\n  } = p;\n  const [clientWidth, setClientWidth] = React.useState(10);\n  const [clientHeight, setClientHeight] = React.useState(10);\n  const last = React.useRef();\n  const lastX = React.useRef();\n  const lastY = React.useRef();\n  const width = React.useMemo(() => {\n    let r = Math.max(0, overscrollX !== null && overscrollX !== void 0 ? overscrollX : 0);\n\n    for (const c of columns) {\n      r += c.width;\n    }\n\n    return r;\n  }, [columns, overscrollX]);\n  let height = enableGroups ? headerHeight + groupHeaderHeight : headerHeight;\n\n  if (typeof rowHeight === \"number\") {\n    height += rows * rowHeight;\n  } else {\n    for (let r = 0; r < rows; r++) {\n      height += rowHeight(r);\n    }\n  }\n\n  if (overscrollY !== undefined) {\n    height += overscrollY;\n  }\n\n  const lastArgs = React.useRef();\n  const processArgs = React.useCallback(() => {\n    const args = lastArgs.current;\n    if (args === undefined) return;\n    let x = 0;\n    let tx = 0;\n    let cellRight = 0;\n    let cellX = 0;\n    let stickyColWidth = 0;\n\n    for (let i = 0; i < freezeColumns; i++) {\n      stickyColWidth += columns[i].width;\n    }\n\n    for (const c of columns) {\n      const cx = x - stickyColWidth;\n\n      if (args.x >= cx + c.width) {\n        x += c.width;\n        cellX++;\n        cellRight++;\n      } else if (args.x > cx) {\n        x += c.width;\n\n        if (smoothScrollX) {\n          tx += cx - args.x;\n        } else {\n          cellX++;\n        }\n\n        cellRight++;\n      } else if (args.x + args.width > cx) {\n        x += c.width;\n        cellRight++;\n      } else {\n        break;\n      }\n    }\n\n    let ty = 0;\n    let cellY = 0;\n    let cellBottom = 0;\n\n    if (typeof rowHeight === \"number\") {\n      if (smoothScrollY) {\n        cellY = Math.floor(args.y / rowHeight);\n        ty = cellY * rowHeight - args.y;\n      } else {\n        cellY = Math.ceil(args.y / rowHeight);\n      }\n\n      cellBottom = Math.ceil(args.height / rowHeight) + cellY;\n      if (ty < 0) cellBottom++;\n    } else {\n      let y = 0;\n\n      for (let row = 0; row < rows; row++) {\n        const rh = rowHeight(row);\n        const cy = y + (smoothScrollY ? 0 : rh / 2);\n\n        if (args.y >= y + rh) {\n          y += rh;\n          cellY++;\n          cellBottom++;\n        } else if (args.y > cy) {\n          y += rh;\n\n          if (smoothScrollY) {\n            ty += cy - args.y;\n          } else {\n            cellY++;\n          }\n\n          cellBottom++;\n        } else if (args.y + args.height > rh / 2 + y) {\n          y += rh;\n          cellBottom++;\n        } else {\n          break;\n        }\n      }\n    }\n\n    const rect = {\n      x: cellX,\n      y: cellY,\n      width: cellRight - cellX,\n      height: cellBottom - cellY\n    };\n    const oldRect = last.current;\n\n    if (oldRect === undefined || oldRect.y !== rect.y || oldRect.x !== rect.x || oldRect.height !== rect.height || oldRect.width !== rect.width || lastX.current !== tx || lastY.current !== ty) {\n      onVisibleRegionChanged === null || onVisibleRegionChanged === void 0 ? void 0 : onVisibleRegionChanged({\n        x: cellX,\n        y: cellY,\n        width: cellRight - cellX,\n        height: cellBottom - cellY\n      }, tx, ty);\n      last.current = rect;\n      lastX.current = tx;\n      lastY.current = ty;\n    }\n\n    setClientHeight(args.height);\n    setClientWidth(args.width);\n  }, [columns, rowHeight, rows, onVisibleRegionChanged, freezeColumns, smoothScrollX, smoothScrollY]);\n  const onScrollUpdate = React.useCallback(args => {\n    lastArgs.current = args;\n    processArgs();\n  }, [processArgs]);\n  React.useEffect(() => {\n    processArgs();\n  }, [processArgs]);\n  const scroller = (_scrollRef$current = scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current) !== null && _scrollRef$current !== void 0 ? _scrollRef$current : undefined;\n  const aspect = clamp(width / height, 2 / 3, 1.5);\n  const maxSize = 200;\n  const w = aspect > 1 ? maxSize : Math.ceil(maxSize * aspect);\n  const h = aspect > 1 ? Math.ceil(maxSize / aspect) : maxSize;\n  const hRatio = w / width;\n  const vRatio = h / height;\n  const vWidth = Math.min(clientWidth * Math.max(hRatio, 0.01), w);\n  const vHeight = Math.min(clientHeight * Math.max(vRatio, 0.01), h);\n  const left = ((_scroller$scrollLeft = scroller === null || scroller === void 0 ? void 0 : scroller.scrollLeft) !== null && _scroller$scrollLeft !== void 0 ? _scroller$scrollLeft : 0) / (width - clientWidth) * (w - vWidth);\n  const top = ((_scroller$scrollTop = scroller === null || scroller === void 0 ? void 0 : scroller.scrollTop) !== null && _scroller$scrollTop !== void 0 ? _scroller$scrollTop : 0) / (height - clientHeight) * (h - vHeight);\n  const minimap = React.useMemo(() => {\n    if (!showMinimap || vWidth === 0 || vHeight === 0) return undefined;\n\n    const handleMouse = e => {\n      if (scroller === undefined) return;\n      const bounds = e.currentTarget.getBoundingClientRect();\n      const x = e.clientX - bounds.x - vWidth / 2;\n      const y = e.clientY - bounds.y - vHeight / 2;\n      const newScrollLeft = (width - scroller.clientWidth) * (x / (w - vWidth));\n      const newScrollTop = (height - scroller.clientHeight) * (y / (h - vHeight));\n      scroller.scrollTo({\n        left: newScrollLeft,\n        top: newScrollTop,\n        behavior: e.type === \"mousemove\" ? \"auto\" : \"smooth\"\n      });\n    };\n\n    return React.createElement(MinimapStyle, {\n      style: {\n        width: w,\n        height: h\n      },\n      \"data-testid\": \"minimap-container\",\n      onMouseMove: e => {\n        if (e.buttons !== 1) return;\n        handleMouse(e);\n      },\n      onClick: handleMouse\n    }, React.createElement(\"div\", {\n      className: \"header\"\n    }), React.createElement(\"div\", {\n      className: \"locationMarker\",\n      onDragStart: e => e.preventDefault(),\n      style: {\n        left,\n        top,\n        width: vWidth,\n        height: vHeight,\n        borderRadius: Math.min(vWidth, vHeight * 0.2, 9)\n      }\n    }));\n  }, [h, height, left, scroller, showMinimap, top, vHeight, vWidth, w, width]);\n  return React.createElement(InfiniteScroller, {\n    scrollRef: scrollRef,\n    minimap: minimap,\n    className: className,\n    preventDiagonalScrolling: preventDiagonalScrolling,\n    draggable: dataGridProps.isDraggable === true,\n    scrollWidth: width + (paddingRight !== null && paddingRight !== void 0 ? paddingRight : 0),\n    scrollHeight: height + (paddingBottom !== null && paddingBottom !== void 0 ? paddingBottom : 0),\n    clientHeight: clientHeight,\n    rightElement: rightElement,\n    paddingBottom: paddingBottom,\n    paddingRight: paddingRight,\n    rightElementSticky: rightElementSticky,\n    update: onScrollUpdate,\n    scrollToEnd: scrollToEnd\n  }, React.createElement(DataGridDnd, _extends({\n    eventTargetRef: scrollRef,\n    width: clientWidth,\n    height: clientHeight\n  }, dataGridProps)));\n};\n\nexport default GridScroller;","import { styled } from \"../common/styles.js\";\nimport { disabledProps } from \"../common/utils.js\";\nexport const SearchWrapper = styled.div`\n    position: absolute;\n    top: 4px;\n    right: 20px;\n\n    background-color: ${p => p.theme.bgCell};\n    color: ${p => p.theme.textDark};\n\n    padding: 8px;\n    border: 1px solid ${p => p.theme.borderColor};\n\n    font-size: ${p => p.theme.editorFontSize};\n\n    transform: translateX(${p => p.showSearch ? 0 : 400}px);\n    transition: transform 0.15s;\n\n    .search-bar-inner {\n        display: flex;\n    }\n\n    .search-status {\n        padding-top: 4px;\n        font-size: 11px;\n    }\n\n    .search-progress {\n        position: absolute;\n        height: 4px;\n        left: 0;\n        bottom: 0;\n\n        background-color: ${p => p.theme.textLight};\n    }\n\n    input {\n        width: 220px;\n        color: ${p => p.theme.textDark};\n        background-color: ${p => p.theme.bgCell};\n        border: none;\n        border-width: 0;\n        outline: none;\n    }\n\n    button {\n        width: 24px;\n        height: 24px;\n        padding: 0;\n\n        border: none;\n        outline: none;\n        background: none;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n        color: ${p => p.theme.textMedium};\n\n        :hover {\n            color: ${p => p.theme.textDark};\n        }\n\n        .button-icon {\n            width: 16px;\n            height: 16px;\n        }\n\n        :disabled {\n            ${disabledProps}\n        }\n    }\n`;","import * as React from \"react\";\nimport { GridCellKind } from \"../data-grid/data-grid-types.js\";\nimport ScrollingDataGrid from \"../scrolling-data-grid/scrolling-data-grid.js\";\nimport { SearchWrapper } from \"./data-grid-search-style.js\";\nimport { assert } from \"../common/support.js\";\nconst upArrow = React.createElement(\"svg\", {\n  className: \"button-icon\",\n  viewBox: \"0 0 512 512\"\n}, React.createElement(\"path\", {\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: \"48\",\n  d: \"M112 244l144-144 144 144M256 120v292\"\n}));\nconst downArrow = React.createElement(\"svg\", {\n  className: \"button-icon\",\n  viewBox: \"0 0 512 512\"\n}, React.createElement(\"path\", {\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: \"48\",\n  d: \"M112 268l144 144 144-144M256 392V100\"\n}));\nconst closeX = React.createElement(\"svg\", {\n  className: \"button-icon\",\n  viewBox: \"0 0 512 512\"\n}, React.createElement(\"path\", {\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: \"32\",\n  d: \"M368 368L144 144M368 144L144 368\"\n}));\nconst targetSearchTimeMS = 10;\n\nconst DataGridSearch = p => {\n  const {\n    getCellsForSelection,\n    onSearchResultsChanged,\n    showSearch = false,\n    onSearchClose,\n    canvasRef,\n    cellYOffset,\n    rows,\n    columns\n  } = p;\n  const [searchID] = React.useState(() => \"search-box-\" + Math.round(Math.random() * 1000));\n  const [searchString, setSearchString] = React.useState(\"\");\n  const [searchStatus, setSearchStatus] = React.useState();\n  const searchStatusRef = React.useRef(searchStatus);\n  searchStatusRef.current = searchStatus;\n  const abortControllerRef = React.useRef(new AbortController());\n  const inputRef = React.useRef(null);\n  const searchHandle = React.useRef();\n  const [searchResults, setSearchResults] = React.useState([]);\n  const cancelSearch = React.useCallback(() => {\n    if (searchHandle.current !== undefined) {\n      window.cancelAnimationFrame(searchHandle.current);\n      searchHandle.current = undefined;\n      abortControllerRef.current.abort();\n    }\n  }, []);\n  const cellYOffsetRef = React.useRef(cellYOffset);\n  cellYOffsetRef.current = cellYOffset;\n  const beginSearch = React.useCallback(str => {\n    const regex = new RegExp(str.replace(/([.?*+^$[\\]\\\\(){}|-])/g, \"\\\\$1\"), \"i\");\n    let startY = cellYOffsetRef.current;\n    let searchStride = Math.min(10, rows);\n    let rowsSearched = 0;\n    setSearchStatus(undefined);\n    setSearchResults([]);\n    const runningResult = [];\n\n    const tick = async () => {\n      var _searchStatusRef$curr, _searchStatusRef$curr2;\n\n      if (getCellsForSelection === undefined) return;\n      const tStart = performance.now();\n      const rowsLeft = rows - rowsSearched;\n      let data = getCellsForSelection({\n        x: 0,\n        y: startY,\n        width: columns.length,\n        height: Math.min(searchStride, rowsLeft, rows - startY)\n      }, abortControllerRef.current.signal);\n\n      if (typeof data === \"function\") {\n        data = await data();\n      }\n\n      let added = false;\n      data.forEach((d, row) => d.forEach((cell, col) => {\n        let testString;\n\n        switch (cell.kind) {\n          case GridCellKind.Text:\n          case GridCellKind.Number:\n            testString = cell.displayData;\n            break;\n\n          case GridCellKind.Uri:\n          case GridCellKind.Markdown:\n            testString = cell.data;\n            break;\n\n          case GridCellKind.Boolean:\n            testString = typeof cell.data === \"boolean\" ? cell.data.toString() : undefined;\n            break;\n\n          case GridCellKind.Image:\n          case GridCellKind.Bubble:\n            testString = cell.data.join(\"🐳\");\n            break;\n\n          case GridCellKind.Custom:\n            testString = cell.copyData;\n            break;\n        }\n\n        if (testString !== undefined && regex.test(testString)) {\n          runningResult.push([col, row + startY]);\n          added = true;\n        }\n      }));\n      const tEnd = performance.now();\n\n      if (added) {\n        setSearchResults([...runningResult]);\n      }\n\n      rowsSearched += data.length;\n      assert(rowsSearched <= rows);\n      const selectedIndex = (_searchStatusRef$curr = (_searchStatusRef$curr2 = searchStatusRef.current) === null || _searchStatusRef$curr2 === void 0 ? void 0 : _searchStatusRef$curr2.selectedIndex) !== null && _searchStatusRef$curr !== void 0 ? _searchStatusRef$curr : -1;\n      setSearchStatus({\n        results: runningResult.length,\n        rowsSearched,\n        selectedIndex\n      });\n      onSearchResultsChanged === null || onSearchResultsChanged === void 0 ? void 0 : onSearchResultsChanged(runningResult, selectedIndex);\n\n      if (startY + searchStride >= rows) {\n        startY = 0;\n      } else {\n        startY += searchStride;\n      }\n\n      const tElapsed = tEnd - tStart;\n      const rounded = Math.max(tElapsed, 1);\n      const scalar = targetSearchTimeMS / rounded;\n      searchStride = Math.ceil(searchStride * scalar);\n\n      if (rowsSearched < rows && runningResult.length < 1000) {\n        searchHandle.current = window.requestAnimationFrame(tick);\n      }\n    };\n\n    cancelSearch();\n    searchHandle.current = window.requestAnimationFrame(tick);\n  }, [cancelSearch, columns.length, getCellsForSelection, onSearchResultsChanged, rows]);\n  const onClose = React.useCallback(() => {\n    var _canvasRef$current;\n\n    onSearchClose === null || onSearchClose === void 0 ? void 0 : onSearchClose();\n    setSearchStatus(undefined);\n    setSearchResults([]);\n    onSearchResultsChanged === null || onSearchResultsChanged === void 0 ? void 0 : onSearchResultsChanged([], -1);\n    cancelSearch();\n    canvasRef === null || canvasRef === void 0 ? void 0 : (_canvasRef$current = canvasRef.current) === null || _canvasRef$current === void 0 ? void 0 : _canvasRef$current.focus();\n  }, [cancelSearch, canvasRef, onSearchClose, onSearchResultsChanged]);\n  const onSearchChange = React.useCallback(event => {\n    setSearchString(event.target.value);\n\n    if (event.target.value === \"\") {\n      setSearchStatus(undefined);\n      setSearchResults([]);\n      cancelSearch();\n    } else {\n      beginSearch(event.target.value);\n    }\n  }, [beginSearch, cancelSearch]);\n  React.useEffect(() => {\n    if (showSearch && inputRef.current !== null) {\n      setSearchString(\"\");\n      inputRef.current.focus({\n        preventScroll: true\n      });\n    }\n  }, [showSearch]);\n  const onNext = React.useCallback(ev => {\n    var _ev$stopPropagation;\n\n    ev === null || ev === void 0 ? void 0 : (_ev$stopPropagation = ev.stopPropagation) === null || _ev$stopPropagation === void 0 ? void 0 : _ev$stopPropagation.call(ev);\n    if (searchStatus === undefined) return;\n    const newIndex = (searchStatus.selectedIndex + 1) % searchStatus.results;\n    setSearchStatus({ ...searchStatus,\n      selectedIndex: newIndex\n    });\n    onSearchResultsChanged === null || onSearchResultsChanged === void 0 ? void 0 : onSearchResultsChanged(searchResults, newIndex);\n  }, [searchStatus, onSearchResultsChanged, searchResults]);\n  const onPrev = React.useCallback(ev => {\n    var _ev$stopPropagation2;\n\n    ev === null || ev === void 0 ? void 0 : (_ev$stopPropagation2 = ev.stopPropagation) === null || _ev$stopPropagation2 === void 0 ? void 0 : _ev$stopPropagation2.call(ev);\n    if (searchStatus === undefined) return;\n    let newIndex = (searchStatus.selectedIndex - 1) % searchStatus.results;\n    if (newIndex < 0) newIndex += searchStatus.results;\n    setSearchStatus({ ...searchStatus,\n      selectedIndex: newIndex\n    });\n    onSearchResultsChanged === null || onSearchResultsChanged === void 0 ? void 0 : onSearchResultsChanged(searchResults, newIndex);\n  }, [onSearchResultsChanged, searchResults, searchStatus]);\n  const onSearchKeyDown = React.useCallback(event => {\n    if ((event.ctrlKey || event.metaKey) && event.key === \"f\" || event.key === \"Escape\") {\n      onClose();\n      event.stopPropagation();\n      event.preventDefault();\n    } else if (event.key === \"Enter\") {\n      if (event.shiftKey) {\n        onPrev();\n      } else {\n        onNext();\n      }\n    }\n  }, [onClose, onNext, onPrev]);\n  React.useEffect(() => {\n    return () => {\n      cancelSearch();\n    };\n  }, [cancelSearch]);\n  const searchbox = React.useMemo(() => {\n    var _searchStatus$rowsSea, _searchStatus$results, _searchStatus$results2;\n\n    let resultString;\n\n    if (searchStatus !== undefined) {\n      if (searchStatus.results >= 1000) {\n        resultString = `over 1000`;\n      } else {\n        resultString = `${searchStatus.results} result${searchStatus.results !== 1 ? \"s\" : \"\"}`;\n      }\n\n      if (searchStatus.selectedIndex >= 0) {\n        resultString = `${searchStatus.selectedIndex + 1} of ${resultString}`;\n      }\n    }\n\n    const cancelEvent = ev => {\n      ev.stopPropagation();\n    };\n\n    const rowsSearchedProgress = Math.floor(((_searchStatus$rowsSea = searchStatus === null || searchStatus === void 0 ? void 0 : searchStatus.rowsSearched) !== null && _searchStatus$rowsSea !== void 0 ? _searchStatus$rowsSea : 0) / rows * 100);\n    const progressStyle = {\n      width: `${rowsSearchedProgress}%`\n    };\n    return React.createElement(SearchWrapper, {\n      showSearch: showSearch,\n      onMouseDown: cancelEvent,\n      onMouseMove: cancelEvent,\n      onMouseUp: cancelEvent,\n      onClick: cancelEvent\n    }, React.createElement(\"div\", {\n      className: \"search-bar-inner\"\n    }, React.createElement(\"input\", {\n      id: searchID,\n      \"aria-hidden\": !showSearch,\n      \"data-testid\": \"search-input\",\n      ref: inputRef,\n      onChange: onSearchChange,\n      value: searchString,\n      tabIndex: showSearch ? undefined : -1,\n      onKeyDownCapture: onSearchKeyDown\n    }), React.createElement(\"button\", {\n      \"aria-label\": \"Previous Result\",\n      \"aria-hidden\": !showSearch,\n      tabIndex: showSearch ? undefined : -1,\n      onClick: onPrev,\n      disabled: ((_searchStatus$results = searchStatus === null || searchStatus === void 0 ? void 0 : searchStatus.results) !== null && _searchStatus$results !== void 0 ? _searchStatus$results : 0) === 0\n    }, upArrow), React.createElement(\"button\", {\n      \"aria-label\": \"Next Result\",\n      \"aria-hidden\": !showSearch,\n      tabIndex: showSearch ? undefined : -1,\n      onClick: onNext,\n      disabled: ((_searchStatus$results2 = searchStatus === null || searchStatus === void 0 ? void 0 : searchStatus.results) !== null && _searchStatus$results2 !== void 0 ? _searchStatus$results2 : 0) === 0\n    }, downArrow), onSearchClose !== undefined && React.createElement(\"button\", {\n      \"aria-label\": \"Close Search\",\n      \"aria-hidden\": !showSearch,\n      \"data-testid\": \"search-close-button\",\n      tabIndex: showSearch ? undefined : -1,\n      onClick: onClose\n    }, closeX)), searchStatus !== undefined ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"search-status\"\n    }, React.createElement(\"div\", {\n      \"data-testid\": \"search-result-area\"\n    }, resultString)), React.createElement(\"div\", {\n      className: \"search-progress\",\n      style: progressStyle\n    })) : React.createElement(\"div\", {\n      className: \"search-status\"\n    }, React.createElement(\"label\", {\n      htmlFor: searchID\n    }, \"Type to search\")));\n  }, [onClose, onNext, onPrev, onSearchChange, onSearchClose, onSearchKeyDown, rows, searchStatus, searchString, showSearch, searchID]);\n  return React.createElement(React.Fragment, null, React.createElement(ScrollingDataGrid, {\n    accessibilityHeight: p.accessibilityHeight,\n    cellXOffset: p.cellXOffset,\n    cellYOffset: p.cellYOffset,\n    columns: p.columns,\n    enableGroups: p.enableGroups,\n    freezeColumns: p.freezeColumns,\n    preventDiagonalScrolling: p.preventDiagonalScrolling,\n    getCellContent: p.getCellContent,\n    groupHeaderHeight: p.groupHeaderHeight,\n    onCanvasFocused: p.onCanvasFocused,\n    onCanvasBlur: p.onCanvasBlur,\n    isFocused: p.isFocused,\n    headerHeight: p.headerHeight,\n    isFilling: p.isFilling,\n    fillHandle: p.fillHandle,\n    lastRowSticky: p.lastRowSticky,\n    firstColAccessible: p.firstColAccessible,\n    lockColumns: p.lockColumns,\n    rowHeight: p.rowHeight,\n    onMouseMove: p.onMouseMove,\n    rows: p.rows,\n    highlightRegions: p.highlightRegions,\n    verticalBorder: p.verticalBorder,\n    canvasRef: p.canvasRef,\n    className: p.className,\n    disabledRows: p.disabledRows,\n    drawCustomCell: p.drawCustomCell,\n    drawHeader: p.drawHeader,\n    experimental: p.experimental,\n    getGroupDetails: p.getGroupDetails,\n    getRowThemeOverride: p.getRowThemeOverride,\n    gridRef: p.gridRef,\n    headerIcons: p.headerIcons,\n    isDraggable: p.isDraggable,\n    minColumnWidth: p.minColumnWidth,\n    maxColumnWidth: p.maxColumnWidth,\n    onCellFocused: p.onCellFocused,\n    onColumnMoved: p.onColumnMoved,\n    onColumnResized: p.onColumnResized,\n    onColumnResize: p.onColumnResize,\n    onColumnResizeStart: p.onColumnResizeStart,\n    onColumnResizeEnd: p.onColumnResizeEnd,\n    onDragStart: p.onDragStart,\n    onHeaderMenuClick: p.onHeaderMenuClick,\n    onItemHovered: p.onItemHovered,\n    onKeyUp: p.onKeyUp,\n    onMouseDown: p.onMouseDown,\n    onMouseUp: p.onMouseUp,\n    onRowMoved: p.onRowMoved,\n    onVisibleRegionChanged: p.onVisibleRegionChanged,\n    overscrollX: p.overscrollX,\n    overscrollY: p.overscrollY,\n    rightElement: p.rightElement,\n    rightElementSticky: p.rightElementSticky,\n    scrollRef: p.scrollRef,\n    scrollToEnd: p.scrollToEnd,\n    selection: p.selection,\n    showMinimap: p.showMinimap,\n    smoothScrollX: p.smoothScrollX,\n    smoothScrollY: p.smoothScrollY,\n    translateX: p.translateX,\n    translateY: p.translateY,\n    onKeyDown: p.onKeyDown,\n    prelightCells: searchResults\n  }), searchbox);\n};\n\nexport default DataGridSearch;","import _styled2 from \"styled-components\";\nimport _styled from \"styled-components\";\nimport React from \"react\";\nimport { css } from \"styled-components\";\nimport ClickOutsideContainer from \"../click-outside-container/click-outside-container.js\";\nexport const GroupRename = p => {\n  const {\n    bounds,\n    group,\n    onClose,\n    canvasBounds,\n    onFinish\n  } = p;\n  const [value, setValue] = React.useState(group);\n  return React.createElement(_StyledClickOutsideContainer, {\n    style: {\n      position: \"absolute\",\n      left: bounds.x - canvasBounds.left + 1,\n      top: bounds.y - canvasBounds.top,\n      width: bounds.width - 2,\n      height: bounds.height\n    },\n    onClickOutside: onClose\n  }, React.createElement(_StyledInput, {\n    \"data-testid\": \"group-rename-input\",\n    value: value,\n    onBlur: onClose,\n    onFocus: e => e.target.setSelectionRange(0, value.length),\n    onChange: e => setValue(e.target.value),\n    onKeyDown: e => {\n      if (e.key === \"Enter\") {\n        onFinish(value);\n      } else if (e.key === \"Escape\") {\n        onClose();\n      }\n    },\n    autoFocus: true,\n    $_css: Math.max(16, bounds.height - 10)\n  }));\n};\n\nvar _StyledClickOutsideContainer = _styled(ClickOutsideContainer).withConfig({\n  displayName: \"group-rename___StyledClickOutsideContainer\",\n  componentId: \"sc-1luhmq4-0\"\n})([\"padding:0 8px;display:flex;align-items:center;background-color:\", \";\"], t => t.theme.bgHeader);\n\nvar _StyledInput = _styled(\"input\").withConfig({\n  displayName: \"group-rename___StyledInput\",\n  componentId: \"sc-1luhmq4-1\"\n})([\"flex-grow:1;border:none;outline:none;background-color:\", \";border-radius:9px;padding:0 8px;box-shadow:0 0 0 1px \", \";color:\", \";min-height:\", \"px;font:\", \" \", \";\"], t => t.theme.bgHeaderHasFocus, t => t.theme.borderColor, t => t.theme.textGroupHeader, p => p.$_css, t => t.theme.headerFontStyle, t => t.theme.fontFamily);","import * as React from \"react\";\nimport { CellRenderers } from \"../data-grid/cells/index.js\";\nimport { GridCellKind, isSizedGridColumn, resolveCellsThunk } from \"../data-grid/data-grid-types.js\";\nconst defaultSize = 150;\n\nfunction measureCell(ctx, cell) {\n  var _r$measure;\n\n  if (cell.kind === GridCellKind.Custom) return defaultSize;\n  const r = CellRenderers[cell.kind];\n  return (_r$measure = r === null || r === void 0 ? void 0 : r.measure(ctx, cell)) !== null && _r$measure !== void 0 ? _r$measure : defaultSize;\n}\n\nexport function useColumnSizer(columns, rows, getCellsForSelection, minColumnWidth, maxColumnWidth, theme, abortController) {\n  const rowsRef = React.useRef(rows);\n  const getCellsForSelectionRef = React.useRef(getCellsForSelection);\n  const themeRef = React.useRef(theme);\n  rowsRef.current = rows;\n  getCellsForSelectionRef.current = getCellsForSelection;\n  themeRef.current = theme;\n  const [ctx] = React.useState(() => {\n    const offscreen = document.createElement(\"canvas\");\n    return offscreen.getContext(\"2d\", {\n      alpha: false\n    });\n  });\n  const memoMap = React.useRef({});\n  const lastColumns = React.useRef();\n  const [selectedData, setSelectionData] = React.useState();\n  React.useLayoutEffect(() => {\n    const getCells = getCellsForSelectionRef.current;\n    if (getCells === undefined || columns.every(isSizedGridColumn)) return;\n    let computeRows = Math.max(1, 10 - Math.floor(columns.length / 10000));\n    let tailRows = 0;\n\n    if (computeRows < rowsRef.current && computeRows > 1) {\n      computeRows--;\n      tailRows = 1;\n    }\n\n    const computeArea = {\n      x: 0,\n      y: 0,\n      width: columns.length,\n      height: Math.min(rowsRef.current, computeRows)\n    };\n    const tailComputeArea = {\n      x: 0,\n      y: rowsRef.current - 1,\n      width: columns.length,\n      height: 1\n    };\n\n    const fn = async () => {\n      const getResult = getCells(computeArea, abortController.signal);\n      const tailGetResult = tailRows > 0 ? getCells(tailComputeArea, abortController.signal) : undefined;\n      let toSet;\n\n      if (typeof getResult === \"object\") {\n        toSet = getResult;\n      } else {\n        toSet = await resolveCellsThunk(getResult);\n      }\n\n      if (tailGetResult !== undefined) {\n        if (typeof tailGetResult === \"object\") {\n          toSet = [...toSet, ...tailGetResult];\n        } else {\n          toSet = [...toSet, ...(await resolveCellsThunk(tailGetResult))];\n        }\n      }\n\n      lastColumns.current = columns;\n      setSelectionData(toSet);\n    };\n\n    void fn();\n  }, [abortController.signal, columns]);\n  return React.useMemo(() => {\n    if (columns.every(isSizedGridColumn)) {\n      return columns;\n    }\n\n    if (ctx === null) {\n      return columns.map(c => {\n        if (isSizedGridColumn(c)) return c;\n        return { ...c,\n          width: defaultSize\n        };\n      });\n    }\n\n    ctx.font = `${themeRef.current.baseFontStyle} ${themeRef.current.fontFamily}`;\n    return columns.map((c, colIndex) => {\n      if (isSizedGridColumn(c)) return c;\n\n      if (memoMap.current[c.id] !== undefined) {\n        return { ...c,\n          width: memoMap.current[c.id]\n        };\n      }\n\n      if (selectedData === undefined || lastColumns.current !== columns || c.id === undefined) {\n        return { ...c,\n          width: defaultSize\n        };\n      }\n\n      let sizes = [];\n\n      if (selectedData !== undefined) {\n        sizes.push(...selectedData.map(row => row[colIndex]).map(cell => measureCell(ctx, cell)));\n      }\n\n      sizes.push(ctx.measureText(c.title).width + 16 + (c.icon === undefined ? 0 : 28));\n      const average = sizes.reduce((a, b) => a + b) / sizes.length;\n\n      if (sizes.length > 5) {\n        sizes = sizes.filter(a => a < average * 2);\n      }\n\n      const biggest = Math.max(...sizes);\n      const final = Math.max(minColumnWidth, Math.min(maxColumnWidth, Math.ceil(biggest)));\n      memoMap.current[c.id] = final;\n      return { ...c,\n        width: final\n      };\n    });\n  }, [columns, ctx, maxColumnWidth, minColumnWidth, selectedData]);\n}","import { browserIsOSX } from \"./browser-detect.js\";\nexport function isHotkey(hotkey, args) {\n  if (hotkey.length === 0) return false;\n  let wantCtrl = false;\n  let wantShift = false;\n  let wantAlt = false;\n  let wantMeta = false;\n  const split = hotkey.split(\"+\");\n  const key = split.pop();\n  if (key === undefined) return false;\n\n  if (key.length > 1 && key.startsWith(\"_\")) {\n    const keycode = Number.parseInt(key.substring(1));\n    if (keycode !== args.keyCode) return false;\n  } else {\n    if (key !== args.key) return false;\n  }\n\n  for (const accel of split) {\n    switch (accel) {\n      case \"ctrl\":\n        wantCtrl = true;\n        break;\n\n      case \"shift\":\n        wantShift = true;\n        break;\n\n      case \"alt\":\n        wantAlt = true;\n        break;\n\n      case \"meta\":\n        wantMeta = true;\n        break;\n\n      case \"primary\":\n        if (browserIsOSX.value) {\n          wantMeta = true;\n        } else {\n          wantCtrl = true;\n        }\n\n        break;\n    }\n  }\n\n  return args.altKey === wantAlt && args.ctrlKey === wantCtrl && args.shiftKey === wantShift && args.metaKey === wantMeta;\n}","import { assertNever } from \"../common/support.js\";\nimport { BooleanEmpty, BooleanIndeterminate, GridCellKind } from \"../data-grid/data-grid-types.js\";\nexport function expandSelection(newVal, getCellsForSelection, rowMarkerOffset, spanRangeBehavior, abortController) {\n  const origVal = newVal;\n  if (spanRangeBehavior === \"allowPartial\" || newVal.current === undefined) return newVal;\n\n  if (getCellsForSelection !== undefined) {\n    let isFilled = false;\n\n    do {\n      var _newVal, _newVal$current;\n\n      if (((_newVal = newVal) === null || _newVal === void 0 ? void 0 : _newVal.current) === undefined) break;\n      const r = (_newVal$current = newVal.current) === null || _newVal$current === void 0 ? void 0 : _newVal$current.range;\n      const cells = [];\n\n      if (r.width > 2) {\n        const leftCells = getCellsForSelection({\n          x: r.x,\n          y: r.y,\n          width: 1,\n          height: r.height\n        }, abortController.signal);\n\n        if (typeof leftCells === \"function\") {\n          return origVal;\n        }\n\n        cells.push(...leftCells);\n        const rightCells = getCellsForSelection({\n          x: r.x + r.width - 1,\n          y: r.y,\n          width: 1,\n          height: r.height\n        }, abortController.signal);\n\n        if (typeof rightCells === \"function\") {\n          return origVal;\n        }\n\n        cells.push(...rightCells);\n      } else {\n        const rCells = getCellsForSelection({\n          x: r.x,\n          y: r.y,\n          width: r.width,\n          height: r.height\n        }, abortController.signal);\n\n        if (typeof rCells === \"function\") {\n          return origVal;\n        }\n\n        cells.push(...rCells);\n      }\n\n      let left = r.x - rowMarkerOffset;\n      let right = r.x + r.width - 1 - rowMarkerOffset;\n      cells.forEach(row => row.forEach(cell => {\n        if (cell.span === undefined) return;\n        left = Math.min(cell.span[0], left);\n        right = Math.max(cell.span[1], right);\n      }));\n\n      if (left === r.x - rowMarkerOffset && right === r.x + r.width - 1 - rowMarkerOffset) {\n        isFilled = true;\n      } else {\n        var _newVal$current$cell;\n\n        newVal = {\n          current: {\n            cell: (_newVal$current$cell = newVal.current.cell) !== null && _newVal$current$cell !== void 0 ? _newVal$current$cell : [0, 0],\n            range: {\n              x: left + rowMarkerOffset,\n              y: r.y,\n              width: right - left + 1,\n              height: r.height\n            },\n            rangeStack: newVal.current.rangeStack\n          },\n          columns: newVal.columns,\n          rows: newVal.rows\n        };\n      }\n    } while (!isFilled);\n  }\n\n  return newVal;\n}\nexport function unquote(str) {\n  function descape(s) {\n    if (s.startsWith('\"') && s.endsWith('\"')) {\n      s = s.slice(1, -1).replace(/\"\"/g, '\"');\n    }\n\n    return s;\n  }\n\n  let State;\n\n  (function (State) {\n    State[State[\"None\"] = 0] = \"None\";\n    State[State[\"inString\"] = 1] = \"inString\";\n    State[State[\"inStringPostQuote\"] = 2] = \"inStringPostQuote\";\n  })(State || (State = {}));\n\n  const result = [];\n  let current = [];\n  let start = 0;\n  let state = State.None;\n  str = str.trim().replace(/\\r\\n/g, \"\\n\");\n  let index = 0;\n\n  for (const char of str) {\n    switch (state) {\n      case State.None:\n        if (char === \"\\t\" || char === \"\\n\") {\n          current.push(str.slice(start, index));\n          start = index + 1;\n\n          if (char === \"\\n\") {\n            result.push(current);\n            current = [];\n          }\n        } else if (char === `\"`) {\n          state = State.inString;\n        }\n\n        break;\n\n      case State.inString:\n        if (char === `\"`) {\n          state = State.inStringPostQuote;\n        }\n\n        break;\n\n      case State.inStringPostQuote:\n        if (char === '\"') {\n          state = State.inString;\n        } else if (char === \"\\t\" || char === \"\\n\") {\n          current.push(descape(str.slice(start, index)));\n          start = index + 1;\n\n          if (char === \"\\n\") {\n            result.push(current);\n            current = [];\n          }\n\n          state = State.None;\n        } else {\n          state = State.None;\n        }\n\n        break;\n    }\n\n    index++;\n  }\n\n  if (start < str.length) {\n    current.push(descape(str.slice(start, str.length)));\n  }\n\n  result.push(current);\n  return result;\n}\nexport function decodeHTML(tableEl) {\n  const walkEl = [tableEl];\n  const result = [];\n  let current;\n\n  while (walkEl.length > 0) {\n    const el = walkEl.pop();\n    if (el === undefined) break;\n\n    if (el instanceof HTMLTableElement || el.nodeName === \"TBODY\") {\n      walkEl.push(...[...el.children].reverse());\n    } else if (el instanceof HTMLTableRowElement) {\n      if (current !== undefined) {\n        result.push(current);\n      }\n\n      current = [];\n      walkEl.push(...[...el.children].reverse());\n    } else if (el instanceof HTMLTableCellElement) {\n      var _current, _ref, _el$innerText;\n\n      (_current = current) === null || _current === void 0 ? void 0 : _current.push((_ref = (_el$innerText = el.innerText) !== null && _el$innerText !== void 0 ? _el$innerText : el.textContent) !== null && _ref !== void 0 ? _ref : \"\");\n    }\n  }\n\n  if (current !== undefined) {\n    result.push(current);\n  }\n\n  return result;\n}\nexport function copyToClipboard(cells, columnIndexes, e) {\n  function escape(str) {\n    if (/[\\n\"\\t]/.test(str)) {\n      str = `\"${str.replace(/\"/g, '\"\"')}\"`;\n    }\n\n    return str;\n  }\n\n  const formatBoolean = val => {\n    switch (val) {\n      case true:\n        return \"TRUE\";\n\n      case false:\n        return \"FALSE\";\n\n      case BooleanIndeterminate:\n        return \"INDETERMINATE\";\n\n      case BooleanEmpty:\n        return \"\";\n\n      default:\n        assertNever(val);\n    }\n  };\n\n  const formatCell = (cell, index, raw) => {\n    var _cell$data$toString, _cell$data;\n\n    const colIndex = columnIndexes[index];\n    if (cell.span !== undefined && cell.span[0] !== colIndex) return \"\";\n\n    switch (cell.kind) {\n      case GridCellKind.Text:\n      case GridCellKind.Number:\n        return escape(raw ? (_cell$data$toString = (_cell$data = cell.data) === null || _cell$data === void 0 ? void 0 : _cell$data.toString()) !== null && _cell$data$toString !== void 0 ? _cell$data$toString : \"\" : cell.displayData);\n\n      case GridCellKind.Markdown:\n      case GridCellKind.RowID:\n      case GridCellKind.Uri:\n        return escape(cell.data);\n\n      case GridCellKind.Image:\n      case GridCellKind.Bubble:\n        return cell.data.reduce((pv, cv) => `${escape(pv)},${escape(cv)}`);\n\n      case GridCellKind.Boolean:\n        return formatBoolean(cell.data);\n\n      case GridCellKind.Loading:\n        return raw ? \"\" : \"#LOADING\";\n\n      case GridCellKind.Protected:\n        return raw ? \"\" : \"************\";\n\n      case GridCellKind.Drilldown:\n        return cell.data.map(i => i.text).reduce((pv, cv) => `${escape(pv)},${escape(cv)}`);\n\n      case GridCellKind.Custom:\n        return escape(cell.copyData);\n\n      default:\n        assertNever(cell);\n    }\n  };\n\n  const str = cells.map(row => row.map((a, b) => formatCell(a, b, false)).join(\"\\t\")).join(\"\\n\");\n\n  if (window.navigator.clipboard.write !== undefined || e !== undefined) {\n    const rootEl = document.createElement(\"tbody\");\n\n    for (const row of cells) {\n      const rowEl = document.createElement(\"tr\");\n\n      for (let i = 0; i < row.length; i++) {\n        const cell = row[i];\n        const cellEl = document.createElement(\"td\");\n\n        if (cell.kind === GridCellKind.Uri) {\n          const link = document.createElement(\"a\");\n          link.href = cell.data;\n          link.innerText = cell.data;\n          cellEl.appendChild(link);\n        } else {\n          cellEl.innerText = formatCell(cell, i, true);\n        }\n\n        rowEl.appendChild(cellEl);\n      }\n\n      rootEl.appendChild(rowEl);\n    }\n\n    if (window.navigator.clipboard.write !== undefined) {\n      void window.navigator.clipboard.write([new ClipboardItem({\n        \"text/plain\": new Blob([str], {\n          type: \"text/plain\"\n        }),\n        \"text/html\": new Blob([`<table>${rootEl.outerHTML}</table>`], {\n          type: \"text/html\"\n        })\n      })]);\n    } else if (e !== undefined && (e === null || e === void 0 ? void 0 : e.clipboardData) !== null) {\n      try {\n        e.clipboardData.setData(\"text/plain\", str);\n        e.clipboardData.setData(\"text/html\", `<table>${rootEl.outerHTML}</table>`);\n        e.preventDefault();\n      } catch {\n        void window.navigator.clipboard.writeText(str);\n      }\n    }\n  } else {\n    void window.navigator.clipboard.writeText(str);\n  }\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { styled } from \"../common/styles.js\";\nimport * as React from \"react\";\n\nfunction toCss(x) {\n  if (typeof x === \"string\") return x;\n  return `${x}px`;\n}\n\nconst Wrapper = styled.div`\n    position: relative;\n\n    min-width: 10px;\n    min-height: 10px;\n    max-width: 100%;\n    max-height: 100%;\n\n    width: ${p => p.innerWidth};\n    height: ${p => p.innerHeight};\n\n    overflow: hidden;\n    overflow: clip;\n\n    contain: strict;\n\n    > :first-child {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n    }\n`;\nexport const DataEditorContainer = p => {\n  const {\n    width,\n    height,\n    children,\n    ...rest\n  } = p;\n  return React.createElement(Wrapper, _extends({\n    innerHeight: toCss(height),\n    innerWidth: toCss(width)\n  }, rest), children);\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\nimport { assertNever, maybe } from \"../common/support.js\";\nimport clamp from \"lodash/clamp.js\";\nimport uniq from \"lodash/uniq.js\";\nimport flatten from \"lodash/flatten.js\";\nimport range from \"lodash/range.js\";\nimport debounce from \"lodash/debounce.js\";\nimport DataGridOverlayEditor from \"../data-grid-overlay-editor/data-grid-overlay-editor.js\";\nimport { GridCellKind, isEditableGridCell, isReadWriteCell, InnerGridCellKind, CompactSelection, isInnerOnlyCell, isObjectEditorCallbackResult, BooleanIndeterminate, BooleanEmpty } from \"../data-grid/data-grid-types.js\";\nimport DataGridSearch from \"../data-grid-search/data-grid-search.js\";\nimport { browserIsOSX } from \"../common/browser-detect.js\";\nimport { ThemeProvider, useTheme } from \"styled-components\";\nimport { getDataEditorTheme } from \"../common/styles.js\";\nimport { getScrollBarWidth, useEventListener } from \"../common/utils.js\";\nimport { CellRenderers } from \"../data-grid/cells/index.js\";\nimport { isGroupEqual } from \"../data-grid/data-grid-lib.js\";\nimport { GroupRename } from \"./group-rename.js\";\nimport { useColumnSizer } from \"./use-column-sizer.js\";\nimport { isHotkey } from \"../common/is-hotkey.js\";\nimport { useSelectionBehavior } from \"../data-grid/use-selection-behavior.js\";\nimport { useCellsForSelection } from \"./use-cells-for-selection.js\";\nimport { unquote, expandSelection, copyToClipboard, decodeHTML } from \"./data-editor-fns.js\";\nimport { DataEditorContainer } from \"../data-editor-container/data-grid-container.js\";\nimport { toggleBoolean } from \"../data-grid/cells/boolean-cell.js\";\nlet idCounter = 0;\n\nfunction getSpanStops(cells) {\n  const disallowed = uniq(flatten(flatten(cells).filter(c => c.span !== undefined).map(c => {\n    var _c$span$, _c$span, _c$span$2, _c$span2;\n\n    return range(((_c$span$ = (_c$span = c.span) === null || _c$span === void 0 ? void 0 : _c$span[0]) !== null && _c$span$ !== void 0 ? _c$span$ : 0) + 1, ((_c$span$2 = (_c$span2 = c.span) === null || _c$span2 === void 0 ? void 0 : _c$span2[1]) !== null && _c$span$2 !== void 0 ? _c$span$2 : 0) + 1);\n  })));\n  return disallowed;\n}\n\nfunction shiftSelection(input, offset) {\n  if (input === undefined || offset === 0 || input.columns.length === 0 && input.current === undefined) return input;\n  return {\n    current: input.current === undefined ? undefined : {\n      cell: [input.current.cell[0] + offset, input.current.cell[1]],\n      range: { ...input.current.range,\n        x: input.current.range.x + offset\n      },\n      rangeStack: input.current.rangeStack.map(r => ({ ...r,\n        x: r.x + offset\n      }))\n    },\n    rows: input.rows,\n    columns: input.columns.offset(offset)\n  };\n}\n\nconst keybindingDefaults = {\n  selectAll: true,\n  selectRow: true,\n  selectColumn: true,\n  downFill: false,\n  rightFill: false,\n  pageUp: false,\n  pageDown: false,\n  clear: true,\n  copy: true,\n  paste: true,\n  search: false,\n  first: true,\n  last: true\n};\nconst loadingCell = {\n  kind: GridCellKind.Loading,\n  allowOverlay: false\n};\nconst emptyGridSelection = {\n  columns: CompactSelection.empty(),\n  rows: CompactSelection.empty(),\n  current: undefined\n};\n\nconst DataEditorImpl = (p, forwardedRef) => {\n  var _p$experimental2, _gridSelection$curren6, _p$experimental4, _p$experimental5;\n\n  const [gridSelectionInner, setGridSelectionInner] = React.useState(emptyGridSelection);\n  const [overlay, setOverlay] = React.useState();\n  const canvasRef = React.useRef(null);\n  const [mouseState, setMouseState] = React.useState();\n  const scrollRef = React.useRef(null);\n  const scrollTimer = React.useRef();\n  const lastSent = React.useRef();\n  const {\n    isDraggable = false,\n    rowMarkers = \"none\",\n    rowHeight = 34,\n    headerHeight = 36,\n    rowMarkerWidth: rowMarkerWidthRaw,\n    imageEditorOverride,\n    getRowThemeOverride,\n    markdownDivCreateNode\n  } = p;\n  const {\n    width,\n    height,\n    columns: columnsIn,\n    rows,\n    getCellContent,\n    onCellClicked,\n    onCellActivated,\n    onFinishedEditing,\n    coercePasteValue,\n    onHeaderClicked,\n    spanRangeBehavior = \"default\",\n    onGroupHeaderClicked,\n    onCellContextMenu,\n    className,\n    onHeaderContextMenu,\n    getCellsForSelection: getCellsForSelectionIn,\n    onGroupHeaderContextMenu,\n    onGroupHeaderRenamed,\n    onCellEdited,\n    onCellsEdited,\n    keybindings: keybindingsIn,\n    onRowAppended,\n    onColumnMoved,\n    highlightRegions: highlightRegionsIn,\n    drawCell,\n    drawCustomCell,\n    rangeSelect = \"rect\",\n    columnSelect = \"multi\",\n    rowSelect = \"multi\",\n    rangeSelectionBlending = \"exclusive\",\n    columnSelectionBlending = \"exclusive\",\n    rowSelectionBlending = \"exclusive\",\n    onDelete: onDeleteIn,\n    onDragStart,\n    onMouseMove,\n    onPaste,\n    groupHeaderHeight = headerHeight,\n    freezeColumns = 0,\n    rowSelectionMode = \"auto\",\n    rowMarkerStartIndex = 1,\n    onHeaderMenuClick,\n    getGroupDetails,\n    onSearchClose: onSearchCloseIn,\n    onItemHovered,\n    onSelectionCleared,\n    showSearch: showSearchIn,\n    onVisibleRegionChanged,\n    gridSelection: gridSelectionOuter,\n    onGridSelectionChange,\n    minColumnWidth: minColumnWidthIn = 50,\n    maxColumnWidth: maxColumnWidthIn = 500,\n    provideEditor,\n    trailingRowOptions,\n    verticalBorder,\n    ...rest\n  } = p;\n  const minColumnWidth = Math.max(minColumnWidthIn, 20);\n  const maxColumnWidth = Math.max(maxColumnWidthIn, minColumnWidth);\n  const keybindings = React.useMemo(() => {\n    return keybindingsIn === undefined ? keybindingDefaults : { ...keybindingDefaults,\n      ...keybindingsIn\n    };\n  }, [keybindingsIn]);\n  const rowMarkerWidth = rowMarkerWidthRaw !== null && rowMarkerWidthRaw !== void 0 ? rowMarkerWidthRaw : rows > 10000 ? 48 : rows > 1000 ? 44 : rows > 100 ? 36 : 32;\n  const hasRowMarkers = rowMarkers !== \"none\";\n  const rowMarkerOffset = hasRowMarkers ? 1 : 0;\n  const showTrailingBlankRow = onRowAppended !== undefined;\n  const lastRowSticky = (trailingRowOptions === null || trailingRowOptions === void 0 ? void 0 : trailingRowOptions.sticky) === true;\n  const [showSearchInner, setShowSearchInner] = React.useState(false);\n  const showSearch = showSearchIn !== null && showSearchIn !== void 0 ? showSearchIn : showSearchInner;\n  const onSearchClose = React.useCallback(() => {\n    if (onSearchCloseIn !== undefined) {\n      onSearchCloseIn();\n    } else {\n      setShowSearchInner(false);\n    }\n  }, [onSearchCloseIn]);\n  const gridSelectionOuterMangled = React.useMemo(() => {\n    return gridSelectionOuter === undefined ? undefined : shiftSelection(gridSelectionOuter, rowMarkerOffset);\n  }, [gridSelectionOuter, rowMarkerOffset]);\n  const gridSelection = gridSelectionOuterMangled !== null && gridSelectionOuterMangled !== void 0 ? gridSelectionOuterMangled : gridSelectionInner;\n  const abortControllerRef = React.useRef(new AbortController());\n  React.useEffect(() => {\n    return () => {\n      abortControllerRef === null || abortControllerRef === void 0 ? void 0 : abortControllerRef.current.abort();\n    };\n  }, []);\n  const [getCellsForSelection, getCellsForSeletionDirect] = useCellsForSelection(getCellsForSelectionIn, getCellContent, rowMarkerOffset, abortControllerRef.current);\n  const setGridSelection = React.useCallback((newVal, expand) => {\n    if (expand) {\n      newVal = expandSelection(newVal, getCellsForSelection, rowMarkerOffset, spanRangeBehavior, abortControllerRef.current);\n    }\n\n    if (onGridSelectionChange !== undefined) {\n      onGridSelectionChange(shiftSelection(newVal, -rowMarkerOffset));\n    } else {\n      setGridSelectionInner(newVal);\n    }\n  }, [onGridSelectionChange, getCellsForSelection, rowMarkerOffset, spanRangeBehavior]);\n  const onDelete = React.useCallback(sel => {\n    if (onDeleteIn !== undefined) {\n      const result = onDeleteIn(shiftSelection(sel, -rowMarkerOffset));\n\n      if (typeof result === \"boolean\") {\n        return result;\n      }\n\n      return shiftSelection(result, rowMarkerOffset);\n    }\n\n    return true;\n  }, [onDeleteIn, rowMarkerOffset]);\n  const [setCurrent, setSelectedRows, setSelectedColumns] = useSelectionBehavior(gridSelection, setGridSelection, rangeSelectionBlending, columnSelectionBlending, rowSelectionBlending, rangeSelect);\n  const theme = useTheme();\n  const mergedTheme = React.useMemo(() => {\n    return { ...getDataEditorTheme(),\n      ...theme\n    };\n  }, [theme]);\n  const columns = useColumnSizer(columnsIn, rows, getCellsForSeletionDirect, minColumnWidth, maxColumnWidth, mergedTheme, abortControllerRef.current);\n  const enableGroups = React.useMemo(() => {\n    return columns.some(c => c.group !== undefined);\n  }, [columns]);\n  const totalHeaderHeight = enableGroups ? headerHeight + groupHeaderHeight : headerHeight;\n  const [visibleRegion, setVisibleRegion] = React.useState({\n    x: 0,\n    y: 0,\n    width: 1,\n    height: 1\n  });\n  const cellXOffset = visibleRegion.x + rowMarkerOffset;\n  const cellYOffset = visibleRegion.y;\n  const gridRef = React.useRef(null);\n  const focus = React.useCallback(immediate => {\n    if (immediate === true) {\n      var _gridRef$current;\n\n      (_gridRef$current = gridRef.current) === null || _gridRef$current === void 0 ? void 0 : _gridRef$current.focus();\n    } else {\n      window.requestAnimationFrame(() => {\n        var _gridRef$current2;\n\n        (_gridRef$current2 = gridRef.current) === null || _gridRef$current2 === void 0 ? void 0 : _gridRef$current2.focus();\n      });\n    }\n  }, []);\n  const mangledRows = showTrailingBlankRow ? rows + 1 : rows;\n  const mangledOnCellEdited = React.useCallback((cell, newValue) => {\n    onCellEdited === null || onCellEdited === void 0 ? void 0 : onCellEdited([cell[0] - rowMarkerOffset, cell[1]], newValue);\n  }, [onCellEdited, rowMarkerOffset]);\n  const mangledOnCellsEdited = React.useCallback(items => {\n    const mangledItems = rowMarkerOffset === 0 ? items : items.map(x => ({ ...x,\n      location: [x.location[0] - rowMarkerOffset, x.location[1]]\n    }));\n    onCellsEdited === null || onCellsEdited === void 0 ? void 0 : onCellsEdited(mangledItems);\n  }, [onCellsEdited, rowMarkerOffset]);\n  const mangledCols = React.useMemo(() => {\n    if (rowMarkers === \"none\") return columns;\n    return [{\n      title: \"\",\n      width: rowMarkerWidth,\n      icon: undefined,\n      hasMenu: false,\n      style: \"normal\"\n    }, ...columns];\n  }, [columns, rowMarkerWidth, rowMarkers]);\n  const highlightRegions = React.useMemo(() => {\n    if (highlightRegionsIn === undefined) return undefined;\n    if (rowMarkerOffset === 0) return highlightRegionsIn;\n    return highlightRegionsIn.map(r => {\n      const maxWidth = mangledCols.length - r.range.x - rowMarkerOffset;\n      if (maxWidth <= 0) return undefined;\n      return {\n        color: r.color,\n        range: { ...r.range,\n          x: r.range.x + rowMarkerOffset,\n          width: Math.min(maxWidth, r.range.width)\n        }\n      };\n    }).filter(x => x !== undefined);\n  }, [highlightRegionsIn, mangledCols.length, rowMarkerOffset]);\n  const visibleRegionRef = React.useRef(visibleRegion);\n  const getMangledCellContent = React.useCallback(_ref => {\n    let [col, row] = _ref;\n    const isTrailing = showTrailingBlankRow && row === mangledRows - 1;\n    const isRowMarkerCol = col === 0 && hasRowMarkers;\n\n    if (isRowMarkerCol) {\n      if (isTrailing) {\n        return loadingCell;\n      }\n\n      return {\n        kind: InnerGridCellKind.Marker,\n        allowOverlay: false,\n        checked: (gridSelection === null || gridSelection === void 0 ? void 0 : gridSelection.rows.hasIndex(row)) === true,\n        markerKind: rowMarkers,\n        row: rowMarkerStartIndex + row\n      };\n    } else if (isTrailing) {\n      var _trailingRowOptions$h, _c$trailingRowOptions;\n\n      const isFirst = col === rowMarkerOffset;\n      const maybeFirstColumnHint = isFirst ? (_trailingRowOptions$h = trailingRowOptions === null || trailingRowOptions === void 0 ? void 0 : trailingRowOptions.hint) !== null && _trailingRowOptions$h !== void 0 ? _trailingRowOptions$h : \"\" : \"\";\n      const c = mangledCols[col];\n\n      if ((c === null || c === void 0 ? void 0 : (_c$trailingRowOptions = c.trailingRowOptions) === null || _c$trailingRowOptions === void 0 ? void 0 : _c$trailingRowOptions.disabled) === true) {\n        return loadingCell;\n      } else {\n        var _c$trailingRowOptions2, _c$trailingRowOptions3, _c$trailingRowOptions4, _c$trailingRowOptions5;\n\n        const hint = (_c$trailingRowOptions2 = c === null || c === void 0 ? void 0 : (_c$trailingRowOptions3 = c.trailingRowOptions) === null || _c$trailingRowOptions3 === void 0 ? void 0 : _c$trailingRowOptions3.hint) !== null && _c$trailingRowOptions2 !== void 0 ? _c$trailingRowOptions2 : maybeFirstColumnHint;\n        const icon = (_c$trailingRowOptions4 = c === null || c === void 0 ? void 0 : (_c$trailingRowOptions5 = c.trailingRowOptions) === null || _c$trailingRowOptions5 === void 0 ? void 0 : _c$trailingRowOptions5.addIcon) !== null && _c$trailingRowOptions4 !== void 0 ? _c$trailingRowOptions4 : trailingRowOptions === null || trailingRowOptions === void 0 ? void 0 : trailingRowOptions.addIcon;\n        return {\n          kind: InnerGridCellKind.NewRow,\n          hint,\n          allowOverlay: false,\n          icon\n        };\n      }\n    } else {\n      var _p$experimental;\n\n      const outerCol = col - rowMarkerOffset;\n\n      if (((_p$experimental = p.experimental) === null || _p$experimental === void 0 ? void 0 : _p$experimental.strict) === true) {\n        var _vr$extras, _vr$extras$selected, _vr$extras2, _vr$extras3;\n\n        const vr = visibleRegionRef.current;\n        const isOutsideMainArea = vr.x > outerCol || outerCol > vr.x + vr.width || vr.y > row || row > vr.y + vr.height;\n        const isSelected = outerCol === ((_vr$extras = vr.extras) === null || _vr$extras === void 0 ? void 0 : (_vr$extras$selected = _vr$extras.selected) === null || _vr$extras$selected === void 0 ? void 0 : _vr$extras$selected[0]) && row === ((_vr$extras2 = vr.extras) === null || _vr$extras2 === void 0 ? void 0 : _vr$extras2.selected[1]);\n        const isOutsideFreezeArea = ((_vr$extras3 = vr.extras) === null || _vr$extras3 === void 0 ? void 0 : _vr$extras3.freezeRegion) === undefined || vr.extras.freezeRegion.x > outerCol || outerCol > vr.extras.freezeRegion.x + vr.extras.freezeRegion.width || vr.extras.freezeRegion.y > row || row > vr.extras.freezeRegion.y + vr.extras.freezeRegion.height;\n\n        if (isOutsideMainArea && !isSelected && isOutsideFreezeArea) {\n          return {\n            kind: GridCellKind.Loading,\n            allowOverlay: false\n          };\n        }\n      }\n\n      let result = getCellContent([outerCol, row]);\n\n      if (rowMarkerOffset !== 0 && result.span !== undefined) {\n        result = { ...result,\n          span: [result.span[0] + rowMarkerOffset, result.span[1] + rowMarkerOffset]\n        };\n      }\n\n      return result;\n    }\n  }, [showTrailingBlankRow, mangledRows, hasRowMarkers, gridSelection === null || gridSelection === void 0 ? void 0 : gridSelection.rows, rowMarkers, rowMarkerOffset, trailingRowOptions === null || trailingRowOptions === void 0 ? void 0 : trailingRowOptions.hint, trailingRowOptions === null || trailingRowOptions === void 0 ? void 0 : trailingRowOptions.addIcon, mangledCols, (_p$experimental2 = p.experimental) === null || _p$experimental2 === void 0 ? void 0 : _p$experimental2.strict, getCellContent, rowMarkerStartIndex]);\n  const mangledGetGroupDetails = React.useCallback(group => {\n    var _getGroupDetails;\n\n    let result = (_getGroupDetails = getGroupDetails === null || getGroupDetails === void 0 ? void 0 : getGroupDetails(group)) !== null && _getGroupDetails !== void 0 ? _getGroupDetails : {\n      name: group\n    };\n\n    if (onGroupHeaderRenamed !== undefined && group !== \"\") {\n      var _result$actions;\n\n      result = {\n        icon: result.icon,\n        name: result.name,\n        overrideTheme: result.overrideTheme,\n        actions: [...((_result$actions = result.actions) !== null && _result$actions !== void 0 ? _result$actions : []), {\n          title: \"Rename\",\n          icon: \"renameIcon\",\n          onClick: e => setRenameGroup({\n            group: result.name,\n            bounds: e.bounds\n          })\n        }]\n      };\n    }\n\n    return result;\n  }, [getGroupDetails, onGroupHeaderRenamed]);\n  const setOverlaySimple = React.useCallback(val => {\n    const [col, row] = val.cell;\n    const column = mangledCols[col];\n    const groupTheme = (column === null || column === void 0 ? void 0 : column.group) !== undefined ? mangledGetGroupDetails(column.group) : undefined;\n    const colTheme = column === null || column === void 0 ? void 0 : column.themeOverride;\n    const rowTheme = getRowThemeOverride === null || getRowThemeOverride === void 0 ? void 0 : getRowThemeOverride(row);\n    setOverlay({ ...val,\n      theme: { ...mergedTheme,\n        ...groupTheme,\n        ...colTheme,\n        ...rowTheme,\n        ...val.content.themeOverride\n      }\n    });\n  }, [getRowThemeOverride, mangledCols, mangledGetGroupDetails, mergedTheme]);\n  const reselect = React.useCallback((bounds, fromKeyboard, initialValue) => {\n    if (gridSelection.current === undefined) return;\n    const [col, row] = gridSelection.current.cell;\n    const c = getMangledCellContent([col, row]);\n\n    if (c.kind !== GridCellKind.Boolean && c.allowOverlay) {\n      let content = c;\n\n      if (initialValue !== undefined) {\n        switch (content.kind) {\n          case GridCellKind.Number:\n            content = { ...content,\n              data: maybe(() => initialValue === \"-\" ? -0 : Number.parseFloat(initialValue), 0)\n            };\n            break;\n\n          case GridCellKind.Text:\n          case GridCellKind.Markdown:\n          case GridCellKind.Uri:\n            content = { ...content,\n              data: initialValue\n            };\n            break;\n        }\n      }\n\n      setOverlaySimple({\n        target: bounds,\n        content,\n        initialValue,\n        cell: [col, row],\n        highlight: initialValue === undefined,\n        forceEditMode: initialValue !== undefined\n      });\n    } else if (c.kind === GridCellKind.Boolean && fromKeyboard) {\n      var _gridRef$current3;\n\n      mangledOnCellEdited(gridSelection.current.cell, { ...c,\n        data: toggleBoolean(c.data)\n      });\n      (_gridRef$current3 = gridRef.current) === null || _gridRef$current3 === void 0 ? void 0 : _gridRef$current3.damage([{\n        cell: gridSelection.current.cell\n      }]);\n    }\n  }, [getMangledCellContent, gridSelection, mangledOnCellEdited, setOverlaySimple]);\n  const focusOnRowFromTrailingBlankRow = React.useCallback((col, row) => {\n    var _gridRef$current4;\n\n    const bounds = (_gridRef$current4 = gridRef.current) === null || _gridRef$current4 === void 0 ? void 0 : _gridRef$current4.getBounds(col, row);\n\n    if (bounds === undefined || scrollRef.current === null) {\n      return;\n    }\n\n    let content = getMangledCellContent([col, row]);\n\n    if (!content.allowOverlay) {\n      return;\n    }\n\n    switch (content.kind) {\n      case GridCellKind.Number:\n        content = { ...content,\n          data: undefined\n        };\n        break;\n\n      case GridCellKind.Text:\n      case GridCellKind.Markdown:\n      case GridCellKind.Uri:\n        content = { ...content,\n          data: \"\"\n        };\n        break;\n    }\n\n    setOverlaySimple({\n      target: bounds,\n      content,\n      initialValue: undefined,\n      highlight: true,\n      cell: [col, row],\n      forceEditMode: true\n    });\n  }, [getMangledCellContent, setOverlaySimple]);\n  const scrollTo = React.useCallback(function (col, row) {\n    let dir = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"both\";\n    let paddingX = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let paddingY = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n\n    if (scrollRef.current !== null) {\n      const grid = gridRef.current;\n      const canvas = canvasRef.current;\n\n      if (grid !== null && canvas !== null) {\n        const rawBounds = grid.getBounds(col + rowMarkerOffset, row);\n        const scrollBounds = canvas.getBoundingClientRect();\n\n        if (rawBounds !== undefined) {\n          const bounds = {\n            x: rawBounds.x - paddingX,\n            y: rawBounds.y - paddingY,\n            width: rawBounds.width + 2 * paddingX,\n            height: rawBounds.height + 2 * paddingY\n          };\n          let scrollX = 0;\n          let scrollY = 0;\n          let frozenWidth = 0;\n\n          for (let i = 0; i < freezeColumns; i++) {\n            frozenWidth += columns[i].width;\n          }\n\n          const sLeft = frozenWidth + scrollBounds.left + rowMarkerOffset * rowMarkerWidth;\n          const sRight = scrollBounds.right;\n          const sTop = scrollBounds.top + totalHeaderHeight;\n          let trailingRowHeight = 0;\n\n          if (lastRowSticky) {\n            trailingRowHeight = typeof rowHeight === \"number\" ? rowHeight : rowHeight(rows);\n          }\n\n          const sBottom = scrollBounds.bottom - trailingRowHeight;\n\n          if (sLeft > bounds.x) {\n            scrollX = bounds.x - sLeft;\n          } else if (sRight < bounds.x + bounds.width) {\n            scrollX = bounds.x + bounds.width - sRight;\n          }\n\n          if (sTop > bounds.y) {\n            scrollY = bounds.y - sTop;\n          } else if (sBottom < bounds.y + bounds.height) {\n            scrollY = bounds.y + bounds.height - sBottom;\n          }\n\n          if (dir === \"vertical\" || col < freezeColumns) {\n            scrollX = 0;\n          } else if (dir === \"horizontal\") {\n            scrollY = 0;\n          }\n\n          if (scrollX !== 0 || scrollY !== 0) {\n            scrollRef.current.scrollTo(scrollX + scrollRef.current.scrollLeft, scrollY + scrollRef.current.scrollTop);\n          }\n        }\n      }\n    }\n  }, [rowMarkerOffset, rowMarkerWidth, totalHeaderHeight, lastRowSticky, freezeColumns, columns, rowHeight, rows]);\n  const focusCallback = React.useRef(focusOnRowFromTrailingBlankRow);\n  const getCellContentRef = React.useRef(getCellContent);\n  const rowsRef = React.useRef(rows);\n  focusCallback.current = focusOnRowFromTrailingBlankRow;\n  getCellContentRef.current = getCellContent;\n  rowsRef.current = rows;\n  const appendRow = React.useCallback(async col => {\n    var _c$trailingRowOptions6;\n\n    const c = mangledCols[col];\n\n    if ((c === null || c === void 0 ? void 0 : (_c$trailingRowOptions6 = c.trailingRowOptions) === null || _c$trailingRowOptions6 === void 0 ? void 0 : _c$trailingRowOptions6.disabled) === true) {\n      return;\n    }\n\n    const appendResult = onRowAppended === null || onRowAppended === void 0 ? void 0 : onRowAppended();\n    let r = undefined;\n    let bottom = true;\n\n    if (appendResult !== undefined) {\n      r = await appendResult;\n      if (r === \"top\") bottom = false;\n      if (typeof r === \"number\") bottom = false;\n    }\n\n    let backoff = 0;\n\n    const doFocus = () => {\n      if (rowsRef.current <= rows) {\n        if (backoff < 500) {\n          window.setTimeout(doFocus, backoff);\n        }\n\n        backoff = 50 + backoff * 2;\n        return;\n      }\n\n      const row = typeof r === \"number\" ? r : bottom ? rows : 0;\n      scrollTo(col - rowMarkerOffset, row);\n      setCurrent({\n        cell: [col, row],\n        range: {\n          x: col,\n          y: row,\n          width: 1,\n          height: 1\n        }\n      }, false, false, \"edit\");\n      const cell = getCellContentRef.current([col - rowMarkerOffset, row]);\n\n      if (cell.allowOverlay && isReadWriteCell(cell) && cell.readonly !== true) {\n        window.setTimeout(() => {\n          focusCallback.current(col, row);\n        }, 0);\n      }\n    };\n\n    doFocus();\n  }, [mangledCols, onRowAppended, rowMarkerOffset, rows, scrollTo, setCurrent]);\n  const getCustomNewRowTargetColumn = React.useCallback(col => {\n    var _columns$col$trailing, _columns$col, _columns$col$trailing2;\n\n    const customTargetColumn = (_columns$col$trailing = (_columns$col = columns[col]) === null || _columns$col === void 0 ? void 0 : (_columns$col$trailing2 = _columns$col.trailingRowOptions) === null || _columns$col$trailing2 === void 0 ? void 0 : _columns$col$trailing2.targetColumn) !== null && _columns$col$trailing !== void 0 ? _columns$col$trailing : trailingRowOptions === null || trailingRowOptions === void 0 ? void 0 : trailingRowOptions.targetColumn;\n\n    if (typeof customTargetColumn === \"number\") {\n      const customTargetOffset = hasRowMarkers ? 1 : 0;\n      return customTargetColumn + customTargetOffset;\n    }\n\n    if (typeof customTargetColumn === \"object\") {\n      const maybeIndex = columnsIn.indexOf(customTargetColumn);\n\n      if (maybeIndex >= 0) {\n        const customTargetOffset = hasRowMarkers ? 1 : 0;\n        return maybeIndex + customTargetOffset;\n      }\n    }\n\n    return undefined;\n  }, [columns, columnsIn, hasRowMarkers, trailingRowOptions === null || trailingRowOptions === void 0 ? void 0 : trailingRowOptions.targetColumn]);\n  const lastSelectedRowRef = React.useRef();\n  const lastSelectedColRef = React.useRef();\n  const handleSelect = React.useCallback(args => {\n    var _gridSelection$curren, _gridSelection$curren2;\n\n    const isMultiKey = browserIsOSX.value ? args.metaKey : args.ctrlKey;\n    const isMultiRow = isMultiKey && rowSelect === \"multi\";\n    const isMultiCol = isMultiKey && columnSelect === \"multi\";\n    const [col, row] = args.location;\n    const selectedColumns = gridSelection.columns;\n    const selectedRows = gridSelection.rows;\n    const [cellCol, cellRow] = (_gridSelection$curren = (_gridSelection$curren2 = gridSelection.current) === null || _gridSelection$curren2 === void 0 ? void 0 : _gridSelection$curren2.cell) !== null && _gridSelection$curren !== void 0 ? _gridSelection$curren : [];\n\n    if (args.kind === \"cell\") {\n      lastSelectedColRef.current = undefined;\n      lastMouseDownCellLocation.current = [col, row];\n\n      if (col === 0 && hasRowMarkers) {\n        if (showTrailingBlankRow === true && row === rows || rowMarkers === \"number\" || rowSelect === \"none\") return;\n        setOverlay(undefined);\n        focus();\n        const isSelected = selectedRows.hasIndex(row);\n        const lastHighlighted = lastSelectedRowRef.current;\n\n        if (rowSelect === \"multi\" && (args.shiftKey || args.isLongTouch === true) && lastHighlighted !== undefined && selectedRows.hasIndex(lastHighlighted)) {\n          const newSlice = [Math.min(lastHighlighted, row), Math.max(lastHighlighted, row) + 1];\n\n          if (isMultiRow || rowSelectionMode === \"multi\") {\n            setSelectedRows(undefined, newSlice, true);\n          } else {\n            setSelectedRows(CompactSelection.fromSingleSelection(newSlice), undefined, isMultiRow);\n          }\n        } else if (isMultiRow || args.isTouch || rowSelectionMode === \"multi\") {\n          if (isSelected) {\n            setSelectedRows(selectedRows.remove(row), undefined, true);\n          } else {\n            setSelectedRows(undefined, row, true);\n            lastSelectedRowRef.current = row;\n          }\n        } else if (isSelected && selectedRows.length === 1) {\n          setSelectedRows(CompactSelection.empty(), undefined, isMultiKey);\n        } else {\n          setSelectedRows(CompactSelection.fromSingleSelection(row), undefined, isMultiKey);\n          lastSelectedRowRef.current = row;\n        }\n      } else if (col >= rowMarkerOffset && showTrailingBlankRow && row === rows) {\n        const customTargetColumn = getCustomNewRowTargetColumn(col);\n        void appendRow(customTargetColumn !== null && customTargetColumn !== void 0 ? customTargetColumn : col);\n      } else {\n        if (cellCol !== col || cellRow !== row) {\n          var _gridSelection$curren3;\n\n          const isLastStickyRow = lastRowSticky && row === rows;\n          const startedFromLastSticky = lastRowSticky && gridSelection !== undefined && ((_gridSelection$curren3 = gridSelection.current) === null || _gridSelection$curren3 === void 0 ? void 0 : _gridSelection$curren3.cell[1]) === rows;\n\n          if ((args.shiftKey || args.isLongTouch === true) && cellCol !== undefined && cellRow !== undefined && gridSelection.current !== undefined && !startedFromLastSticky) {\n            if (isLastStickyRow) {\n              return;\n            }\n\n            const left = Math.min(col, cellCol);\n            const right = Math.max(col, cellCol);\n            const top = Math.min(row, cellRow);\n            const bottom = Math.max(row, cellRow);\n            setCurrent({ ...gridSelection.current,\n              range: {\n                x: left,\n                y: top,\n                width: right - left + 1,\n                height: bottom - top + 1\n              }\n            }, true, isMultiKey, \"click\");\n            lastSelectedRowRef.current = undefined;\n            focus();\n          } else {\n            setCurrent({\n              cell: [col, row],\n              range: {\n                x: col,\n                y: row,\n                width: 1,\n                height: 1\n              }\n            }, true, isMultiKey, \"click\");\n            lastSelectedRowRef.current = undefined;\n            setOverlay(undefined);\n            focus();\n          }\n        }\n      }\n    } else if (args.kind === \"header\") {\n      lastMouseDownCellLocation.current = [col, row];\n      setOverlay(undefined);\n\n      if (hasRowMarkers && col === 0) {\n        lastSelectedRowRef.current = undefined;\n        lastSelectedColRef.current = undefined;\n\n        if (rowSelect === \"multi\") {\n          if (selectedRows.length !== rows) {\n            setSelectedRows(CompactSelection.fromSingleSelection([0, rows]), undefined, isMultiKey);\n          } else {\n            setSelectedRows(CompactSelection.empty(), undefined, isMultiKey);\n          }\n\n          focus();\n        }\n      } else {\n        const lastCol = lastSelectedColRef.current;\n\n        if (columnSelect === \"multi\" && (args.shiftKey || args.isLongTouch === true) && lastCol !== undefined && selectedColumns.hasIndex(lastCol)) {\n          const newSlice = [Math.min(lastCol, col), Math.max(lastCol, col) + 1];\n\n          if (isMultiCol) {\n            setSelectedColumns(undefined, newSlice, isMultiKey);\n          } else {\n            setSelectedColumns(CompactSelection.fromSingleSelection(newSlice), undefined, isMultiKey);\n          }\n        } else if (isMultiCol) {\n          if (selectedColumns.hasIndex(col)) {\n            setSelectedColumns(selectedColumns.remove(col), undefined, isMultiKey);\n          } else {\n            setSelectedColumns(undefined, col, isMultiKey);\n          }\n\n          lastSelectedColRef.current = col;\n        } else if (columnSelect !== \"none\") {\n          setSelectedColumns(CompactSelection.fromSingleSelection(col), undefined, isMultiKey);\n          lastSelectedColRef.current = col;\n        }\n\n        lastSelectedRowRef.current = undefined;\n        focus();\n      }\n    } else if (args.kind === \"group-header\") {\n      lastMouseDownCellLocation.current = [col, row];\n    } else if (args.kind === \"out-of-bounds\") {\n      setGridSelection(emptyGridSelection, false);\n      setOverlay(undefined);\n      focus();\n      onSelectionCleared === null || onSelectionCleared === void 0 ? void 0 : onSelectionCleared();\n      lastSelectedRowRef.current = undefined;\n      lastSelectedColRef.current = undefined;\n    }\n  }, [appendRow, columnSelect, focus, getCustomNewRowTargetColumn, gridSelection, hasRowMarkers, lastRowSticky, onSelectionCleared, rowMarkerOffset, rowMarkers, rowSelect, rowSelectionMode, rows, setCurrent, setGridSelection, setSelectedColumns, setSelectedRows, showTrailingBlankRow]);\n  const lastMouseDownCellLocation = React.useRef();\n  const touchDownArgs = React.useRef(visibleRegion);\n  const onMouseDown = React.useCallback(args => {\n    isPrevented.current = false;\n    touchDownArgs.current = visibleRegionRef.current;\n\n    if (args.button !== 0) {\n      return;\n    }\n\n    setMouseState({\n      previousSelection: gridSelection,\n      fillHandle: args.kind === \"cell\" && args.isFillHandle\n    });\n    lastMouseDownCellLocation.current = undefined;\n\n    if (!args.isTouch) {\n      handleSelect(args);\n    }\n  }, [gridSelection, handleSelect]);\n  const [renameGroup, setRenameGroup] = React.useState();\n  const handleGroupHeaderSelection = React.useCallback(args => {\n    if (args.kind !== \"group-header\" || columnSelect !== \"multi\") {\n      return;\n    }\n\n    const isMultiKey = browserIsOSX.value ? args.metaKey : args.ctrlKey;\n    const [col] = args.location;\n    const selectedColumns = gridSelection.columns;\n    if (col < rowMarkerOffset) return;\n    const needle = mangledCols[col];\n    let start = col;\n    let end = col;\n\n    for (let i = col - 1; i >= rowMarkerOffset; i--) {\n      if (!isGroupEqual(needle.group, mangledCols[i].group)) break;\n      start--;\n    }\n\n    for (let i = col + 1; i < mangledCols.length; i++) {\n      if (!isGroupEqual(needle.group, mangledCols[i].group)) break;\n      end++;\n    }\n\n    focus();\n\n    if (isMultiKey) {\n      if (selectedColumns.hasAll([start, end + 1])) {\n        let newVal = selectedColumns;\n\n        for (let index = start; index <= end; index++) {\n          newVal = newVal.remove(index);\n        }\n\n        setSelectedColumns(newVal, undefined, isMultiKey);\n      } else {\n        setSelectedColumns(undefined, [start, end + 1], isMultiKey);\n      }\n    } else {\n      setSelectedColumns(CompactSelection.fromSingleSelection([start, end + 1]), undefined, isMultiKey);\n    }\n  }, [columnSelect, focus, gridSelection.columns, mangledCols, rowMarkerOffset, setSelectedColumns]);\n  const fillDown = React.useCallback(reverse => {\n    var _gridRef$current5;\n\n    if (gridSelection.current === undefined) return;\n    const damage = [];\n    const r = gridSelection.current.range;\n\n    for (let x = 0; x < r.width; x++) {\n      const fillCol = x + r.x;\n      const fillVal = getMangledCellContent([fillCol, reverse ? r.y + r.height - 1 : r.y]);\n      if (isInnerOnlyCell(fillVal) || !isEditableGridCell(fillVal)) continue;\n\n      for (let y = 1; y < r.height; y++) {\n        const fillRow = reverse ? r.y + r.height - (y + 1) : y + r.y;\n        const target = [fillCol, fillRow];\n        damage.push(target);\n        mangledOnCellEdited === null || mangledOnCellEdited === void 0 ? void 0 : mangledOnCellEdited(target, { ...fillVal\n        });\n      }\n    }\n\n    (_gridRef$current5 = gridRef.current) === null || _gridRef$current5 === void 0 ? void 0 : _gridRef$current5.damage(damage.map(c => ({\n      cell: c\n    })));\n  }, [getMangledCellContent, gridSelection, mangledOnCellEdited]);\n  const isPrevented = React.useRef(false);\n  const onContextMenu = React.useCallback(e => {\n    if (isPrevented.current) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }, []);\n  const onMouseUp = React.useCallback((args, isOutside) => {\n    var _lastMouseDownCellLoc;\n\n    const mouse = mouseState;\n    setMouseState(undefined);\n\n    if (scrollTimer.current !== undefined) {\n      window.clearInterval(scrollTimer.current);\n    }\n\n    if (isOutside) return;\n    const [col, row] = args.location;\n    const [lastMouseDownCol, lastMouseDownRow] = (_lastMouseDownCellLoc = lastMouseDownCellLocation.current) !== null && _lastMouseDownCellLoc !== void 0 ? _lastMouseDownCellLoc : [];\n\n    const preventDefault = () => {\n      isPrevented.current = true;\n    };\n\n    const handleMaybeClick = a => {\n      if (lastMouseDownCol === col && lastMouseDownRow === row) {\n        onCellClicked === null || onCellClicked === void 0 ? void 0 : onCellClicked([col - rowMarkerOffset, row], { ...a,\n          preventDefault\n        });\n      }\n\n      if (gridSelection.current !== undefined) {\n        var _mouse$previousSelect, _mouse$previousSelect2;\n\n        if ((mouse === null || mouse === void 0 ? void 0 : mouse.fillHandle) === true) {\n          fillDown(gridSelection.current.cell[1] !== gridSelection.current.range.y);\n        } else if (gridSelection.current !== undefined && (mouse === null || mouse === void 0 ? void 0 : (_mouse$previousSelect = mouse.previousSelection) === null || _mouse$previousSelect === void 0 ? void 0 : (_mouse$previousSelect2 = _mouse$previousSelect.current) === null || _mouse$previousSelect2 === void 0 ? void 0 : _mouse$previousSelect2.cell) !== undefined && !isPrevented.current) {\n          const [selectedCol, selectedRow] = gridSelection.current.cell;\n          const [prevCol, prevRow] = mouse.previousSelection.current.cell;\n          const c = getMangledCellContent([col, row]);\n          const r = c.kind === GridCellKind.Custom ? undefined : CellRenderers[c.kind];\n\n          if (r !== undefined && r.onClick !== undefined) {\n            const newVal = r.onClick(c, a.localEventX, a.localEventY, a.bounds);\n\n            if (newVal !== undefined && !isInnerOnlyCell(newVal) && isEditableGridCell(newVal)) {\n              var _gridRef$current6;\n\n              mangledOnCellEdited(a.location, newVal);\n              (_gridRef$current6 = gridRef.current) === null || _gridRef$current6 === void 0 ? void 0 : _gridRef$current6.damage([{\n                cell: a.location\n              }]);\n            }\n          }\n\n          if (col === selectedCol && col === prevCol && row === selectedRow && row === prevRow) {\n            onCellActivated === null || onCellActivated === void 0 ? void 0 : onCellActivated([col - rowMarkerOffset, row]);\n            reselect(a.bounds, false);\n            return true;\n          }\n        }\n      }\n\n      return false;\n    };\n\n    if (args.isTouch) {\n      const vr = visibleRegionRef.current;\n      const touchVr = touchDownArgs.current;\n\n      if (vr.x !== touchVr.x || vr.y !== touchVr.y) {\n        return;\n      }\n\n      if (args.isLongTouch === true) {\n        var _gridSelection$curren4, _gridSelection$curren5;\n\n        const clickLocation = args.location[0] - rowMarkerOffset;\n\n        if (args.kind === \"cell\" && (gridSelection === null || gridSelection === void 0 ? void 0 : (_gridSelection$curren4 = gridSelection.current) === null || _gridSelection$curren4 === void 0 ? void 0 : _gridSelection$curren4.cell[0]) === col && (gridSelection === null || gridSelection === void 0 ? void 0 : (_gridSelection$curren5 = gridSelection.current) === null || _gridSelection$curren5 === void 0 ? void 0 : _gridSelection$curren5.cell[1]) === row) {\n          onCellContextMenu === null || onCellContextMenu === void 0 ? void 0 : onCellContextMenu([clickLocation, args.location[1]], { ...args,\n            preventDefault\n          });\n          return;\n        } else if (args.kind === \"header\" && gridSelection.columns.hasIndex(col)) {\n          onHeaderContextMenu === null || onHeaderContextMenu === void 0 ? void 0 : onHeaderContextMenu(clickLocation, { ...args,\n            preventDefault\n          });\n          return;\n        } else if (args.kind === \"group-header\") {\n          if (clickLocation < 0) {\n            return;\n          }\n\n          onGroupHeaderContextMenu === null || onGroupHeaderContextMenu === void 0 ? void 0 : onGroupHeaderContextMenu(clickLocation, { ...args,\n            preventDefault\n          });\n          return;\n        }\n      }\n\n      if (args.kind === \"cell\") {\n        if (!handleMaybeClick(args)) {\n          handleSelect(args);\n        }\n      } else {\n        handleSelect(args);\n      }\n\n      return;\n    }\n\n    if (args.kind === \"header\") {\n      const clickLocation = args.location[0] - rowMarkerOffset;\n\n      if (clickLocation < 0) {\n        return;\n      }\n\n      if (args.button === 0 && col === lastMouseDownCol && row === lastMouseDownRow) {\n        onHeaderClicked === null || onHeaderClicked === void 0 ? void 0 : onHeaderClicked(clickLocation, { ...args,\n          preventDefault\n        });\n      } else if (args.button === 2) {\n        onHeaderContextMenu === null || onHeaderContextMenu === void 0 ? void 0 : onHeaderContextMenu(clickLocation, { ...args,\n          preventDefault\n        });\n      }\n    }\n\n    if (args.kind === \"group-header\") {\n      const clickLocation = args.location[0] - rowMarkerOffset;\n\n      if (clickLocation < 0) {\n        return;\n      }\n\n      if (args.button === 0 && col === lastMouseDownCol && row === lastMouseDownRow) {\n        onGroupHeaderClicked === null || onGroupHeaderClicked === void 0 ? void 0 : onGroupHeaderClicked(clickLocation, { ...args,\n          preventDefault\n        });\n\n        if (!isPrevented.current) {\n          handleGroupHeaderSelection(args);\n        }\n      } else if (args.button === 2) {\n        onGroupHeaderContextMenu === null || onGroupHeaderContextMenu === void 0 ? void 0 : onGroupHeaderContextMenu(clickLocation, { ...args,\n          preventDefault\n        });\n      }\n    }\n\n    if (args.kind === \"cell\") {\n      if (args.button === 0) {\n        handleMaybeClick(args);\n      } else if (args.button === 2) {\n        onCellContextMenu === null || onCellContextMenu === void 0 ? void 0 : onCellContextMenu([args.location[0] - rowMarkerOffset, args.location[1]], { ...args,\n          preventDefault\n        });\n      }\n    }\n\n    lastMouseDownCellLocation.current = undefined;\n  }, [mouseState, gridSelection, onCellClicked, rowMarkerOffset, fillDown, getMangledCellContent, mangledOnCellEdited, onCellActivated, reselect, onCellContextMenu, onHeaderContextMenu, onGroupHeaderContextMenu, handleSelect, onHeaderClicked, onGroupHeaderClicked, handleGroupHeaderSelection]);\n  const onHeaderMenuClickInner = React.useCallback((col, screenPosition) => {\n    onHeaderMenuClick === null || onHeaderMenuClick === void 0 ? void 0 : onHeaderMenuClick(col - rowMarkerOffset, screenPosition);\n  }, [onHeaderMenuClick, rowMarkerOffset]);\n  const currentCell = gridSelection === null || gridSelection === void 0 ? void 0 : (_gridSelection$curren6 = gridSelection.current) === null || _gridSelection$curren6 === void 0 ? void 0 : _gridSelection$curren6.cell;\n  const onVisibleRegionChangedImpl = React.useCallback((region, tx, ty) => {\n    let selected = currentCell;\n\n    if (selected !== undefined) {\n      selected = [selected[0] - rowMarkerOffset, selected[1]];\n    }\n\n    const newRegion = { ...region,\n      x: region.x - rowMarkerOffset,\n      height: showTrailingBlankRow && region.y + region.height >= rows ? region.height - 1 : region.height,\n      tx,\n      ty,\n      extras: {\n        selected,\n        freezeRegion: freezeColumns === 0 ? undefined : {\n          x: 0,\n          y: region.y,\n          width: freezeColumns,\n          height: region.height\n        }\n      }\n    };\n    setVisibleRegion(newRegion);\n    visibleRegionRef.current = newRegion;\n    onVisibleRegionChanged === null || onVisibleRegionChanged === void 0 ? void 0 : onVisibleRegionChanged(newRegion, newRegion.tx, newRegion.ty, newRegion.extras);\n  }, [freezeColumns, currentCell, onVisibleRegionChanged, rowMarkerOffset, rows, showTrailingBlankRow]);\n  const onColumnMovedImpl = React.useCallback((startIndex, endIndex) => {\n    onColumnMoved === null || onColumnMoved === void 0 ? void 0 : onColumnMoved(startIndex - rowMarkerOffset, endIndex - rowMarkerOffset);\n\n    if (columnSelect !== \"none\") {\n      setSelectedColumns(CompactSelection.fromSingleSelection(endIndex), undefined, true);\n    }\n  }, [columnSelect, onColumnMoved, rowMarkerOffset, setSelectedColumns]);\n  const onDragStartImpl = React.useCallback(args => {\n    onDragStart === null || onDragStart === void 0 ? void 0 : onDragStart({ ...args,\n      location: [args.location[0] - rowMarkerOffset, args.location[1]]\n    });\n  }, [onDragStart, rowMarkerOffset]);\n  const onMouseMoveImpl = React.useCallback(args => {\n    const a = { ...args,\n      location: [args.location[0] - rowMarkerOffset, args.location[1]]\n    };\n    onMouseMove === null || onMouseMove === void 0 ? void 0 : onMouseMove(a);\n  }, [onMouseMove, rowMarkerOffset]);\n  const onItemHoveredImpl = React.useCallback(args => {\n    if (mouseState !== undefined && gridSelection.current !== undefined && !isDraggable && (rangeSelect === \"rect\" || rangeSelect === \"multi-rect\")) {\n      const [selectedCol, selectedRow] = gridSelection.current.cell;\n      let [col, row] = args.location;\n      const landedOnLastStickyRow = lastRowSticky && row === rows;\n      const startedFromLastStickyRow = lastRowSticky && selectedRow === rows;\n      if (landedOnLastStickyRow || startedFromLastStickyRow) return;\n\n      if (col === 0 && hasRowMarkers) {\n        col = 1;\n      }\n\n      const deltaX = col - selectedCol;\n      const deltaY = (row !== null && row !== void 0 ? row : 0) - selectedRow;\n      const newRange = {\n        x: deltaX >= 0 ? selectedCol : col,\n        y: deltaY >= 0 ? selectedRow : row !== null && row !== void 0 ? row : 0,\n        width: Math.abs(deltaX) + 1,\n        height: Math.abs(deltaY) + 1\n      };\n      setCurrent({ ...gridSelection.current,\n        range: newRange\n      }, true, false, \"drag\");\n\n      if (args.kind === \"out-of-bounds\" && scrollRef.current !== null) {\n        const [horizontal, vertical] = args.direction;\n        let scrollX = 0;\n        let scrollY = 0;\n\n        if (horizontal === -1) {\n          scrollX = columns[columns.length - 1].width;\n        } else if (horizontal === 1) {\n          scrollX = -columns[0].width;\n        }\n\n        if (vertical !== 0) {\n          if (typeof rowHeight === \"number\") {\n            scrollY = rowHeight * vertical;\n          } else {\n            scrollY = rowHeight(row !== null && row !== void 0 ? row : 0) * vertical;\n          }\n        }\n\n        if (scrollTimer.current !== undefined) {\n          window.clearInterval(scrollTimer.current);\n        }\n\n        scrollTimer.current = window.setInterval(() => {\n          var _scrollRef$current;\n\n          (_scrollRef$current = scrollRef.current) === null || _scrollRef$current === void 0 ? void 0 : _scrollRef$current.scrollBy(-100 * horizontal, scrollY);\n        }, 200);\n        scrollRef.current.scrollBy(scrollX, scrollY);\n      } else {\n        if (scrollTimer.current !== undefined) {\n          window.clearInterval(scrollTimer.current);\n        }\n      }\n    }\n\n    onItemHovered === null || onItemHovered === void 0 ? void 0 : onItemHovered({ ...args,\n      location: [args.location[0] - rowMarkerOffset, args.location[1]]\n    });\n  }, [mouseState, gridSelection, isDraggable, rangeSelect, onItemHovered, rowMarkerOffset, lastRowSticky, rows, hasRowMarkers, setCurrent, columns, rowHeight]);\n  const adjustSelection = React.useCallback(direction => {\n    if (gridSelection.current === undefined) return;\n    const [x, y] = direction;\n    const [col, row] = gridSelection.current.cell;\n    const old = gridSelection.current.range;\n    let left = old.x;\n    let right = old.x + old.width;\n    let top = old.y;\n    let bottom = old.y + old.height;\n\n    if (y !== 0) {\n      if (y === 2) {\n        bottom = rows;\n        top = row;\n        scrollTo(0, bottom, \"vertical\");\n      } else if (y === -2) {\n        top = 0;\n        bottom = row + 1;\n        scrollTo(0, top, \"vertical\");\n      } else if (y === 1) {\n        if (top < row) {\n          top++;\n          scrollTo(0, top, \"vertical\");\n        } else {\n          bottom = Math.min(rows, bottom + 1);\n          scrollTo(0, bottom, \"vertical\");\n        }\n      } else if (y === -1) {\n        if (bottom > row + 1) {\n          bottom--;\n          scrollTo(0, bottom, \"vertical\");\n        } else {\n          top = Math.max(0, top - 1);\n          scrollTo(0, top, \"vertical\");\n        }\n      } else {\n        assertNever(y);\n      }\n    }\n\n    if (x !== 0) {\n      if (x === 2) {\n        right = mangledCols.length;\n        left = col;\n        scrollTo(right - 1 - rowMarkerOffset, 0, \"horizontal\");\n      } else if (x === -2) {\n        left = rowMarkerOffset;\n        right = col + 1;\n        scrollTo(left - rowMarkerOffset, 0, \"horizontal\");\n      } else {\n        let disallowed = [];\n\n        if (getCellsForSelection !== undefined) {\n          const cells = getCellsForSelection({\n            x: left,\n            y: top,\n            width: right - left - rowMarkerOffset,\n            height: bottom - top\n          }, abortControllerRef.current.signal);\n\n          if (typeof cells === \"object\") {\n            disallowed = getSpanStops(cells);\n          }\n        }\n\n        if (x === 1) {\n          let done = false;\n\n          if (left < col) {\n            if (disallowed.length > 0) {\n              const target = range(left + 1, col + 1).find(n => !disallowed.includes(n - rowMarkerOffset));\n\n              if (target !== undefined) {\n                left = target;\n                done = true;\n              }\n            } else {\n              left++;\n              done = true;\n            }\n\n            if (done) scrollTo(left, 0, \"horizontal\");\n          }\n\n          if (!done) {\n            right = Math.min(mangledCols.length, right + 1);\n            scrollTo(right - 1 - rowMarkerOffset, 0, \"horizontal\");\n          }\n        } else if (x === -1) {\n          let done = false;\n\n          if (right > col + 1) {\n            if (disallowed.length > 0) {\n              const target = range(right - 1, col, -1).find(n => !disallowed.includes(n - rowMarkerOffset));\n\n              if (target !== undefined) {\n                right = target;\n                done = true;\n              }\n            } else {\n              right--;\n              done = true;\n            }\n\n            if (done) scrollTo(right - rowMarkerOffset, 0, \"horizontal\");\n          }\n\n          if (!done) {\n            left = Math.max(rowMarkerOffset, left - 1);\n            scrollTo(left - rowMarkerOffset, 0, \"horizontal\");\n          }\n        } else {\n          assertNever(x);\n        }\n      }\n    }\n\n    setCurrent({\n      cell: gridSelection.current.cell,\n      range: {\n        x: left,\n        y: top,\n        width: right - left,\n        height: bottom - top\n      }\n    }, true, false, \"keyboard-select\");\n  }, [getCellsForSelection, gridSelection, mangledCols.length, rowMarkerOffset, rows, scrollTo, setCurrent]);\n  const updateSelectedCell = React.useCallback((col, row, fromEditingTrailingRow, freeMove) => {\n    const rowMax = mangledRows - (fromEditingTrailingRow ? 0 : 1);\n    col = clamp(col, rowMarkerOffset, columns.length - 1 + rowMarkerOffset);\n    row = clamp(row, 0, rowMax);\n    if (col === (currentCell === null || currentCell === void 0 ? void 0 : currentCell[0]) && row === (currentCell === null || currentCell === void 0 ? void 0 : currentCell[1])) return false;\n\n    if (freeMove && gridSelection.current !== undefined) {\n      const newStack = [...gridSelection.current.rangeStack];\n\n      if (gridSelection.current.range.width > 1 || gridSelection.current.range.height > 1) {\n        newStack.push(gridSelection.current.range);\n      }\n\n      setGridSelection({ ...gridSelection,\n        current: {\n          cell: [col, row],\n          range: {\n            x: col,\n            y: row,\n            width: 1,\n            height: 1\n          },\n          rangeStack: newStack\n        }\n      }, true);\n    } else {\n      setCurrent({\n        cell: [col, row],\n        range: {\n          x: col,\n          y: row,\n          width: 1,\n          height: 1\n        }\n      }, true, false, \"keyboard-nav\");\n    }\n\n    if (lastSent.current !== undefined && lastSent.current[0] === col && lastSent.current[1] === row) {\n      lastSent.current = undefined;\n    }\n\n    scrollTo(col - rowMarkerOffset, row);\n    return true;\n  }, [mangledRows, rowMarkerOffset, columns.length, currentCell, gridSelection, scrollTo, setGridSelection, setCurrent]);\n  const onFinishEditing = React.useCallback((newValue, movement) => {\n    if ((overlay === null || overlay === void 0 ? void 0 : overlay.cell) !== undefined && newValue !== undefined && isEditableGridCell(newValue)) {\n      mangledOnCellEdited === null || mangledOnCellEdited === void 0 ? void 0 : mangledOnCellEdited(overlay.cell, newValue);\n      window.requestAnimationFrame(() => {\n        var _gridRef$current7;\n\n        (_gridRef$current7 = gridRef.current) === null || _gridRef$current7 === void 0 ? void 0 : _gridRef$current7.damage([{\n          cell: overlay.cell\n        }]);\n      });\n    }\n\n    focus(true);\n    setOverlay(undefined);\n    const [movX, movY] = movement;\n\n    if (gridSelection.current !== undefined && (movX !== 0 || movY !== 0)) {\n      const isEditingTrailingRow = gridSelection.current.cell[1] === mangledRows - 1 && newValue !== undefined;\n      updateSelectedCell(clamp(gridSelection.current.cell[0] + movX, 0, mangledCols.length - 1), clamp(gridSelection.current.cell[1] + movY, 0, mangledRows - 1), isEditingTrailingRow, false);\n    }\n\n    onFinishedEditing === null || onFinishedEditing === void 0 ? void 0 : onFinishedEditing(newValue, movement);\n  }, [overlay === null || overlay === void 0 ? void 0 : overlay.cell, focus, gridSelection, onFinishedEditing, mangledOnCellEdited, mangledRows, updateSelectedCell, mangledCols.length]);\n  const overlayID = React.useMemo(() => {\n    return `gdg-overlay-${idCounter++}`;\n  }, []);\n  const onKeyDown = React.useCallback(event => {\n    const fn = async () => {\n      const overlayOpen = overlay !== undefined;\n      const {\n        altKey,\n        shiftKey\n      } = event;\n      const isOSX = browserIsOSX.value;\n      const isPrimaryKey = isOSX ? event.metaKey : event.ctrlKey;\n      const isDeleteKey = event.key === \"Delete\" || isOSX && event.key === \"Backspace\";\n      const vr = visibleRegionRef.current;\n      const selectedColumns = gridSelection.columns;\n      const selectedRows = gridSelection.rows;\n\n      if (event.key === \"Escape\") {\n        if (overlayOpen) {\n          setOverlay(undefined);\n        } else if (keybindings.clear) {\n          setGridSelection(emptyGridSelection, false);\n          onSelectionCleared === null || onSelectionCleared === void 0 ? void 0 : onSelectionCleared();\n        }\n\n        return;\n      } else if (isHotkey(\"primary+a\", event) && keybindings.selectAll) {\n        if (!overlayOpen) {\n          var _gridSelection$curren7, _gridSelection$curren8;\n\n          setGridSelection({\n            columns: CompactSelection.empty(),\n            rows: CompactSelection.empty(),\n            current: {\n              cell: (_gridSelection$curren7 = (_gridSelection$curren8 = gridSelection.current) === null || _gridSelection$curren8 === void 0 ? void 0 : _gridSelection$curren8.cell) !== null && _gridSelection$curren7 !== void 0 ? _gridSelection$curren7 : [rowMarkerOffset, 0],\n              range: {\n                x: rowMarkerOffset,\n                y: 0,\n                width: columnsIn.length,\n                height: rows\n              },\n              rangeStack: []\n            }\n          }, false);\n        } else {\n          const el = document.getElementById(overlayID);\n\n          if (el !== null) {\n            const s = window.getSelection();\n            const r = document.createRange();\n            r.selectNodeContents(el);\n            s === null || s === void 0 ? void 0 : s.removeAllRanges();\n            s === null || s === void 0 ? void 0 : s.addRange(r);\n          }\n        }\n\n        event.cancel();\n        return;\n      } else if (isHotkey(\"primary+f\", event) && keybindings.search) {\n        event.cancel();\n        setShowSearchInner(true);\n      }\n\n      function deleteRange(r) {\n        var _gridRef$current8;\n\n        focus();\n        const damaged = [];\n\n        for (let x = r.x; x < r.x + r.width; x++) {\n          for (let y = r.y; y < r.y + r.height; y++) {\n            const cellValue = getCellContent([x - rowMarkerOffset, y]);\n            let newVal = undefined;\n\n            if (cellValue.kind === GridCellKind.Custom) {\n              const editor = provideEditor === null || provideEditor === void 0 ? void 0 : provideEditor(cellValue);\n\n              if (isObjectEditorCallbackResult(editor)) {\n                var _editor$deletedValue;\n\n                newVal = editor === null || editor === void 0 ? void 0 : (_editor$deletedValue = editor.deletedValue) === null || _editor$deletedValue === void 0 ? void 0 : _editor$deletedValue.call(editor, cellValue);\n              }\n            } else if (isEditableGridCell(cellValue) && cellValue.allowOverlay || cellValue.kind === GridCellKind.Boolean) {\n              var _toDelete$onDelete;\n\n              const toDelete = CellRenderers[cellValue.kind];\n              newVal = (_toDelete$onDelete = toDelete.onDelete) === null || _toDelete$onDelete === void 0 ? void 0 : _toDelete$onDelete.call(toDelete, cellValue);\n            }\n\n            if (newVal !== undefined && !isInnerOnlyCell(newVal) && isEditableGridCell(newVal)) {\n              mangledOnCellEdited([x, y], newVal);\n              damaged.push([x, y]);\n            }\n          }\n        }\n\n        (_gridRef$current8 = gridRef.current) === null || _gridRef$current8 === void 0 ? void 0 : _gridRef$current8.damage(damaged.map(x => ({\n          cell: x\n        })));\n      }\n\n      if (isDeleteKey) {\n        var _onDelete;\n\n        const callbackResult = (_onDelete = onDelete === null || onDelete === void 0 ? void 0 : onDelete(gridSelection)) !== null && _onDelete !== void 0 ? _onDelete : true;\n        event.cancel();\n\n        if (callbackResult !== false) {\n          const toDelete = callbackResult === true ? gridSelection : callbackResult;\n\n          if (toDelete.current !== undefined) {\n            deleteRange(toDelete.current.range);\n\n            for (const r of toDelete.current.rangeStack) {\n              deleteRange(r);\n            }\n          }\n\n          for (const r of toDelete.rows) {\n            deleteRange({\n              x: rowMarkerOffset,\n              y: r,\n              width: mangledCols.length - rowMarkerOffset,\n              height: 1\n            });\n          }\n\n          for (const col of toDelete.columns) {\n            deleteRange({\n              x: col,\n              y: 0,\n              width: 1,\n              height: rows\n            });\n          }\n        }\n\n        return;\n      }\n\n      if (gridSelection.current === undefined) return;\n      let [col, row] = gridSelection.current.cell;\n      let freeMove = false;\n\n      if (keybindings.selectColumn && isHotkey(\"ctrl+ \", event) && columnSelect !== \"none\") {\n        if (selectedColumns.hasIndex(col)) {\n          setSelectedColumns(selectedColumns.remove(col), undefined, true);\n        } else {\n          if (columnSelect === \"single\") {\n            setSelectedColumns(CompactSelection.fromSingleSelection(col), undefined, true);\n          } else {\n            setSelectedColumns(undefined, col, true);\n          }\n        }\n      } else if (keybindings.selectRow && isHotkey(\"shift+ \", event) && rowSelect !== \"none\") {\n        if (selectedRows.hasIndex(row)) {\n          setSelectedRows(selectedRows.remove(row), undefined, true);\n        } else {\n          if (rowSelect === \"single\") {\n            setSelectedRows(CompactSelection.fromSingleSelection(row), undefined, true);\n          } else {\n            setSelectedRows(undefined, row, true);\n          }\n        }\n      } else if ((isHotkey(\"Enter\", event) || isHotkey(\" \", event) || isHotkey(\"shift+Enter\", event)) && event.bounds !== undefined) {\n        if (overlayOpen) {\n          setOverlay(undefined);\n\n          if (isHotkey(\"Enter\", event)) {\n            row++;\n          } else if (isHotkey(\"shift+Enter\", event)) {\n            row--;\n          }\n        } else if (row === rows && showTrailingBlankRow) {\n          window.setTimeout(() => {\n            const customTargetColumn = getCustomNewRowTargetColumn(col);\n            void appendRow(customTargetColumn !== null && customTargetColumn !== void 0 ? customTargetColumn : col);\n          }, 0);\n        } else {\n          onCellActivated === null || onCellActivated === void 0 ? void 0 : onCellActivated([col - rowMarkerOffset, row]);\n          reselect(event.bounds, true);\n          event.cancel();\n        }\n      } else if (keybindings.downFill && isHotkey(\"primary+_68\", event) && gridSelection.current.range.height > 1) {\n        fillDown(false);\n        event.cancel();\n      } else if (keybindings.rightFill && isHotkey(\"primary+_82\", event) && gridSelection.current.range.width > 1) {\n        var _gridRef$current9;\n\n        const damage = [];\n        const r = gridSelection.current.range;\n\n        for (let y = 0; y < r.height; y++) {\n          const fillRow = y + r.y;\n          const fillVal = getMangledCellContent([r.x, fillRow]);\n          if (isInnerOnlyCell(fillVal) || !isEditableGridCell(fillVal)) continue;\n\n          for (let x = 1; x < r.width; x++) {\n            const fillCol = x + r.x;\n            const target = [fillCol, fillRow];\n            damage.push(target);\n            mangledOnCellEdited === null || mangledOnCellEdited === void 0 ? void 0 : mangledOnCellEdited(target, { ...fillVal\n            });\n          }\n        }\n\n        (_gridRef$current9 = gridRef.current) === null || _gridRef$current9 === void 0 ? void 0 : _gridRef$current9.damage(damage.map(c => ({\n          cell: c\n        })));\n        event.cancel();\n      } else if (keybindings.pageDown && isHotkey(\"PageDown\", event)) {\n        row += Math.max(1, visibleRegionRef.current.height - 4);\n        event.cancel();\n      } else if (keybindings.pageUp && isHotkey(\"PageUp\", event)) {\n        row -= Math.max(1, visibleRegionRef.current.height - 4);\n        event.cancel();\n      } else if (keybindings.first && isHotkey(\"primary+Home\", event)) {\n        setOverlay(undefined);\n        row = 0;\n        col = 0;\n      } else if (keybindings.last && isHotkey(\"primary+End\", event)) {\n        setOverlay(undefined);\n        row = Number.MAX_SAFE_INTEGER;\n        col = Number.MAX_SAFE_INTEGER;\n      } else if (keybindings.first && isHotkey(\"primary+shift+Home\", event)) {\n        setOverlay(undefined);\n        adjustSelection([-2, -2]);\n      } else if (keybindings.last && isHotkey(\"primary+shift+End\", event)) {\n        setOverlay(undefined);\n        adjustSelection([2, 2]);\n      } else if (event.key === \"ArrowDown\") {\n        if (event.ctrlKey && event.altKey) {\n          return;\n        }\n\n        setOverlay(undefined);\n\n        if (shiftKey && (rangeSelect === \"rect\" || rangeSelect === \"multi-rect\")) {\n          adjustSelection([0, isPrimaryKey && !altKey ? 2 : 1]);\n        } else {\n          if (altKey && !isPrimaryKey) {\n            freeMove = true;\n          }\n\n          if (isPrimaryKey && !altKey) {\n            row = rows - 1;\n          } else {\n            row += 1;\n          }\n        }\n      } else if (event.key === \"ArrowUp\" || event.key === \"Home\") {\n        const asPrimary = event.key === \"Home\" || isPrimaryKey;\n        setOverlay(undefined);\n\n        if (shiftKey && (rangeSelect === \"rect\" || rangeSelect === \"multi-rect\")) {\n          adjustSelection([0, asPrimary && !altKey ? -2 : -1]);\n        } else {\n          if (altKey && !asPrimary) {\n            freeMove = true;\n          }\n\n          row += asPrimary && !altKey ? Number.MIN_SAFE_INTEGER : -1;\n        }\n      } else if (event.key === \"ArrowRight\" || event.key === \"End\") {\n        const asPrimary = event.key === \"End\" || isPrimaryKey;\n        setOverlay(undefined);\n\n        if (shiftKey && (rangeSelect === \"rect\" || rangeSelect === \"multi-rect\")) {\n          adjustSelection([asPrimary && !altKey ? 2 : 1, 0]);\n        } else {\n          if (altKey && !asPrimary) {\n            freeMove = true;\n          }\n\n          col += asPrimary && !altKey ? Number.MAX_SAFE_INTEGER : 1;\n        }\n      } else if (event.key === \"ArrowLeft\") {\n        setOverlay(undefined);\n\n        if (shiftKey && (rangeSelect === \"rect\" || rangeSelect === \"multi-rect\")) {\n          adjustSelection([isPrimaryKey && !altKey ? -2 : -1, 0]);\n        } else {\n          if (altKey && !isPrimaryKey) {\n            freeMove = true;\n          }\n\n          col += isPrimaryKey && !altKey ? Number.MIN_SAFE_INTEGER : -1;\n        }\n      } else if (event.key === \"Tab\") {\n        setOverlay(undefined);\n\n        if (shiftKey) {\n          col--;\n        } else {\n          col++;\n        }\n      } else if (!event.metaKey && !event.ctrlKey && gridSelection.current !== undefined && event.key.length === 1 && event.key.match(/[ -~]/g) && event.bounds !== undefined && isReadWriteCell(getCellContent([col - rowMarkerOffset, Math.max(0, row - 1)]))) {\n        if ((!lastRowSticky || row !== rows) && (vr.y > row || row > vr.y + vr.height || vr.x > col || col > vr.x + vr.width)) {\n          return;\n        }\n\n        reselect(event.bounds, true, event.key);\n        event.cancel();\n      }\n\n      const moved = updateSelectedCell(col, row, false, freeMove);\n\n      if (moved) {\n        event.cancel();\n      }\n    };\n\n    void fn();\n  }, [overlay, gridSelection, keybindings.selectAll, keybindings.search, keybindings.selectColumn, keybindings.selectRow, keybindings.downFill, keybindings.rightFill, keybindings.pageDown, keybindings.pageUp, keybindings.first, keybindings.last, keybindings.clear, columnSelect, rowSelect, getCellContent, rowMarkerOffset, updateSelectedCell, setGridSelection, fillDown, onSelectionCleared, columnsIn.length, rows, overlayID, focus, provideEditor, mangledOnCellEdited, onDelete, mangledCols.length, setSelectedColumns, setSelectedRows, showTrailingBlankRow, getCustomNewRowTargetColumn, appendRow, onCellActivated, reselect, getMangledCellContent, adjustSelection, rangeSelect, lastRowSticky]);\n  const onPasteInternal = React.useCallback(async e => {\n    var _scrollRef$current2, _canvasRef$current, _gridSelection$curren9;\n\n    if (!keybindings.paste) return;\n\n    function pasteToCell(inner, target, toPaste) {\n      if (!isInnerOnlyCell(inner) && isReadWriteCell(inner) && inner.readonly !== true) {\n        const coerced = coercePasteValue === null || coercePasteValue === void 0 ? void 0 : coercePasteValue(toPaste, inner);\n\n        if (coerced !== undefined && isEditableGridCell(coerced)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            if (coerced.kind !== inner.kind) {\n              console.warn(\"Coercion should not change cell kind.\");\n            }\n          }\n\n          return {\n            location: target,\n            value: coerced\n          };\n        }\n\n        switch (inner.kind) {\n          case GridCellKind.Text:\n          case GridCellKind.Markdown:\n          case GridCellKind.Uri:\n            {\n              return {\n                location: target,\n                value: { ...inner,\n                  data: toPaste\n                }\n              };\n            }\n\n          case GridCellKind.Number:\n            {\n              const newNumber = Number.parseFloat(toPaste);\n\n              if (!Number.isNaN(newNumber)) {\n                return {\n                  location: target,\n                  value: { ...inner,\n                    data: newNumber\n                  }\n                };\n              }\n\n              return undefined;\n            }\n\n          case GridCellKind.Custom:\n            {\n              return {\n                location: target,\n                value: { ...inner,\n                  copyData: toPaste\n                }\n              };\n            }\n\n          case GridCellKind.Boolean:\n            {\n              let newVal = BooleanEmpty;\n\n              if (toPaste.toLowerCase() === \"true\") {\n                newVal = true;\n              } else if (toPaste.toLowerCase() === \"false\") {\n                newVal = false;\n              } else if (toPaste.toLowerCase() === \"indeterminate\") {\n                newVal = BooleanIndeterminate;\n              }\n\n              return {\n                location: target,\n                value: { ...inner,\n                  data: newVal\n                }\n              };\n            }\n\n          default:\n            assertNever(inner);\n        }\n      }\n\n      return undefined;\n    }\n\n    const selectedColumns = gridSelection.columns;\n    const selectedRows = gridSelection.rows;\n    const focused = ((_scrollRef$current2 = scrollRef.current) === null || _scrollRef$current2 === void 0 ? void 0 : _scrollRef$current2.contains(document.activeElement)) === true || ((_canvasRef$current = canvasRef.current) === null || _canvasRef$current === void 0 ? void 0 : _canvasRef$current.contains(document.activeElement)) === true;\n    let target = (_gridSelection$curren9 = gridSelection.current) === null || _gridSelection$curren9 === void 0 ? void 0 : _gridSelection$curren9.cell;\n\n    if (target === undefined && selectedColumns.length === 1) {\n      var _selectedColumns$firs;\n\n      target = [(_selectedColumns$firs = selectedColumns.first()) !== null && _selectedColumns$firs !== void 0 ? _selectedColumns$firs : 0, 0];\n    }\n\n    if (target === undefined && selectedRows.length === 1) {\n      var _selectedRows$first;\n\n      target = [rowMarkerOffset, (_selectedRows$first = selectedRows.first()) !== null && _selectedRows$first !== void 0 ? _selectedRows$first : 0];\n    }\n\n    if (focused && target !== undefined) {\n      var _gridRef$current10;\n\n      let data;\n      let text;\n\n      if (navigator.clipboard.read !== undefined) {\n        const clipboardContent = await navigator.clipboard.read();\n\n        for (const item of clipboardContent) {\n          if (item.types.includes(\"text/html\")) {\n            const htmlBlob = await item.getType(\"text/html\");\n            const html = await htmlBlob.text();\n            const fragment = document.createElement(\"html\");\n            fragment.innerHTML = html;\n            const el = fragment.querySelector(\"table\");\n\n            if (el !== null) {\n              data = decodeHTML(el);\n              break;\n            }\n          }\n\n          if (item.types.includes(\"text/plain\")) {\n            text = await (await item.getType(\"text/plain\")).text();\n          }\n        }\n      } else if (navigator.clipboard.readText !== undefined) {\n        text = await navigator.clipboard.readText();\n      } else if (e !== undefined && (e === null || e === void 0 ? void 0 : e.clipboardData) !== null) {\n        if (e.clipboardData.types.includes(\"text/html\")) {\n          const html = e.clipboardData.getData(\"text/html\");\n          const fragment = document.createElement(\"html\");\n          fragment.innerHTML = html;\n          const el = fragment.querySelector(\"table\");\n\n          if (el !== null) {\n            data = decodeHTML(el);\n          }\n        }\n\n        if (data === undefined && e.clipboardData.types.includes(\"text/plain\")) {\n          text = e.clipboardData.getData(\"text/plain\");\n        }\n      } else {\n        return;\n      }\n\n      const [gridCol, gridRow] = target;\n      const damage = [];\n\n      do {\n        if (onPaste === undefined) {\n          var _ref2, _text, _data;\n\n          const cellData = getMangledCellContent(target);\n          const newVal = pasteToCell(cellData, target, (_ref2 = (_text = text) !== null && _text !== void 0 ? _text : (_data = data) === null || _data === void 0 ? void 0 : _data.map(r => r.join(\"\\t\")).join(\"\\t\")) !== null && _ref2 !== void 0 ? _ref2 : \"\");\n\n          if (newVal !== undefined) {\n            damage.push(newVal);\n          }\n\n          break;\n        }\n\n        if (data === undefined) {\n          if (text === undefined) return;\n          data = unquote(text);\n        }\n\n        if (onPaste === false || typeof onPaste === \"function\" && (onPaste === null || onPaste === void 0 ? void 0 : onPaste([target[0] - rowMarkerOffset, target[1]], data)) !== true) {\n          return;\n        }\n\n        for (let row = 0; row < data.length; row++) {\n          const dataRow = data[row];\n          if (row + gridRow >= rows) break;\n\n          for (let col = 0; col < dataRow.length; col++) {\n            const dataItem = dataRow[col];\n            const index = [col + gridCol, row + gridRow];\n            const cellData = getMangledCellContent(index);\n            const newVal = pasteToCell(cellData, index, dataItem);\n\n            if (newVal !== undefined) {\n              damage.push(newVal);\n            }\n          }\n        }\n      } while (false);\n\n      const r = mangledOnCellsEdited(damage);\n\n      if (r !== true) {\n        damage.forEach(i => mangledOnCellEdited(i.location, i.value));\n      }\n\n      (_gridRef$current10 = gridRef.current) === null || _gridRef$current10 === void 0 ? void 0 : _gridRef$current10.damage(damage.map(c => ({\n        cell: c.location\n      })));\n    }\n  }, [coercePasteValue, getMangledCellContent, gridSelection, keybindings.paste, mangledOnCellEdited, mangledOnCellsEdited, onPaste, rowMarkerOffset, rows]);\n  useEventListener(\"paste\", onPasteInternal, window, false, true);\n  const onCopy = React.useCallback(async e => {\n    var _scrollRef$current3, _canvasRef$current2;\n\n    if (!keybindings.copy) return;\n    const focused = ((_scrollRef$current3 = scrollRef.current) === null || _scrollRef$current3 === void 0 ? void 0 : _scrollRef$current3.contains(document.activeElement)) === true || ((_canvasRef$current2 = canvasRef.current) === null || _canvasRef$current2 === void 0 ? void 0 : _canvasRef$current2.contains(document.activeElement)) === true;\n    const selectedColumns = gridSelection.columns;\n    const selectedRows = gridSelection.rows;\n\n    if (focused && getCellsForSelection !== undefined) {\n      if (gridSelection.current !== undefined) {\n        let thunk = getCellsForSelection(gridSelection.current.range, abortControllerRef.current.signal);\n\n        if (typeof thunk !== \"object\") {\n          thunk = await thunk();\n        }\n\n        copyToClipboard(thunk, range(gridSelection.current.range.x - rowMarkerOffset, gridSelection.current.range.x + gridSelection.current.range.width - rowMarkerOffset), e);\n      } else if (selectedRows !== undefined && selectedRows.length > 0) {\n        const toCopy = Array.from(selectedRows);\n        const cells = toCopy.map(rowIndex => {\n          const thunk = getCellsForSelection({\n            x: rowMarkerOffset,\n            y: rowIndex,\n            width: columnsIn.length - rowMarkerOffset,\n            height: 1\n          }, abortControllerRef.current.signal);\n\n          if (typeof thunk === \"object\") {\n            return thunk[0];\n          }\n\n          return thunk().then(v => v[0]);\n        });\n\n        if (cells.some(x => x instanceof Promise)) {\n          const settled = await Promise.all(cells);\n          copyToClipboard(settled, range(columnsIn.length), e);\n        } else {\n          copyToClipboard(cells, range(columnsIn.length), e);\n        }\n      } else if (selectedColumns.length >= 1) {\n        const results = [];\n        const cols = [];\n\n        for (const col of selectedColumns) {\n          let thunk = getCellsForSelection({\n            x: col,\n            y: 0,\n            width: 1,\n            height: rows\n          }, abortControllerRef.current.signal);\n\n          if (typeof thunk !== \"object\") {\n            thunk = await thunk();\n          }\n\n          results.push(thunk);\n          cols.push(col - rowMarkerOffset);\n        }\n\n        if (results.length === 1) {\n          copyToClipboard(results[0], cols, e);\n        } else {\n          const toCopy = results.reduce((pv, cv) => pv.map((row, index) => [...row, ...cv[index]]));\n          copyToClipboard(toCopy, cols, e);\n        }\n      }\n    }\n  }, [columnsIn.length, getCellsForSelection, gridSelection, keybindings.copy, rowMarkerOffset, rows]);\n  useEventListener(\"copy\", onCopy, window, false, false);\n  const onSearchResultsChanged = React.useCallback((results, navIndex) => {\n    if (results.length === 0 || navIndex === -1) return;\n    const [col, row] = results[navIndex];\n\n    if (lastSent.current !== undefined && lastSent.current[0] === col && lastSent.current[1] === row) {\n      return;\n    }\n\n    lastSent.current = [col, row];\n    updateSelectedCell(col, row, false, false);\n  }, [updateSelectedCell]);\n  React.useEffect(() => {\n    if (gridSelection.current === undefined) return;\n    const [col, row] = gridSelection.current.cell;\n    const selectionColInRange = mangledCols[col];\n    if (selectionColInRange === undefined) return;\n    updateSelectedCell(col, row, false, false);\n  }, [mangledCols, rows, gridSelection, updateSelectedCell]);\n  const disabledRows = React.useMemo(() => {\n    if (showTrailingBlankRow === true && (trailingRowOptions === null || trailingRowOptions === void 0 ? void 0 : trailingRowOptions.tint) === true) {\n      return CompactSelection.fromSingleSelection(mangledRows - 1);\n    }\n\n    return CompactSelection.empty();\n  }, [mangledRows, showTrailingBlankRow, trailingRowOptions === null || trailingRowOptions === void 0 ? void 0 : trailingRowOptions.tint]);\n  const mangledVerticalBorder = React.useCallback(col => {\n    var _verticalBorder;\n\n    return typeof verticalBorder === \"boolean\" ? verticalBorder : (_verticalBorder = verticalBorder === null || verticalBorder === void 0 ? void 0 : verticalBorder(col - rowMarkerOffset)) !== null && _verticalBorder !== void 0 ? _verticalBorder : true;\n  }, [rowMarkerOffset, verticalBorder]);\n  const drawCustomCellMangled = React.useMemo(() => {\n    if (drawCell !== undefined) {\n      return drawCell;\n    } else if (drawCustomCell !== undefined) {\n      return a => drawCustomCell(a.ctx, a.cell, a.theme, a.rect, a.hoverAmount);\n    }\n\n    return undefined;\n  }, [drawCell, drawCustomCell]);\n  const renameGroupNode = React.useMemo(() => {\n    if (renameGroup === undefined || canvasRef.current === null) return null;\n    const {\n      bounds,\n      group\n    } = renameGroup;\n    const canvasBounds = canvasRef.current.getBoundingClientRect();\n    return React.createElement(GroupRename, {\n      bounds: bounds,\n      group: group,\n      canvasBounds: canvasBounds,\n      onClose: () => setRenameGroup(undefined),\n      onFinish: newVal => {\n        setRenameGroup(undefined);\n        onGroupHeaderRenamed === null || onGroupHeaderRenamed === void 0 ? void 0 : onGroupHeaderRenamed(group, newVal);\n      }\n    });\n  }, [onGroupHeaderRenamed, renameGroup]);\n  const mangledFreezeColumns = Math.min(mangledCols.length, freezeColumns + (hasRowMarkers ? 1 : 0));\n  React.useImperativeHandle(forwardedRef, () => ({\n    updateCells: damageList => {\n      var _gridRef$current11;\n\n      if (rowMarkerOffset !== 0) {\n        damageList = damageList.map(x => ({\n          cell: [x.cell[0] + rowMarkerOffset, x.cell[1]]\n        }));\n      }\n\n      return (_gridRef$current11 = gridRef.current) === null || _gridRef$current11 === void 0 ? void 0 : _gridRef$current11.damage(damageList);\n    },\n    getBounds: function () {\n      var _gridRef$current12;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_gridRef$current12 = gridRef.current) === null || _gridRef$current12 === void 0 ? void 0 : _gridRef$current12.getBounds(...args);\n    },\n    focus: () => {\n      var _gridRef$current13;\n\n      return (_gridRef$current13 = gridRef.current) === null || _gridRef$current13 === void 0 ? void 0 : _gridRef$current13.focus();\n    },\n    emit: async e => {\n      switch (e) {\n        case \"delete\":\n          onKeyDown({\n            bounds: undefined,\n            cancel: () => undefined,\n            ctrlKey: false,\n            key: \"Delete\",\n            keyCode: 46,\n            metaKey: false,\n            shiftKey: false,\n            altKey: false\n          });\n          break;\n\n        case \"fill-right\":\n          onKeyDown({\n            bounds: undefined,\n            cancel: () => undefined,\n            ctrlKey: true,\n            key: \"r\",\n            keyCode: 82,\n            metaKey: false,\n            shiftKey: false,\n            altKey: false\n          });\n          break;\n\n        case \"fill-down\":\n          onKeyDown({\n            bounds: undefined,\n            cancel: () => undefined,\n            ctrlKey: true,\n            key: \"d\",\n            keyCode: 68,\n            metaKey: false,\n            shiftKey: false,\n            altKey: false\n          });\n          break;\n\n        case \"copy\":\n          await onCopy();\n          break;\n\n        case \"paste\":\n          await onPasteInternal();\n          break;\n      }\n    },\n    scrollTo\n  }), [onCopy, onKeyDown, onPasteInternal, rowMarkerOffset, scrollTo]);\n  const [selCol, selRow] = currentCell !== null && currentCell !== void 0 ? currentCell : [];\n  const onCellFocused = React.useCallback(cell => {\n    const [col, row] = cell;\n\n    if (row === -1) {\n      if (columnSelect !== \"none\") {\n        setSelectedColumns(CompactSelection.fromSingleSelection(col), undefined, false);\n        focus();\n      }\n\n      return;\n    }\n\n    if (selCol === col && selRow === row) return;\n    setCurrent({\n      cell,\n      range: {\n        x: col,\n        y: row,\n        width: 1,\n        height: 1\n      }\n    }, true, false, \"keyboard-nav\");\n    scrollTo(col, row);\n  }, [columnSelect, focus, scrollTo, selCol, selRow, setCurrent, setSelectedColumns]);\n  const [isFocused, setIsFocused] = React.useState(false);\n  const setIsFocusedDebounced = React.useRef(debounce(val => {\n    setIsFocused(val);\n  }, 5));\n  const onCanvasFocused = React.useCallback(() => {\n    setIsFocusedDebounced.current(true);\n\n    if (gridSelection.current === undefined && gridSelection.columns.length === 0 && gridSelection.rows.length === 0 && mouseState === undefined) {\n      setCurrent({\n        cell: [rowMarkerOffset, cellYOffset],\n        range: {\n          x: rowMarkerOffset,\n          y: cellYOffset,\n          width: 1,\n          height: 1\n        }\n      }, true, false, \"keyboard-select\");\n    }\n  }, [cellYOffset, gridSelection, mouseState, rowMarkerOffset, setCurrent]);\n  const onFocusOut = React.useCallback(() => {\n    setIsFocusedDebounced.current(false);\n  }, []);\n  const [idealWidth, idealHeight] = React.useMemo(() => {\n    var _p$experimental$scrol, _p$experimental3;\n\n    let h;\n    const scrollbarWidth = (_p$experimental$scrol = (_p$experimental3 = p.experimental) === null || _p$experimental3 === void 0 ? void 0 : _p$experimental3.scrollbarWidthOverride) !== null && _p$experimental$scrol !== void 0 ? _p$experimental$scrol : getScrollBarWidth();\n    const rowsCountWithTrailingRow = rows + (showTrailingBlankRow ? 1 : 0);\n\n    if (typeof rowHeight === \"number\") {\n      h = totalHeaderHeight + rowsCountWithTrailingRow * rowHeight;\n    } else {\n      let avg = 0;\n      const toAverage = Math.min(rowsCountWithTrailingRow, 10);\n\n      for (let i = 0; i < toAverage; i++) {\n        avg += rowHeight(i);\n      }\n\n      avg = Math.floor(avg / toAverage);\n      h = totalHeaderHeight + rowsCountWithTrailingRow * avg;\n    }\n\n    h += scrollbarWidth;\n    const w = mangledCols.reduce((acc, x) => x.width + acc, 0) + scrollbarWidth;\n    return [`${Math.min(100000, w)}px`, `${Math.min(100000, h)}px`];\n  }, [mangledCols, (_p$experimental4 = p.experimental) === null || _p$experimental4 === void 0 ? void 0 : _p$experimental4.scrollbarWidthOverride, rowHeight, rows, showTrailingBlankRow, totalHeaderHeight]);\n  return React.createElement(ThemeProvider, {\n    theme: mergedTheme\n  }, React.createElement(DataEditorContainer, {\n    className: className,\n    width: width !== null && width !== void 0 ? width : idealWidth,\n    height: height !== null && height !== void 0 ? height : idealHeight,\n    onContextMenu: onContextMenu\n  }, React.createElement(DataGridSearch, _extends({}, rest, {\n    enableGroups: enableGroups,\n    onCanvasFocused: onCanvasFocused,\n    onCanvasBlur: onFocusOut,\n    canvasRef: canvasRef,\n    cellXOffset: cellXOffset,\n    cellYOffset: cellYOffset,\n    accessibilityHeight: visibleRegion.height,\n    columns: mangledCols,\n    drawCustomCell: drawCustomCellMangled,\n    disabledRows: disabledRows,\n    freezeColumns: mangledFreezeColumns,\n    lockColumns: rowMarkerOffset,\n    firstColAccessible: rowMarkerOffset === 0,\n    getCellContent: getMangledCellContent,\n    minColumnWidth: minColumnWidth,\n    maxColumnWidth: maxColumnWidth,\n    showSearch: showSearch,\n    onSearchClose: onSearchClose,\n    highlightRegions: highlightRegions,\n    getCellsForSelection: getCellsForSelection,\n    getGroupDetails: mangledGetGroupDetails,\n    headerHeight: headerHeight,\n    isFocused: isFocused,\n    groupHeaderHeight: enableGroups ? groupHeaderHeight : 0,\n    lastRowSticky: lastRowSticky,\n    onCellFocused: onCellFocused,\n    onColumnMoved: onColumnMoved === undefined ? undefined : onColumnMovedImpl,\n    onDragStart: onDragStartImpl,\n    onHeaderMenuClick: onHeaderMenuClickInner,\n    onItemHovered: onItemHoveredImpl,\n    isFilling: (mouseState === null || mouseState === void 0 ? void 0 : mouseState.fillHandle) === true,\n    onMouseMove: onMouseMoveImpl,\n    onKeyDown: onKeyDown,\n    onMouseDown: onMouseDown,\n    onMouseUp: onMouseUp,\n    onSearchResultsChanged: onSearchResultsChanged,\n    onVisibleRegionChanged: onVisibleRegionChangedImpl,\n    rowHeight: rowHeight,\n    rows: mangledRows,\n    scrollRef: scrollRef,\n    selection: gridSelection,\n    translateX: visibleRegion.tx,\n    translateY: visibleRegion.ty,\n    verticalBorder: mangledVerticalBorder,\n    gridRef: gridRef\n  })), renameGroupNode, overlay !== undefined && React.createElement(DataGridOverlayEditor, _extends({}, overlay, {\n    id: overlayID,\n    className: ((_p$experimental5 = p.experimental) === null || _p$experimental5 === void 0 ? void 0 : _p$experimental5.isSubGrid) === true ? \"click-outside-ignore\" : undefined,\n    provideEditor: provideEditor,\n    imageEditorOverride: imageEditorOverride,\n    onFinishEditing: onFinishEditing,\n    markdownDivCreateNode: markdownDivCreateNode\n  }))));\n};\n\nexport const DataEditor = React.forwardRef(DataEditorImpl);","import * as React from \"react\";\nimport { GridCellKind } from \"../data-grid/data-grid-types.js\";\nexport function useCellsForSelection(getCellsForSelectionIn, getCellContent, rowMarkerOffset, abortController) {\n  const getCellsForSelectionDirectWhenValid = React.useCallback(rect => {\n    var _getCellsForSelection;\n\n    if (getCellsForSelectionIn === true) {\n      const result = [];\n\n      for (let y = rect.y; y < rect.y + rect.height; y++) {\n        const row = [];\n\n        for (let x = rect.x; x < rect.x + rect.width; x++) {\n          if (x < 0) {\n            row.push({\n              kind: GridCellKind.Loading,\n              allowOverlay: false\n            });\n          } else {\n            row.push(getCellContent([x, y]));\n          }\n        }\n\n        result.push(row);\n      }\n\n      return result;\n    }\n\n    return (_getCellsForSelection = getCellsForSelectionIn === null || getCellsForSelectionIn === void 0 ? void 0 : getCellsForSelectionIn(rect, abortController.signal)) !== null && _getCellsForSelection !== void 0 ? _getCellsForSelection : [];\n  }, [abortController.signal, getCellContent, getCellsForSelectionIn]);\n  const getCellsForSelectionDirect = getCellsForSelectionIn !== undefined ? getCellsForSelectionDirectWhenValid : undefined;\n  const getCellsForSelectionMangled = React.useCallback(rect => {\n    if (getCellsForSelectionDirect === undefined) return [];\n    const newRect = { ...rect,\n      x: rect.x - rowMarkerOffset\n    };\n\n    if (newRect.x < 0) {\n      newRect.x = 0;\n      newRect.width--;\n      const r = getCellsForSelectionDirect(newRect, abortController.signal);\n\n      if (typeof r === \"function\") {\n        return async () => (await r()).map(row => [{\n          kind: GridCellKind.Loading,\n          allowOverlay: false\n        }, ...row]);\n      }\n\n      return r.map(row => [{\n        kind: GridCellKind.Loading,\n        allowOverlay: false\n      }, ...row]);\n    }\n\n    return getCellsForSelectionDirect(newRect, abortController.signal);\n  }, [abortController.signal, getCellsForSelectionDirect, rowMarkerOffset]);\n  const getCellsForSelection = getCellsForSelectionIn !== undefined ? getCellsForSelectionMangled : undefined;\n  return [getCellsForSelection, getCellsForSelectionDirect];\n}","import React from \"react\";\nimport { CompactSelection } from \"./data-grid-types.js\";\nexport function useSelectionBehavior(gridSelection, setGridSelection, rangeBehavior, columnBehavior, rowBehavior, rangeSelect) {\n  const setCurrent = React.useCallback((value, expand, append, trigger) => {\n    var _gridSelection$curren, _gridSelection$curren2;\n\n    if ((rangeSelect === \"cell\" || rangeSelect === \"multi-cell\") && value !== undefined) {\n      value = { ...value,\n        range: {\n          x: value.cell[0],\n          y: value.cell[1],\n          width: 1,\n          height: 1\n        }\n      };\n    }\n\n    const addLastRange = append && (rangeSelect === \"multi-rect\" || rangeSelect === \"multi-cell\");\n    const allowColumnCoSelect = columnBehavior === \"mixed\" && rangeBehavior === \"mixed\" && (append || trigger === \"drag\");\n    const allowRowCoSelect = rowBehavior === \"mixed\" && rangeBehavior === \"mixed\" && (append || trigger === \"drag\");\n    let newVal = {\n      current: value === undefined ? undefined : { ...value,\n        rangeStack: trigger === \"drag\" ? (_gridSelection$curren = (_gridSelection$curren2 = gridSelection.current) === null || _gridSelection$curren2 === void 0 ? void 0 : _gridSelection$curren2.rangeStack) !== null && _gridSelection$curren !== void 0 ? _gridSelection$curren : [] : []\n      },\n      columns: allowColumnCoSelect ? gridSelection.columns : CompactSelection.empty(),\n      rows: allowRowCoSelect ? gridSelection.rows : CompactSelection.empty()\n    };\n\n    if (addLastRange && newVal.current !== undefined && gridSelection.current !== undefined) {\n      newVal = { ...newVal,\n        current: { ...newVal.current,\n          rangeStack: [...gridSelection.current.rangeStack, gridSelection.current.range]\n        }\n      };\n    }\n\n    setGridSelection(newVal, expand);\n  }, [columnBehavior, gridSelection, rangeBehavior, rangeSelect, rowBehavior, setGridSelection]);\n  const setSelectedRows = React.useCallback((newRows, append, allowMixed) => {\n    var _newRows;\n\n    newRows = (_newRows = newRows) !== null && _newRows !== void 0 ? _newRows : gridSelection.rows;\n\n    if (append !== undefined) {\n      newRows = newRows.add(append);\n    }\n\n    let newVal;\n\n    if (rowBehavior === \"exclusive\" && newRows.length !== 0) {\n      newVal = {\n        current: undefined,\n        columns: CompactSelection.empty(),\n        rows: newRows\n      };\n    } else {\n      const rangeMixed = allowMixed && rangeBehavior === \"mixed\";\n      const columnMixed = allowMixed && columnBehavior === \"mixed\";\n      const current = !rangeMixed ? undefined : gridSelection.current;\n      newVal = {\n        current,\n        columns: columnMixed ? gridSelection.columns : CompactSelection.empty(),\n        rows: newRows\n      };\n    }\n\n    setGridSelection(newVal, false);\n  }, [columnBehavior, gridSelection, rangeBehavior, rowBehavior, setGridSelection]);\n  const setSelectedColumns = React.useCallback((newCols, append, allowMixed) => {\n    var _newCols;\n\n    newCols = (_newCols = newCols) !== null && _newCols !== void 0 ? _newCols : gridSelection.columns;\n\n    if (append !== undefined) {\n      newCols = newCols.add(append);\n    }\n\n    let newVal;\n\n    if (columnBehavior === \"exclusive\" && newCols.length !== 0) {\n      newVal = {\n        current: undefined,\n        rows: CompactSelection.empty(),\n        columns: newCols\n      };\n    } else {\n      const rangeMixed = allowMixed && rangeBehavior === \"mixed\";\n      const rowMixed = allowMixed && rowBehavior === \"mixed\";\n      const current = !rangeMixed ? undefined : gridSelection.current;\n      newVal = {\n        current,\n        rows: rowMixed ? gridSelection.rows : CompactSelection.empty(),\n        columns: newCols\n      };\n    }\n\n    setGridSelection(newVal, false);\n  }, [columnBehavior, gridSelection, rangeBehavior, rowBehavior, setGridSelection]);\n  return [setCurrent, setSelectedRows, setSelectedColumns];\n}"],"sourceRoot":""}