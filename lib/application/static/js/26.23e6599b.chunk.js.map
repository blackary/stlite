{"version":3,"sources":["../../../streamlit/frontend/src/components/shared/InputInstructions/styled-components.ts","../../../streamlit/frontend/src/components/shared/InputInstructions/InputInstructions.tsx","../../../node_modules/baseui/esm/textarea/styled-components.js","../../../node_modules/baseui/esm/textarea/textarea.js","../../../streamlit/frontend/src/components/widgets/TextArea/TextArea.tsx"],"names":["blink","keyframes","StyledMessage","includeDot","shouldBlink","theme","opacity","content","animation","color","colors","gray","margin","red","animationName","animationDuration","animationIterationCount","InputInstructions","dirty","value","maxLength","className","type","messages","addMessage","text","push","length","isFromMac","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","StyledTextAreaRoot","styled","props","getRootStyles","$hasIconTrailing","displayName","StyledTextareaContainer","getInputContainerStyles","StyledTextarea","getInputStyles","resize","_typeof","Symbol","iterator","constructor","prototype","_extends","assign","hasOwnProperty","call","this","_slicedToArray","arr","Array","isArray","_arrayWithHoles","toString","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","_iterableToArrayLimit","TypeError","_nonIterableRest","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_setPrototypeOf","p","Textarea","_React$Component","_getPrototypeOf2","_this","_len","args","_key","concat","isFocused","autoFocus","e","setState","onFocus","onBlur","protoProps","staticProps","subClass","superClass","create","_inherits","_this$props$overrides","overrides","_getOverrides2","getOverrides","Root","rootProps","inputOverrides","mergeOverrides","Input","component","InputContainer","React","$isFocused","state","$disabled","disabled","$error","error","$positive","positive","$required","required","BaseInput","CUSTOM_INPUT_TYPE","textarea","name","onChange","onKeyDown","onKeyPress","onKeyUp","placeholder","rows","size","SIZE","default","TextArea","formClearHelper","FormClearHelper","initialValue","commitWidgetValue","widgetMgr","setStringValue","element","onFormCleared","fromUi","maxChars","isInForm","isEnterKeyPressed","event","keyCode","metaKey","ctrlKey","preventDefault","storedValue","getStringValue","setValue","updateFromProtobuf","maybeUpdateFromProtobuf","disconnect","width","style","height","manageFormClearListener","formId","label","help","TooltipIcon","placement","Placement","TOP_RIGHT","data-testid","minHeight","PureComponent"],"mappings":"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","file":"static/js/26.23e6599b.chunk.js","sourcesContent":["/**\n * @license\n * Copyright 2018-2022 Streamlit Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport styled from \"@emotion/styled\"\nimport { keyframes } from \"@emotion/react\"\n\nconst blink = keyframes`\n  50% {\n    color: rgba(0, 0, 0, 0);\n  }\n`\n\nexport interface StyledMessageProps {\n  includeDot: boolean\n  shouldBlink: boolean\n}\n\nexport const StyledMessage = styled.span<StyledMessageProps>(\n  ({ includeDot, shouldBlink, theme }) => ({\n    ...(includeDot\n      ? {\n          \"&::before\": {\n            opacity: 1,\n            content: '\"•\"',\n            animation: \"none\",\n            color: theme.colors.gray,\n            margin: \"0 5px\",\n          },\n        }\n      : {}),\n    ...(shouldBlink\n      ? {\n          color: theme.colors.red,\n          animationName: `${blink}`,\n          animationDuration: \"0.5s\",\n          animationIterationCount: 5,\n        }\n      : {}),\n  })\n)\n","/**\n * @license\n * Copyright 2018-2022 Streamlit Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { ReactElement } from \"react\"\nimport { isFromMac } from \"src/lib/utils\"\nimport { StyledWidgetInstructions } from \"src/components/widgets/BaseWidget\"\nimport { StyledMessage } from \"./styled-components\"\n\nexport interface Props {\n  dirty: boolean\n  value: string\n  maxLength?: number\n  className?: string\n  type?: \"multiline\" | \"single\"\n}\n\nconst InputInstructions = ({\n  dirty,\n  value,\n  maxLength,\n  className,\n  type = \"single\",\n}: Props): ReactElement => {\n  const messages: ReactElement[] = []\n  const addMessage = (text: string, shouldBlink = false): void => {\n    messages.push(\n      <StyledMessage\n        key={messages.length}\n        includeDot={messages.length > 0}\n        shouldBlink={shouldBlink}\n      >\n        {text}\n      </StyledMessage>\n    )\n  }\n\n  if (dirty) {\n    if (type === \"multiline\") {\n      if (isFromMac()) {\n        addMessage(\"Press ⌘+Enter to apply\")\n      } else {\n        addMessage(\"Press Ctrl+Enter to apply\")\n      }\n    } else {\n      addMessage(\"Press Enter to apply\")\n    }\n  }\n\n  if (maxLength) {\n    addMessage(\n      `${value.length}/${maxLength}`,\n      dirty && value.length >= maxLength\n    )\n  }\n\n  return (\n    <StyledWidgetInstructions className={className}>\n      {messages}\n    </StyledWidgetInstructions>\n  )\n}\n\nexport default InputInstructions\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\nCopyright (c) 2018-2020 Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\nimport { styled } from '../styles/index.js';\nimport { getInputStyles, getInputContainerStyles, getRootStyles } from '../input/styled-components.js';\n// $FlowFixMe https://github.com/facebook/flow/issues/7745\nexport var StyledTextAreaRoot = styled('div', function (props) {\n  return getRootStyles(_objectSpread({}, props, {\n    $hasIconTrailing: false\n  }));\n}); // $FlowFixMe https://github.com/facebook/flow/issues/7745\n\nStyledTextAreaRoot.displayName = \"StyledTextAreaRoot\";\nexport var StyledTextareaContainer = styled('div', function (props) {\n  return _objectSpread({}, getInputContainerStyles(props));\n}); // $FlowFixMe https://github.com/facebook/flow/issues/7745\n\nStyledTextareaContainer.displayName = \"StyledTextareaContainer\";\nexport var StyledTextarea = styled('textarea', function (props) {\n  return _objectSpread({}, getInputStyles(props), {\n    resize: 'none'\n  });\n});\nStyledTextarea.displayName = \"StyledTextarea\";","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\nCopyright (c) 2018-2020 Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\nimport * as React from 'react';\nimport { mergeOverrides, getOverrides } from '../helpers/overrides.js';\nimport { BaseInput, SIZE, CUSTOM_INPUT_TYPE } from '../input/index.js';\nimport { StyledTextAreaRoot, StyledTextarea, StyledTextareaContainer } from './styled-components.js';\n\nvar Textarea =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Textarea, _React$Component);\n\n  function Textarea() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Textarea);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Textarea)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isFocused: _this.props.autoFocus || false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function (e) {\n      _this.setState({\n        isFocused: true\n      });\n\n      _this.props.onFocus(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function (e) {\n      _this.setState({\n        isFocused: false\n      });\n\n      _this.props.onBlur(e);\n    });\n\n    return _this;\n  }\n\n  _createClass(Textarea, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props$overrides = this.props.overrides,\n          overrides = _this$props$overrides === void 0 ? {} : _this$props$overrides;\n\n      var _getOverrides = getOverrides(overrides.Root, StyledTextAreaRoot),\n          _getOverrides2 = _slicedToArray(_getOverrides, 2),\n          Root = _getOverrides2[0],\n          rootProps = _getOverrides2[1];\n\n      var inputOverrides = mergeOverrides({\n        Input: {\n          component: StyledTextarea\n        },\n        InputContainer: {\n          component: StyledTextareaContainer\n        }\n      }, overrides);\n      return React.createElement(Root, _extends({\n        \"data-baseweb\": \"textarea\",\n        $isFocused: this.state.isFocused,\n        $disabled: this.props.disabled,\n        $error: this.props.error,\n        $positive: this.props.positive,\n        $required: this.props.required\n      }, rootProps), React.createElement(BaseInput, _extends({}, this.props, {\n        type: CUSTOM_INPUT_TYPE.textarea,\n        overrides: inputOverrides,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur\n      })));\n    }\n  }]);\n\n  return Textarea;\n}(React.Component);\n\n_defineProperty(Textarea, \"defaultProps\", {\n  autoFocus: false,\n  disabled: false,\n  error: false,\n  name: '',\n  onBlur: function onBlur() {},\n  onChange: function onChange() {},\n  onKeyDown: function onKeyDown() {},\n  onKeyPress: function onKeyPress() {},\n  onKeyUp: function onKeyUp() {},\n  onFocus: function onFocus() {},\n  overrides: {},\n  placeholder: '',\n  required: false,\n  rows: 3,\n  size: SIZE.default,\n  value: ''\n});\n\nexport default Textarea;","/**\n * @license\n * Copyright 2018-2022 Streamlit Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\nimport { TextArea as TextAreaProto } from \"src/autogen/proto\"\nimport { FormClearHelper } from \"src/components/widgets/Form\"\nimport { WidgetStateManager, Source } from \"src/lib/WidgetStateManager\"\n\nimport { Textarea as UITextArea } from \"baseui/textarea\"\nimport InputInstructions from \"src/components/shared/InputInstructions/InputInstructions\"\nimport {\n  WidgetLabel,\n  StyledWidgetLabelHelp,\n} from \"src/components/widgets/BaseWidget\"\nimport TooltipIcon from \"src/components/shared/TooltipIcon\"\nimport { Placement } from \"src/components/shared/Tooltip\"\nimport { isInForm } from \"src/lib/utils\"\n\nexport interface Props {\n  disabled: boolean\n  element: TextAreaProto\n  widgetMgr: WidgetStateManager\n  width: number\n}\n\ninterface State {\n  /**\n   * True if the user-specified state.value has not yet been synced to the WidgetStateManager.\n   */\n  dirty: boolean\n\n  /**\n   * The value specified by the user via the UI. If the user didn't touch this\n   * widget's UI, the default value is used.\n   */\n  value: string\n}\n\nclass TextArea extends React.PureComponent<Props, State> {\n  private readonly formClearHelper = new FormClearHelper()\n\n  public state: State = {\n    dirty: false,\n    value: this.initialValue,\n  }\n\n  get initialValue(): string {\n    // If WidgetStateManager knew a value for this widget, initialize to that.\n    // Otherwise, use the default value from the widget protobuf.\n    const storedValue = this.props.widgetMgr.getStringValue(this.props.element)\n    return storedValue !== undefined ? storedValue : this.props.element.default\n  }\n\n  public componentDidMount(): void {\n    if (this.props.element.setValue) {\n      this.updateFromProtobuf()\n    } else {\n      this.commitWidgetValue({ fromUi: false })\n    }\n  }\n\n  public componentDidUpdate(): void {\n    this.maybeUpdateFromProtobuf()\n  }\n\n  public componentWillUnmount(): void {\n    this.formClearHelper.disconnect()\n  }\n\n  private maybeUpdateFromProtobuf(): void {\n    const { setValue } = this.props.element\n    if (setValue) {\n      this.updateFromProtobuf()\n    }\n  }\n\n  private updateFromProtobuf(): void {\n    const { value } = this.props.element\n    this.props.element.setValue = false\n    this.setState({ value }, () => {\n      this.commitWidgetValue({ fromUi: false })\n    })\n  }\n\n  /** Commit state.value to the WidgetStateManager. */\n  private commitWidgetValue = (source: Source): void => {\n    this.props.widgetMgr.setStringValue(\n      this.props.element,\n      this.state.value,\n      source\n    )\n    this.setState({ dirty: false })\n  }\n\n  /**\n   * If we're part of a clear_on_submit form, this will be called when our\n   * form is submitted. Restore our default value and update the WidgetManager.\n   */\n  private onFormCleared = (): void => {\n    this.setState({ value: this.props.element.default }, () =>\n      this.commitWidgetValue({ fromUi: true })\n    )\n  }\n\n  private onBlur = (): void => {\n    if (this.state.dirty) {\n      this.commitWidgetValue({ fromUi: true })\n    }\n  }\n\n  private onChange = (e: React.ChangeEvent<HTMLTextAreaElement>): void => {\n    const { value } = e.target\n    const { element } = this.props\n    const { maxChars } = element\n\n    if (maxChars !== 0 && value.length > maxChars) {\n      return\n    }\n\n    // If the TextArea is *not* part of a form, we mark it dirty but don't\n    // update its value in the WidgetMgr. This means that individual keypresses\n    // won't trigger a script re-run.\n    if (!isInForm(this.props.element)) {\n      this.setState({ dirty: true, value })\n      return\n    }\n\n    // If TextArea *is* part of a form, we immediately update its widgetValue\n    // on text changes. The widgetValue won't be passed to the Python\n    // script until the form is submitted, so this won't cause the script\n    // to re-run. (This also means that we won't show the \"Press Enter\n    // to Apply\" prompt because the TextArea will never be \"dirty\").\n    this.setState({ dirty: false, value }, () =>\n      this.commitWidgetValue({ fromUi: true })\n    )\n  }\n\n  isEnterKeyPressed = (\n    event: React.KeyboardEvent<HTMLTextAreaElement>\n  ): boolean => {\n    const { keyCode, key } = event\n\n    // Using keyCode as well due to some different behaviors on Windows\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=79407\n    return key === \"Enter\" || keyCode === 13 || keyCode === 10\n  }\n\n  private onKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>): void => {\n    const { metaKey, ctrlKey } = e\n    const { dirty } = this.state\n\n    if (this.isEnterKeyPressed(e) && (ctrlKey || metaKey) && dirty) {\n      e.preventDefault()\n\n      this.commitWidgetValue({ fromUi: true })\n    }\n  }\n\n  public render(): React.ReactNode {\n    const { element, disabled, width, widgetMgr } = this.props\n    const { value, dirty } = this.state\n    const style = { width }\n    const { height, placeholder } = element\n\n    // Manage our form-clear event handler.\n    this.formClearHelper.manageFormClearListener(\n      widgetMgr,\n      element.formId,\n      this.onFormCleared\n    )\n\n    return (\n      <div className=\"stTextArea\" style={style}>\n        <WidgetLabel label={element.label} disabled={disabled}>\n          {element.help && (\n            <StyledWidgetLabelHelp>\n              <TooltipIcon\n                content={element.help}\n                placement={Placement.TOP_RIGHT}\n              />\n            </StyledWidgetLabelHelp>\n          )}\n        </WidgetLabel>\n        <UITextArea\n          data-testid=\"stTextArea\"\n          value={value}\n          placeholder={placeholder}\n          onBlur={this.onBlur}\n          onChange={this.onChange}\n          onKeyDown={this.onKeyDown}\n          disabled={disabled}\n          overrides={{\n            Input: {\n              style: {\n                height: height ? `${height}px` : \"\",\n                minHeight: \"95px\",\n                resize: \"vertical\",\n                \"::placeholder\": {\n                  opacity: \"0.7\",\n                },\n              },\n            },\n          }}\n        />\n        <InputInstructions\n          dirty={dirty}\n          value={value}\n          maxLength={element.maxChars}\n          type={\"multiline\"}\n        />\n      </div>\n    )\n  }\n}\n\nexport default TextArea\n"],"sourceRoot":""}