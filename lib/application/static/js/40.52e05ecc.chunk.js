(this["webpackJsonp@stlite/application"]=this["webpackJsonp@stlite/application"]||[]).push([[40],{1788:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var a=n(2),r=n(3),o=n(5),i=n(6),s=n(0),l=n.n(s),u=n(74),c=n.n(u),p=n(61),m=n(1754),d=n(34),f=n(186),h=n(133),y=n(134),g=n(67),v=n(1),b="YYYY/MM/DD";function C(e){return e.map((function(e){return new Date(e)}))}function j(e){return e.map((function(e){return c()(e).format(b)}))}var k=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).formClearHelper=new f.b,e.state={values:e.initialValue,isRange:e.props.element.isRange,isEmpty:!1},e.commitWidgetValue=function(t){e.props.widgetMgr.setStringArrayValue(e.props.element,j(e.state.values),t)},e.onFormCleared=function(){var t=C(e.props.element.default);e.setState({values:t},(function(){return e.commitWidgetValue({fromUi:!0})}))},e.handleChange=function(t){var n=t.date;e.setState({values:Array.isArray(n)?n:[n],isEmpty:!n},(function(){e.state.isEmpty||e.commitWidgetValue({fromUi:!0})}))},e.handleClose=function(){e.state.isEmpty&&e.setState({values:C(e.props.element.default)},(function(){e.commitWidgetValue({fromUi:!0})}))},e.getMaxDate=function(){var t=e.props.element.max;return t&&t.length>0?c()(t,b).toDate():void 0},e}return Object(r.a)(n,[{key:"initialValue",get:function(){var e=this.props.widgetMgr.getStringArrayValue(this.props.element);return C(void 0!==e?e:this.props.element.default)}},{key:"componentDidMount",value:function(){this.props.element.setValue?this.updateFromProtobuf():this.commitWidgetValue({fromUi:!1})}},{key:"componentDidUpdate",value:function(){this.maybeUpdateFromProtobuf()}},{key:"componentWillUnmount",value:function(){this.formClearHelper.disconnect()}},{key:"maybeUpdateFromProtobuf",value:function(){this.props.element.setValue&&this.updateFromProtobuf()}},{key:"updateFromProtobuf",value:function(){var e=this,t=this.props.element.value;this.props.element.setValue=!1,this.setState({values:t.map((function(e){return new Date(e)}))},(function(){e.commitWidgetValue({fromUi:!1})}))}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.element,a=e.disabled,r=e.theme,o=e.widgetMgr,i=this.state,s=i.values,l=i.isRange,u=r.colors,p=r.fontSizes,f={width:t},C=c()(n.min,b).toDate(),j=this.getMaxDate();return this.formClearHelper.manageFormClearListener(o,n.formId,this.onFormCleared),Object(v.jsxs)("div",{className:"stDateInput",style:f,children:[Object(v.jsx)(h.d,{label:n.label,disabled:a,children:n.help&&Object(v.jsx)(h.b,{children:Object(v.jsx)(y.a,{content:n.help,placement:g.a.TOP_RIGHT})})}),Object(v.jsx)(m.a,{formatString:"yyyy/MM/dd",disabled:a,onChange:this.handleChange,onClose:this.handleClose,overrides:{Popover:{props:{placement:d.f.bottomLeft,overrides:{Body:{style:{border:"1px solid ".concat(u.fadedText10)}}}}},CalendarContainer:{style:{fontSize:p.sm}},Week:{style:{fontSize:p.sm}},Day:{style:function(e){return{"::after":{borderColor:e.$selected?u.transparent:""}}}},PrevButton:{style:function(){return{display:"flex",alignItems:"center",justifyContent:"center",":active":{backgroundColor:u.transparent},":focus":{backgroundColor:u.transparent,outline:0}}}},NextButton:{style:{display:"flex",alignItems:"center",justifyContent:"center",":active":{backgroundColor:u.transparent},":focus":{backgroundColor:u.transparent,outline:0}}},Input:{props:{maskChar:null}}},value:s,minDate:C,maxDate:j,range:l})]})}}]),n}(l.a.PureComponent),x=Object(p.f)(k)}}]);
//# sourceMappingURL=40.52e05ecc.chunk.js.map